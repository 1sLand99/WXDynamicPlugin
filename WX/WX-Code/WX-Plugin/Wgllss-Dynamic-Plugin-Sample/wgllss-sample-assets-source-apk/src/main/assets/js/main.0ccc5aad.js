!function(){var t={21341:function(t,e,n){"use strict";n.d(e,{Z:function(){return I}});var r=n(95579),i=n.n(r),o=n(10414),a=n.n(o),s=n(35794),l=n.n(s),c=n(76403),u=n(23598),d=n.n(u),h=n(4475),f=n.n(h),p=2147483647,g=[50,90,150,230,330,480,750,960,1280,1440],m=d()(g).call(g,(function(t){return 1.2*t})),v=Math.max(f().devicePixelRatio||1,2);var y=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t*(e?v:1);if(n>p)return t;var r=m.some((function(t,e){return n<=t&&(n=g[e],!0)}));return r||(n=g[g.length-1]),n},b=n(91308),w=n.n(b);var E=function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},_=n(60756),T={webpAlpha:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",webpAnimation:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},x=function(t,e){var n=new Image,r=function(t){e(!(!t||"load"!==t.type)&&1===n.width)};n.onload=r,n.onerror=r,n.src=T[t]},S={};function L(){var t;if(E())try{var e,n=document.createElement("canvas");if(n.getContext&&n.getContext("2d"))t=0===w()(e=n.toDataURL("image/webp")).call(e,"data:image/webp")}catch(r){t=!1}else t=!1;S.webpAlpha=t,S.webpAnimation=t}E()&&(x("webpAlpha",(function(t){return S.webpAlpha=t})),x("webpAnimation",(function(t){return S.webpAnimation=t})));var k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"webpAlpha";return(0,_.Z)(S[t])&&L(),!!S[t]},A=n(46105),O=n(34150),R=2147483647;function C(t,e){return Math.ceil(e.specificSize||"y"===e.mode?t:y(t,e.withDpr))}var I=function(t){var e,n,r,o,s,u,d;if(!(0,O.Z)(t.src))return"";var h=i()({width:R,height:R,quality:"75",reserveAnimation:!1},t);if(!h.format){var f=new c.Z(h.src).extension();/^gif$/i.test(f)?h.reserveAnimation?h.format=k("webpAnimation")?"awebp":"gif":h.format=k()?"webp":"jpg":k()?h.format="webp":/^(jpe?g|png|bmp)$/i.test(f)?h.format=f:h.format="jpg"}if("gif"===h.format)return h.src;var p=h.protocol;(0,A.Z)(p)||(p=E()?window.location.protocol:"");var g=C(h.width,h),m=C(h.height,h);return a()(e=a()(n=a()(r=a()(o=a()(s=a()(u="".concat(p,"//nimg.ws.126.net/?url=")).call(u,encodeURIComponent(l()(d=h.src).call(d)),"&thumbnail=")).call(s,g)).call(o,h.mode||"x")).call(r,m,"&quality=")).call(n,h.quality,"&type=")).call(e,h.format)}},60928:function(t,e){"use strict";e.Z=function(t){return Array.isArray(t)}},46105:function(t,e){"use strict";e.Z=function(t){return"string"===typeof t}},60756:function(t,e){"use strict";e.Z=function(t){return void 0===t}},34144:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(14385),i=n.n(r);var o=function(t){return"[object Object]"===Object.prototype.toString.call(t)};var a=function(t){return o(t)&&i()(t).length>0}},34150:function(t,e){"use strict";e.Z=function(t){return"string"===typeof t&&""!==t}},76403:function(t,e,n){"use strict";n.d(e,{Z:function(){return V}});var r=n(9981);var i=n(67150),o=n(17876);var a=n(46287),s=n(11675);function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){return function(t){if(r(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof i&&o(t)||t["@@iterator"];if(null!=n){var r,a,s,l,c=[],u=!0,d=!1;try{if(s=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(h){d=!0,a=h}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw a}}return c}}(t,e)||function(t,e){var n;if(t){if("string"===typeof t)return l(t,e);var r=a(n=Object.prototype.toString.call(t)).call(n,8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?s(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=n(9131),d=n(12185);function h(t){return h="function"==typeof i&&"symbol"==typeof d?function(t){return typeof t}:function(t){return t&&"function"==typeof i&&t.constructor===i&&t!==i.prototype?"symbol":typeof t},h(t)}var f=n(4972);function p(t){var e=function(t,e){if("object"!==h(t)||null===t)return t;var n=t[f];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===h(e)?e:String(e)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),u(t,p(r.key),r)}}var m=n(4475),v=n.n(m),y=n(35794),b=n.n(y),w=n(74846),E=n.n(w),_=n(77512),T=n.n(_),x=n(95579),S=n.n(x),L=n(10414),k=n.n(L),A=n(56748),O=n.n(A),R=n(91308),C=n.n(R),I=n(91994),D=n.n(I),N=n(46105),P=n(60756),M=n(34150),F=n(34144),B=n(60928);var U=function(t){return(0,B.Z)(t)&&!!t.length},j=n(82744);var $=function(t){return null===t};function G(t,e){var n;return k()(n="".concat(encodeURIComponent(t),"=")).call(n,$(e)?"":"".concat(encodeURIComponent(String(e))))}var H=function(t){if(!(0,F.Z)(t))return"";var e=[];return D()(t).forEach((function(n){var r=t[n];(0,B.Z)(r)?r.forEach((function(t){(0,P.Z)(t)||e.push(G(n,t))})):(0,P.Z)(r)||e.push(G(n,r))})),e.join("&")};function K(t){var e=[];t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^/]*/g,(function(t){return"/.."===t?e.pop():e.push(t),t}));var n=e.join("");return"/"===n.charAt(0)?n:"/".concat(n)}var V=function(){function t(e,n){var r,i,o,a,s,l;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,s={protocol:"",hostname:"",port:"",pathname:"",searchParams:{},hash:""},(a=p(a="parts"))in o?u(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,(0,P.Z)(e))&&(e=(null===(l=v().location)||void 0===l?void 0:l.href)||"");var c=b()(r=String(e)).call(r).match(/^([^:/?#]+:)?(?:\/\/(([^:/?#]+)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);if(!c)throw new Error('Failed to construct "Url": Invalid param "urlString"');var d,h=c[1]||"",f=c[3]||"",g=c[4]||"",m=c[5]||"",y=c[6]||"",w=c[7]||"";if((!h||!f)&&(n||null!==(i=v().location)&&void 0!==i&&i.href)){var _=new t(n).parts;if(!f){var x,L;if(m||y||(d=_.searchParams),"/"!==m.charAt(0))if(m)m=E()(x=_.pathname).call(x,0,T()(L=_.pathname).call(L,"/")+1)+m;else m=_.pathname;m=K(m),f=_.hostname,"80"===(g=_.port)&&(g="")}h||(h=_.protocol)}this.parts={protocol:h,hostname:f,port:g,pathname:m||"/",searchParams:y?(0,j.Z)(y):S()({},d),hash:w}}var e,n,r;return e=t,(n=[{key:"protocol",value:function(t){return(0,P.Z)(t)?this.parts.protocol:(/^[a-zA-Z]/.test(t)&&(this.parts.protocol="".concat(String(t).split(":")[0],":")),this)}},{key:"hostname",value:function(t){return(0,P.Z)(t)?this.parts.hostname:(this.parts.hostname=String(t),this)}},{key:"port",value:function(t){if((0,P.Z)(t))return this.parts.port;var e=String(t);return(""===e||/^\d+$/.test(e))&&(this.parts.port="80"===e?"":e),this}},{key:"host",value:function(t){if((0,P.Z)(t)){var e,n,r=this.port();return k()(e=k()(n="".concat(this.hostname())).call(n,r?":":"")).call(e,r)}var i=c(String(t).split(":"),2),o=i[0],a=i[1],s=void 0===a?"":a;return this.hostname(o),this.port(s),this}},{key:"origin",value:function(t){var e;if((0,P.Z)(t))return k()(e="".concat(this.protocol(),"//")).call(e,this.host());var n=c(String(t).split("//"),2),r=n[0],i=n[1];return this.protocol(r),this.host(i),this}},{key:"pathname",value:function(t){var e=this.parts.pathname;if((0,P.Z)(t))return e;var n=String(t);return O()(n).call(n,"/")||(n=E()(e).call(e,0,T()(e).call(e,"/")+1)+n),this.parts.pathname=K(n),this}},{key:"filename",value:function(t){var e=this.pathname();return(0,P.Z)(t)?e.split("/").pop()||"":(this.pathname(t),this)}},{key:"extension",value:function(){var t=this.filename(),e=T()(t).call(t,".");return e>-1?E()(t).call(t,e+1):""}},{key:"search",value:function(t){var e=this.parts.searchParams;if((0,P.Z)(t)){var n=H(e);return n?"?".concat(n):""}return!0===t?e:((0,F.Z)(t)?this.parts.searchParams=t:(0,N.Z)(t)&&(this.parts.searchParams=(0,j.Z)(t)),this)}},{key:"hash",value:function(t){var e,n;if((0,P.Z)(t))return this.parts.hash;var r=C()(e=String(t)).call(e,"#");return this.parts.hash="#".concat(E()(n=String(t)).call(n,r+1)),this}},{key:"href",value:function(){var t,e,n;return k()(t=k()(e=k()(n="".concat(this.origin())).call(n,this.pathname())).call(e,this.search())).call(t,this.hash())}},{key:"setSearch",value:function(t,e){var n=this.parts.searchParams;return(0,M.Z)(t)?n[t]=e:(0,F.Z)(t)&&D()(t).forEach((function(e){n[e]=t[e]})),this.parts.searchParams=n,this}},{key:"addSearch",value:function(t,e){var n=this;if((0,F.Z)(t))D()(t).forEach((function(e){n.addSearch(e,t[e])}));else if((0,M.Z)(t)&&!(0,P.Z)(e)){var r,i=this.parts.searchParams,o=i[t];(0,P.Z)(o)?i[t]=e:i[t]=k()(r=[]).call(r,o,e)}return this}},{key:"removeSearch",value:function(t,e){var n=this,r=this.parts.searchParams;if((0,F.Z)(t))D()(t).forEach((function(e){n.removeSearch(e,t[e])}));else if(U(t))t.forEach((function(t){r[t]=void 0}));else if((0,M.Z)(t))if((0,P.Z)(e))r[t]=void 0;else{var i,o,a=k()(i=[]).call(i,e),s=function(t,e){var n=[];return t.forEach((function(t){var r=t;-1===C()(e).call(e,r)&&n.push(t)})),n}(k()(o=[]).call(o,r[t]),a);s.length<=1&&(r[t]=s[0])}return this}},{key:"toString",value:function(){return this.href()}}])&&g(e.prototype,n),r&&g(e,r),u(e,"prototype",{writable:!1}),t}()},82744:function(t,e,n){"use strict";var r=n(4475),i=n.n(r),o=n(34150),a=n(60756),s=n(60928);e.Z=function(t){var e;(0,a.Z)(t)&&(t=(null===(e=i().location)||void 0===e?void 0:e.search)||"");var n={};return t.replace(/([^?=&]+)(=([^&]*))?/g,(function(t,e,r,i){var l=decodeURIComponent(e),c=(0,o.Z)(i)?decodeURIComponent(i):null,u=n[l];return(0,a.Z)(u)?n[l]=c:(0,s.Z)(u)?u.push(c):n[l]=[u,c],""})),n}},80860:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),n(30148);var a=o(n(72049));i(n(72049),e),e.default=a.default},24185:function(t,e){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Breaker=e.BreakState=void 0,function(t){t.OPEN="OPEN",t.CLOSED="CLOSED",t.HALF_OPEN="HALF-OPEN"}(n=e.BreakState||(e.BreakState={}));var r=function(){function t(t){this.failureCount=0,this.lastFailureTime=0;var e=t.maxCount,r=void 0===e?100:e,i=t.retryInterval,o=void 0===i?5e3:i;this.state=n.CLOSED,this.maxCount=r,this.retryInterval=o}return t.getInstance=function(e){var n=e.apiName,r=this.breakers[n];return r||(r=new t(e),this.breakers[n]=r),r},t.prototype.recompute=function(){this.maxCount<=this.failureCount?Date.now()-this.lastFailureTime>this.retryInterval?this.state=n.HALF_OPEN:this.state=n.OPEN:this.state=n.CLOSED},t.prototype.record=function(t){void 0===t&&(t=!1),t?(this.failureCount++,this.lastFailureTime=Date.now()):this.failureCount>0&&this.failureCount--,this.recompute()},t.breakers={},t}();e.Breaker=r},30148:function(){},72049:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),a=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createRequest=e.BreakError=void 0;var l=s(n(14206)),c=n(24185);a(n(14206),e),e.default=l.default;var u=function(t){function e(n){var r=t.call(this,n)||this;return Object.setPrototypeOf(r,e.prototype),r}return r(e,t),e}(Error);e.BreakError=u;e.createRequest=function(t){var n=l.default.create(),r=c.Breaker.getInstance(t);return n.interceptors.request.use((function(t){if(r.recompute(),r.state===c.BreakState.OPEN)throw new u("break open");return t}),(function(t){return Promise.reject(t)})),n.interceptors.response.use((function(t){return r.record(),t}),(function(n){if(!(n instanceof u)){r.record(!0);var o=t.errorRetry,a=void 0===o?0:o;if((a=a>3?3:a)>0&&n.config)return(0,e.createRequest)(i(i({},t),{errorRetry:a-1})).request(n.config)}return Promise.reject(n)})),n}},40209:function(t,e,n){"use strict";var r=n(23356),i=n.n(r),o=n(34150),a={};e.Z=function(t){return(0,o.Z)(t)?(a[t]||(a[t]=new(i())((function(e,n){var r=document.createElement("script");r.onload=e,r.onerror=function(e){delete a[t],n(e)},r.async=!0,r.src=t,document.head.appendChild(r)}))),a[t]):i().reject(new Error("Invalid script src"))}},14206:function(t,e,n){t.exports=n(8057)},14387:function(t,e,n){"use strict";var r=n(67485),i=n(94570),o=n(12940),a=n(60581),s=n(30574),l=n(53845),c=n(38338),u=n(74832),d=n(37354),h=n(28870),f=n(14906);t.exports=function(t){return new Promise((function(e,n){var p,g=t.data,m=t.headers,v=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}r.isFormData(g)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+E)}var _=s(t.baseURL,t.url);function T(){if(b){var r="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:r,config:t,request:b};i((function(t){e(t),y()}),(function(t){n(t),y()}),o),b=null}}if(b.open(t.method.toUpperCase(),a(_,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(T)},b.onabort=function(){b&&(n(new d("Request aborted",d.ECONNABORTED,t,b)),b=null)},b.onerror=function(){n(new d("Network Error",d.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||u;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new d(e,r.clarifyTimeoutError?d.ETIMEDOUT:d.ECONNABORTED,t,b)),b=null},r.isStandardBrowserEnv()){var x=(t.withCredentials||c(_))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;x&&(m[t.xsrfHeaderName]=x)}"setRequestHeader"in b&&r.forEach(m,(function(t,e){"undefined"===typeof g&&"content-type"===e.toLowerCase()?delete m[e]:b.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),v&&"json"!==v&&(b.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){b&&(n(!t||t&&t.type?new h:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),g||(g=null);var S=f(_);S&&-1===["http","https","file"].indexOf(S)?n(new d("Unsupported protocol "+S+":",d.ERR_BAD_REQUEST,t)):b.send(g)}))}},8057:function(t,e,n){"use strict";var r=n(67485),i=n(875),o=n(25029),a=n(44941);var s=function t(e){var n=new o(e),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return t(a(e,n))},s}(n(98396));s.Axios=o,s.CanceledError=n(28870),s.CancelToken=n(34603),s.isCancel=n(21475),s.VERSION=n(73345).version,s.toFormData=n(91020),s.AxiosError=n(37354),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=n(35739),s.isAxiosError=n(35835),t.exports=s,t.exports.default=s},34603:function(t,e,n){"use strict";var r=n(28870);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},28870:function(t,e,n){"use strict";var r=n(37354);function i(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}n(67485).inherits(i,r,{__CANCEL__:!0}),t.exports=i},21475:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},25029:function(t,e,n){"use strict";var r=n(67485),i=n(60581),o=n(68096),a=n(55009),s=n(44941),l=n(30574),c=n(36144),u=c.validators;function d(t){this.defaults=t,this.interceptors={request:new o,response:new o}}d.prototype.request=function(t,e){"string"===typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(t){l.push(t.fulfilled,t.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(l),o=Promise.resolve(e);d.length;)o=o.then(d.shift(),d.shift());return o}for(var h=e;r.length;){var f=r.shift(),p=r.shift();try{h=f(h)}catch(g){p(g);break}}try{o=a(h)}catch(g){return Promise.reject(g)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},d.prototype.getUri=function(t){t=s(this.defaults,t);var e=l(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){d.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(s(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}d.prototype[t]=e(),d.prototype[t+"Form"]=e(!0)})),t.exports=d},37354:function(t,e,n){"use strict";var r=n(67485);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,n,a,s,l){var c=Object.create(o);return r.toFlatObject(t,c,(function(t){return t!==Error.prototype})),i.call(c,t.message,e,n,a,s),c.name=t.name,l&&Object.assign(c,l),c},t.exports=i},68096:function(t,e,n){"use strict";var r=n(67485);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},30574:function(t,e,n){"use strict";var r=n(32642),i=n(72288);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},55009:function(t,e,n){"use strict";var r=n(67485),i=n(9212),o=n(21475),a=n(98396),s=n(28870);function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){return l(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return l(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},44941:function(t,e,n){"use strict";var r=n(67485);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function l(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==l||(n[t]=i)})),n}},94570:function(t,e,n){"use strict";var r=n(37354);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},9212:function(t,e,n){"use strict";var r=n(67485),i=n(98396);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},98396:function(t,e,n){"use strict";var r=n(67485),i=n(51446),o=n(37354),a=n(74832),s=n(91020),l={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var u={transitional:a,adapter:function(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(14387)),t}(),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,o=r.isObject(t),a=e&&e["Content-Type"];if((n=r.isFileList(t))||o&&"multipart/form-data"===a){var l=this.env&&this.env.FormData;return s(n?{"files[]":t}:t,l&&new l)}return o||"application/json"===a?(c(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(a){if("SyntaxError"===s.name)throw o.from(s,o.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(88750)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(l)})),t.exports=u},74832:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},73345:function(t){t.exports={version:"0.27.2"}},875:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},60581:function(t,e,n){"use strict";var r=n(67485);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},72288:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},12940:function(t,e,n){"use strict";var r=n(67485);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},32642:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},35835:function(t,e,n){"use strict";var r=n(67485);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},38338:function(t,e,n){"use strict";var r=n(67485);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},51446:function(t,e,n){"use strict";var r=n(67485);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},88750:function(t){t.exports=null},53845:function(t,e,n){"use strict";var r=n(67485),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},14906:function(t){"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},35739:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},91020:function(t,e,n){"use strict";var r=n(67485);t.exports=function(t,e){e=e||new FormData;var n=[];function i(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(o,a){if(r.isPlainObject(o)||r.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+a);n.push(o),r.forEach(o,(function(n,o){if(!r.isUndefined(n)){var s,l=a?a+"."+o:o;if(n&&!a&&"object"===typeof n)if(r.endsWith(o,"{}"))n=JSON.stringify(n);else if(r.endsWith(o,"[]")&&(s=r.toArray(n)))return void s.forEach((function(t){!r.isUndefined(t)&&e.append(l,i(t))}));t(n,l)}})),n.pop()}else e.append(a,i(o))}(t),e}},36144:function(t,e,n){"use strict";var r=n(73345).version,i=n(37354),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};o.transitional=function(t,e,n){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new i(o(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:function(t,e,n){if("object"!==typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),o=r.length;o-- >0;){var a=r[o],s=e[a];if(s){var l=t[a],c=void 0===l||s(l,a,t);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:o}},67485:function(t,e,n){"use strict";var r,i=n(875),o=Object.prototype.toString,a=(r=Object.create(null),function(t){var e=o.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function l(t){return Array.isArray(t)}function c(t){return"undefined"===typeof t}var u=s("ArrayBuffer");function d(t){return null!==t&&"object"===typeof t}function h(t){if("object"!==a(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var f=s("Date"),p=s("File"),g=s("Blob"),m=s("FileList");function v(t){return"[object Function]"===o.call(t)}var y=s("URLSearchParams");function b(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),l(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}var w,E=(w="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:l,isArrayBuffer:u,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"===typeof FormData&&t instanceof FormData||o.call(t)===e||v(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&u(t.buffer)},isString:function(t){return"string"===typeof t},isNumber:function(t){return"number"===typeof t},isObject:d,isPlainObject:h,isUndefined:c,isDate:f,isFile:p,isBlob:g,isFunction:v,isStream:function(t){return d(t)&&v(t.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:b,merge:function t(){var e={};function n(n,r){h(e[r])&&h(n)?e[r]=t(e[r],n):h(n)?e[r]=t({},n):l(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)b(arguments[r],n);return e},extend:function(t,e,n){return b(e,(function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)},toFlatObject:function(t,e,n){var r,i,o,a={};e=e||{};do{for(i=(r=Object.getOwnPropertyNames(t)).length;i-- >0;)a[o=r[i]]||(e[o]=t[o],a[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:s,endsWith:function(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n},isTypedArray:E,isFileList:m}},24034:function(){window.NTM_getViewerMetrics=function(){var t=document.documentElement,e=t.scrollTop,n=t.clientHeight,r=document.querySelector(".js-article-body"),i=0,o=0;if(r){var a=r.offsetHeight,s=e+r.getBoundingClientRect().top;i=Math.ceil((e-s+n)/a*100),o=Math.ceil(a/n)}return i>100&&(i=100),{custom_read_percent:i,custom_page_count:o}}},27204:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(97095),i=n.n(r),o=n(54085),a=function(t){var e,n=(0,o.a)(i()(t));document.body.appendChild(n),document.body.style.overflow="hidden",null===(e=n.querySelector(".js-dialog-alert-ok"))||void 0===e||e.addEventListener("click",(function(){document.body.removeChild(n),document.body.style.overflow="auto",t.onOk&&t.onOk()}))}},31594:function(t,e,n){"use strict";n.d(e,{u:function(){return a}});var r,i,o=n(54085),a=function(t){r||(r=(0,o.a)('<div class="toast"></div>'),document.body.appendChild(r));var e=(0,o.a)('<div class="toast-content">'.concat(t,"</div>"));r.innerHTML="",r.appendChild(e),window.setTimeout((function(){e.classList.add("toast-content-show")}),0),window.clearTimeout(i),i=window.setTimeout((function(){e.classList.remove("toast-content-show"),i=window.setTimeout((function(){r.innerHTML=""}),300)}),3e3)}},34384:function(t,e,n){"use strict";var r;n.d(e,{L:function(){return r}}),function(t){t[t.INITIAL=0]="INITIAL",t[t.PENDING=1]="PENDING",t[t.OK=2]="OK",t[t.ERROR=3]="ERROR"}(r||(r={}))},17611:function(t,e,n){"use strict";n.d(e,{Ko:function(){return l},Mr:function(){return d},Tt:function(){return h},ar:function(){return u},dl:function(){return i},lL:function(){return s},os:function(){return o},uq:function(){return c},zc:function(){return a}});var r=window.__CLIENT_ENV__||{},i=(r.NODE_ENV,r.ANTNEST_PROJECT_ID||"NTM-5AE0KFYY-2"),o=r.CLIENT_API_HOST||"",a=r.CLIENT_GW_API_HOST||"https://gw.m.163.com",s=r.CLIENT_COMMENT_API_HOST||"https://comment.api.163.com",l=r.CLIENT_IP_API_HOST||"https://ipservice.ws.126.net",c=r.PAY_PAGE||"https://m.163.com/html/newsapp/h5-pay/index.html",u=r.FEEDBACK_PAGE||"https://m.163.com/wap/special/my_feedback/",d=r.VIP_MALL_PAGE||"https://m.163.com/wap/special/vip_mall/",h=r.SYNC_HUB_PAGE||"https://m.163.com/wap/special/sync_hub/"},61429:function(t,e,n){"use strict";n.d(e,{c:function(){return i}}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1});var r={},i=function(t){var e=t.type;return r[e]?r[e].push(t):(r[e]=[t],document.body.addEventListener(e,(function(t){for(var n=r[e],i=t.target;i&&9!==i.nodeType;){for(var o=!1,a=0;a<n.length;a++){var s=n[a],l=s.selector,c=s.callback,u=s.root;if("function"===typeof i.matches){if(i.matches(l)){c(t,i),o=!0;break}if(u&&i.matches(u))break}}if(i=i.parentNode,o)break}}))),function(){var n=r[e],i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},51772:function(t,e,n){"use strict";n.d(e,{y:function(){return o}});var r=n(65809),i=n(82744),o=function(t){var e=(0,i.Z)().did;if(e){var n=document.querySelector(".".concat(t));if(n)for(var o=n.querySelectorAll("a"),a=0;a<o.length;a++){var s=o[a],l=s.getAttribute("href");if(-1===(null===l||void 0===l?void 0:l.indexOf("did="))){var c=l.split("?"),u=(0,r.Z)(c,2),d=u[0],h=u[1],f=(void 0===h?"":h).split("#"),p=(0,r.Z)(f,2),g=p[0],m=void 0===g?"":g,v=p[1],y=void 0===v?"":v;m&&(m+="&"),m+="did=".concat(e),y&&(y="#".concat(y)),s.setAttribute("href","".concat(d,"?").concat(m).concat(y))}}}}},53391:function(t,e,n){"use strict";n.d(e,{x:function(){return a}});var r=n(22951),i=n(91976),o=function(){function t(e){(0,r.Z)(this,t);var n=e.observerOptions,i=void 0===n?{}:n,o=e.callback;this.io=new IntersectionObserver((function(t){t.forEach((function(t){o(t)}))}),i)}return(0,i.Z)(t,[{key:"observe",value:function(t){if("string"===typeof t)for(var e=document.querySelectorAll(t),n=0;n<e.length;n++)this.io.observe(e[n]);else this.io.observe(t)}},{key:"unobserve",value:function(t){if("string"===typeof t)for(var e=document.querySelectorAll(t),n=0;n<e.length;n++)this.io.unobserve(e[n]);else this.io.unobserve(t)}}]),t}(),a=function(t){return new o(t)}},48638:function(t,e,n){"use strict";n.d(e,{X:function(){return u},w:function(){return c}});var r,i=n(65809),o=n(22951),a=n(91976),s=n(21341),l=function(){function t(e){var n=this;(0,o.Z)(this,t);var r=(e||{}).placeholder,a=void 0===r?"https://static.ws.126.net/163/frontend/images/2022/bg.png":r;this.options={placeholder:a},this.io=new IntersectionObserver((function(t){t.forEach((function(t){if(t&&t.isIntersecting){var e=t.target;n.io.unobserve(e);var r=e.dataset,o=r.thumbnail,a=r.gif,l=e.dataset.src,c=void 0===l?"":l;if(o){var u=o.split("x"),d=(0,i.Z)(u,2),h=d[0],f=d[1],p=parseInt(h,10),g=parseInt(f,10),m={src:c,reserveAnimation:"show"===a};p&&(m.width=Math.floor(p/2)),g&&(m.height=Math.floor(g/2)),c=(0,s.Z)(m)}e.src=c}}))}),{rootMargin:"80px"}),this.observe()}return(0,a.Z)(t,[{key:"observe",value:function(){for(var t=this.options.placeholder,e=document.querySelectorAll("img.image-lazy"),n=0;n<e.length;n++){var r=e[n];!r.dataset.noPlaceholder&&t&&(r.src=t),this.io.observe(r),r.classList.remove("image-lazy")}}}]),t}(),c=function(t){return r=new l(t)},u=function(){var t;null===(t=r)||void 0===t||t.observe()}},13756:function(t,e,n){"use strict";n.d(e,{$:function(){return c},t:function(){return u}});var r,i=n(40209),o=n(23036),a=n(18630),s=n(61429),l=new Set,c=function(t){var e=t.channels,n=t.modelid,l=t.projectId;return(0,i.Z)("https://static.ws.126.net/163/frontend/libs/open-newsapp/latest/open-newsapp.min.js").then((function(){window.openNewsapp&&(window.openNewsapp.init({channels:e,projectId:l}),window.openNewsapp.bind({selector:".js-open-app",beforeOpen:function(t,e){var r=t.dataset||{},i=r.act,o=void 0===i?"":i,s=r.category,l=void 0===s?"":s,c=r.position,u=void 0===c?"":c;(0,a.j)({val_act:o,val_nm:a.QJ.click,info:{modelid:n,category:l,position:u}})}}),(0,s.c)({selector:".js-open-app",type:"click",callback:function(t){t.preventDefault()}}),r=(0,o.f)({callback:function(t){var e=t.dataset||{},r=e.act,i=void 0===r?"":r,o=e.category,s=void 0===o?"":o,l=e.position,c=void 0===l?"":l;return{trackData:{val_act:i,val_nm:a.QJ.exposure,info:{modelid:n,category:s,position:c}}}}}),u())}))},u=function(){if(r)for(var t=document.querySelectorAll(".js-open-app"),e=0;e<t.length;e++){var n=t[e];l.has(n)||(l.add(n),r.observe(t[e]))}}},30745:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(18630),i=n(61429),o=function(t){var e=t.selector,n=t.callback;return(0,i.c)({selector:e,type:"click",callback:function(t,e){t.preventDefault();var i=n(e),o=i.url,a=i.trackData;(0,r.j)(a),window.location.href=o}})}},23036:function(t,e,n){"use strict";n.d(e,{f:function(){return o}});var r=n(18630),i=n(53391),o=function(t){var e=t.once,n=void 0===e||e,o=t.callback,a=t.observerOptions,s=void 0===a?{}:a;s.threshold=s.threshold||[.5];var l=(0,i.x)({observerOptions:s,callback:function(t){if(t.isIntersecting){var e=o(t.target).trackData;(0,r.j)(e),n&&l.unobserve(t.target)}}});return l}},95983:function(){Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r})},18630:function(t,e,n){"use strict";n.d(e,{QJ:function(){return v},Fs:function(){return _},NG:function(){return T},fz:function(){return w},zY:function(){return S},j:function(){return E},LK:function(){return x}});var r=n(33940),i=n(27791),o=n(64649);function a(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var s=n(17611),l=["info"],c=["info"],u=["info"],d=["info"];function h(){h=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(A){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof f?e:f,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=c;var d={};function f(){}function p(){}function g(){}var m={};l(m,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&n.call(y,o)&&(m=y);var b=g.prototype=f.prototype=Object.create(m);function w(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function i(o,a,s,l){var c=u(t[o],t,a);if("throw"!==c.type){var d=c.arg,h=d.value;return h&&"object"==(0,r.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,s,l)}),(function(t){i("throw",t,s,l)})):e.resolve(h).then((function(t){d.value=t,s(d)}),(function(t){return i("throw",t,s,l)}))}l(c.arg)}var o;this._invoke=function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=g,l(b,"constructor",g),l(g,"constructor",p),p.displayName=l(g,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,s,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),l(b,s,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=[],m=[];window.NTESAntAnalysis||window.addEventListener("NTMReady",(function(){b()}));var v,y,b=function t(){if(window.NTESAntAnalysis&&(0!==g.length||0!==m.length)){if(g.length>0){var e=g.shift();window.NTESAntAnalysis.sendData(e)}if(m.length>0){var n=m.shift();window.NTESAntAnalysis.sendDataByBeacon(n)}t()}};!function(t){t.click="click",t.exposure="exposure",t.click_ad="click_ad",t.exposure_ad="exposure_ad",t.exposure_ad_position_general="exposure_ad_position_general",t.download="download",t.abTest="abTest",t.other="other"}(v||(v={}));var w=function(t){y=t},E=function(t){var e=y||{},n=e.info,r=a(e,l),i=p({projectid:s.dl,info:p({},n)},r),o=t.info,u=a(t,c);Object.assign(i,u),Object.assign(i.info,o),g.push(i),b()},_=function(){return new Promise((function(t){if(window.NTESAntAnalysis)t(window.NTESAntAnalysis.info.uid);else{var e=window.localStorage.getItem("ntesSpsuid");e?t(e):window.addEventListener("NTMReady",(function(){t(window.NTESAntAnalysis.info.uid)}))}}))},T=function(){return window.NTESAntAnalysis?window.NTESAntAnalysis.info.uid:window.localStorage.getItem("ntesSpsuid")||""},x=function(t){var e=y||{},n=e.info,r=a(e,u),i=p({projectid:s.dl,info:p({},n)},r),o=t.info,l=a(t,d);Object.assign(i,l),Object.assign(i.info,o),m.push(i),b()},S=function(){var t=(0,i.Z)(h().mark((function t(e){var n,r;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:return n=t.sent,r=n.slice(-1).toLowerCase(),t.abrupt("return",e.some((function(t){return t===r})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},54085:function(t,e,n){"use strict";n.d(e,{a:function(){return r}});var r=function(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}},7886:function(t,e,n){"use strict";n.d(e,{R:function(){return r}});var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,r){var i=e.callbackQuery,o=e.callbackName,a=void 0===o?"jsonp_".concat((Math.floor(1e5*Math.random())*Date.now()).toString(16)):o,s=e.timeout,l=void 0===s?-1:s,c=e.params,u=void 0===c?{}:c;i&&(u[i]=a);var d=[];Object.keys(u).forEach((function(t){d.push(encodeURIComponent(t)+"="+encodeURIComponent(u[t]))}));var h,f=d.join("&"),p=function(){g(),window.clearTimeout(h),r({status:400,statusText:"Bad Request"})},g=function(){v.removeEventListener("error",p)},m=function(){document.body.removeChild(v),delete window[a]};l>-1&&(h=window.setTimeout((function(){g(),m(),r({statusText:"Request Timeout",status:408})}),l)),window[a]=function(t){window.clearTimeout(h),g(),m(),n(t)};var v=document.createElement("script");v.addEventListener("error",p),v.src=t+(/\?/.test(t)?"&":"?")+f,document.body.appendChild(v)}))}},33907:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(t){return"number"!==typeof t?"":t>99999?"".concat((t/1e4).toFixed(0),"\u4e07"):t>9999?"".concat((t/1e4).toFixed(1),"\u4e07"):t}},9659:function(t,e,n){"use strict";n.d(e,{C0:function(){return b},Dt:function(){return m},FO:function(){return a},GP:function(){return v},I:function(){return o},IX:function(){return f},L7:function(){return y},Xe:function(){return p},b9:function(){return w},dw:function(){return s},fo:function(){return u},m6:function(){return E},s:function(){return i},ux:function(){return g},z6:function(){return h},zS:function(){return d}});var r=window.navigator.userAgent,i=(r.match(/OS 5_/i),r.match(/OS 9_/i),r.match(/iphone/gi),!!r.match(/iphone|ipad/gi)),o=(r.match(/ipad/gi),!!r.match(/NewsApp/gi)),a=(r.match(/Windows Phone/gi),!!r.match(/MicroMessenger/gi)),s=!!r.match(/weibo/gi),l=!!r.match(/sogoumobilebrowser/gi),c=!!r.match(/QihooBrowser/gi),u=!!r.match(/UCBrowser/gi),d=!!r.match(/Quark/gi),h=(r.match(/MiuiBrowser/gi),r.indexOf("Baiduspider"),r.match(/(spider|googlebot|bingbot|Mediapartners-Google)/i),!(!r.match(/MQQBrowser/gi)||r.match(/MicroMessenger/gi)||r.match(/QQ\//gi))),f=!!r.match(/baidu/gi),p=!!r.match(/yixin/gi),g=!!r.match(/popo/gi),m=(r.indexOf("Trident"),r.indexOf("Presto"),r.indexOf("AppleWebKit"),r.indexOf("Gecko")>-1&&r.indexOf("KHTML"),r.match(/AppleWebKit.*Mobile.*/),r.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),r.indexOf("Android")>-1||r.indexOf("Adr")>-1),v=(r.indexOf("Safari"),!!r.match(/QQ\//i)),y=!!r.match(/NewsArticle/i)||!!r.match(/TTWebView/i),b=/MicroMessenger.*miniProgram/i.test(r),w=(function(){var t=!!window.isLBBrowser;/applewebkit\/\d+(\.\d+)*\d+\s*\(KHTML,\s*like\s*Gecko\)\s*version\/\d+(\.\d+)*\.\d+\s*mobile\/\d+\w\d+\s*safari\/\d+(\.\d+)*\.\d+$/i.test(r)}(),null==r.match(/iphone|ipad|ipod/gi)&&null==r.match(/Android/gi)&&null==r.match(/Windows Phone/gi)),E=(h&&r.indexOf("Android"),window._REFER_VAL,f||window._REFER_VAL,y||"toutiao"===window._REFER_VAL)},46090:function(t,e,n){"use strict";n.d(e,{U:function(){return o}});var r=n(80860),i=n.n(r);i().defaults.timeout=5e3,i().defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var o=r.createRequest},35875:function(t,e,n){"use strict";n.d(e,{T:function(){return i}});var r=n(30126),i=function(t){var e=t?t.length:0;if(!e)return[];for(var n=-1,i=e-1,o=(0,r.Z)(t);++n<e;){var a=n+Math.floor(Math.random()*(i-n+1)),s=o[a];o[a]=o[n],o[n]=s}return o}},9610:function(t,e,n){var r=n(7945);t.exports=r},47563:function(t,e,n){var r=n(98010);t.exports=r},33834:function(t,e,n){var r=n(67922);t.exports=r},45971:function(t,e,n){var r=n(65140);t.exports=r},96792:function(t,e,n){var r=n(10671);t.exports=r},66453:function(t,e,n){var r=n(8531);t.exports=r},73817:function(t,e,n){var r=n(23355);n(29085),t.exports=r},32396:function(t,e,n){var r=n(16888);t.exports=r},51745:function(t,e,n){var r=n(55013);t.exports=r},45109:function(t,e,n){n(18109),n(2166);var r=n(39081);t.exports=r.Array.from},1316:function(t,e,n){n(69506);var r=n(39081);t.exports=r.Array.isArray},63641:function(t,e,n){n(33075);var r=n(12018);t.exports=r("Array").concat},25197:function(t,e,n){n(30194);var r=n(12018);t.exports=r("Array").indexOf},65958:function(t,e,n){n(15280);var r=n(12018);t.exports=r("Array").lastIndexOf},70474:function(t,e,n){n(82478);var r=n(12018);t.exports=r("Array").map},51001:function(t,e,n){n(25313);var r=n(12018);t.exports=r("Array").slice},33386:function(t,e,n){n(2228),n(18109);var r=n(75018);t.exports=r},631:function(t,e,n){n(26211),t.exports=n(42868)},47543:function(t,e,n){var r=n(35792),i=n(63641),o=Array.prototype;t.exports=function(t){var e=t.concat;return t===o||r(o,t)&&e===o.concat?i:e}},24825:function(t,e,n){var r=n(35792),i=n(25197),o=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===o||r(o,t)&&e===o.indexOf?i:e}},93742:function(t,e,n){var r=n(35792),i=n(65958),o=Array.prototype;t.exports=function(t){var e=t.lastIndexOf;return t===o||r(o,t)&&e===o.lastIndexOf?i:e}},30238:function(t,e,n){var r=n(35792),i=n(70474),o=Array.prototype;t.exports=function(t){var e=t.map;return t===o||r(o,t)&&e===o.map?i:e}},51285:function(t,e,n){var r=n(35792),i=n(51001),o=Array.prototype;t.exports=function(t){var e=t.slice;return t===o||r(o,t)&&e===o.slice?i:e}},21879:function(t,e,n){var r=n(35792),i=n(54840),o=String.prototype;t.exports=function(t){var e=t.startsWith;return"string"==typeof t||t===o||r(o,t)&&e===o.startsWith?i:e}},98949:function(t,e,n){var r=n(35792),i=n(99119),o=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===o||r(o,t)&&e===o.trim?i:e}},92529:function(t,e,n){n(88524);var r=n(39081);t.exports=r.Object.assign},76854:function(t,e,n){n(96764);var r=n(39081).Object,i=t.exports=function(t,e,n){return r.defineProperty(t,e,n)};r.defineProperty.sham&&(i.sham=!0)},14276:function(t,e,n){n(35473);var r=n(39081).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},88116:function(t,e,n){n(28390);var r=n(39081);t.exports=r.Object.keys},37281:function(t,e,n){n(36454),n(2228),n(92575),n(73658),n(64465),n(28359),n(55203),n(18109);var r=n(39081);t.exports=r.Promise},54840:function(t,e,n){n(76525);var r=n(12018);t.exports=r("String").startsWith},99119:function(t,e,n){n(58217);var r=n(12018);t.exports=r("String").trim},1442:function(t,e,n){n(33075),n(92575),n(48318),n(75762),n(32181),n(38848),n(73719),n(32362),n(20346),n(888),n(80909),n(11992),n(58512),n(6165),n(66044),n(64676),n(20263),n(13596),n(21227),n(16268);var r=n(39081);t.exports=r.Symbol},31190:function(t,e,n){n(2228),n(92575),n(18109),n(32362);var r=n(63379);t.exports=r.f("iterator")},95261:function(t,e,n){n(42041),n(66044);var r=n(63379);t.exports=r.f("toPrimitive")},54640:function(t,e,n){t.exports=n(65458)},30846:function(t,e,n){t.exports=n(90984)},97686:function(t,e,n){t.exports=n(17654)},76434:function(t,e,n){t.exports=n(74243)},79863:function(t,e,n){t.exports=n(14414)},75723:function(t,e,n){t.exports=n(747)},30156:function(t,e,n){t.exports=n(84632)},97754:function(t,e,n){t.exports=n(44339)},4133:function(t,e,n){t.exports=n(66252)},65458:function(t,e,n){var r=n(9610);t.exports=r},90984:function(t,e,n){var r=n(47563);t.exports=r},17654:function(t,e,n){var r=n(33834);t.exports=r},74243:function(t,e,n){n(47995);var r=n(45971);t.exports=r},14414:function(t,e,n){var r=n(96792);t.exports=r},747:function(t,e,n){var r=n(66453);t.exports=r},84632:function(t,e,n){var r=n(73817);n(68812),n(43627),n(18830),n(7384),n(39928),n(32994),n(14719),n(29431),n(24803),t.exports=r},44339:function(t,e,n){var r=n(32396);t.exports=r},66252:function(t,e,n){var r=n(51745);t.exports=r},55222:function(t,e,n){var r=n(58307),i=n(87265),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a function")}},22736:function(t,e,n){var r=n(61775),i=n(87265),o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not a constructor")}},99154:function(t,e,n){var r=n(58307),i=String,o=TypeError;t.exports=function(t){if("object"==typeof t||r(t))return t;throw o("Can't set "+i(t)+" as a prototype")}},37710:function(t){t.exports=function(){}},88792:function(t,e,n){var r=n(35792),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw i("Incorrect invocation")}},51912:function(t,e,n){var r=n(13359),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw o(i(t)+" is not an object")}},94746:function(t,e,n){"use strict";var r=n(27673),i=n(83146),o=n(32058),a=n(27647),s=n(86475),l=n(61775),c=n(29876),u=n(90409),d=n(45945),h=n(75018),f=Array;t.exports=function(t){var e=o(t),n=l(this),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g;m&&(g=r(g,p>2?arguments[2]:void 0));var v,y,b,w,E,_,T=h(e),x=0;if(!T||this===f&&s(T))for(v=c(e),y=n?new this(v):f(v);v>x;x++)_=m?g(e[x],x):e[x],u(y,x,_);else for(E=(w=d(e,T)).next,y=n?new this:[];!(b=i(E,w)).done;x++)_=m?a(w,g,[b.value,x],!0):b.value,u(y,x,_);return y.length=x,y}},87075:function(t,e,n){var r=n(3861),i=n(53055),o=n(29876),a=function(t){return function(e,n,a){var s,l=r(e),c=o(l),u=i(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},64206:function(t,e,n){var r=n(27673),i=n(93880),o=n(11251),a=n(32058),s=n(29876),l=n(48136),c=i([].push),u=function(t){var e=1==t,n=2==t,i=3==t,u=4==t,d=6==t,h=7==t,f=5==t||d;return function(p,g,m,v){for(var y,b,w=a(p),E=o(w),_=r(g,m),T=s(E),x=0,S=v||l,L=e?S(p,T):n||h?S(p,0):void 0;T>x;x++)if((f||x in E)&&(b=_(y=E[x],x,w),t))if(e)L[x]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:c(L,y)}else switch(t){case 4:return!1;case 7:c(L,y)}return d?-1:i||u?u:L}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},57965:function(t,e,n){"use strict";var r=n(66266),i=n(3861),o=n(25511),a=n(29876),s=n(46628),l=Math.min,c=[].lastIndexOf,u=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),h=u||!d;t.exports=h?function(t){if(u)return r(c,this,arguments)||0;var e=i(this),n=a(e),s=n-1;for(arguments.length>1&&(s=l(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in e&&e[s]===t)return s||0;return-1}:c},72143:function(t,e,n){var r=n(76530),i=n(35712),o=n(38233),a=i("species");t.exports=function(t){return o>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},46628:function(t,e,n){"use strict";var r=n(76530);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},96901:function(t,e,n){var r=n(53055),i=n(29876),o=n(90409),a=Array,s=Math.max;t.exports=function(t,e,n){for(var l=i(t),c=r(e,l),u=r(void 0===n?l:n,l),d=a(s(u-c,0)),h=0;c<u;c++,h++)o(d,h,t[c]);return d.length=h,d}},4735:function(t,e,n){var r=n(93880);t.exports=r([].slice)},43400:function(t,e,n){var r=n(21054),i=n(61775),o=n(13359),a=n(35712)("species"),s=Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,(i(e)&&(e===s||r(e.prototype))||o(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?s:e}},48136:function(t,e,n){var r=n(43400);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},27647:function(t,e,n){var r=n(51912),i=n(80309);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(a){i(t,"throw",a)}}},58908:function(t,e,n){var r=n(35712)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(s){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(s){}return n}},21570:function(t,e,n){var r=n(93880),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},67499:function(t,e,n){var r=n(48889),i=n(58307),o=n(21570),a=n(35712)("toStringTag"),s=Object,l="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=s(t),a))?n:l?o(e):"Object"==(r=o(e))&&i(e.callee)?"Arguments":r}},54498:function(t,e,n){var r=n(85584),i=n(15340),o=n(75904),a=n(57550);t.exports=function(t,e,n){for(var s=i(e),l=a.f,c=o.f,u=0;u<s.length;u++){var d=s[u];r(t,d)||n&&r(n,d)||l(t,d,c(e,d))}}},51722:function(t,e,n){var r=n(35712)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(i){}}return!1}},10872:function(t,e,n){var r=n(76530);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},5334:function(t){t.exports=function(t,e){return{value:t,done:e}}},28518:function(t,e,n){var r=n(67001),i=n(57550),o=n(95595);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},95595:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},90409:function(t,e,n){"use strict";var r=n(15623),i=n(57550),o=n(95595);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},8297:function(t,e,n){var r=n(57550);t.exports=function(t,e,n){return r.f(t,e,n)}},80491:function(t,e,n){var r=n(28518);t.exports=function(t,e,n,i){return i&&i.enumerable?t[e]=n:r(t,e,n),t}},96868:function(t,e,n){var r=n(42868),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},67001:function(t,e,n){var r=n(76530);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},30002:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},60231:function(t,e,n){var r=n(42868),i=n(13359),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},33956:function(t){var e=TypeError;t.exports=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t}},60315:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},76610:function(t,e,n){var r=n(64733),i=n(6521);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},64733:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},76405:function(t,e,n){var r=n(56900);t.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},86540:function(t,e,n){var r=n(56900);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},6521:function(t,e,n){var r=n(21570);t.exports="undefined"!=typeof process&&"process"==r(process)},4010:function(t,e,n){var r=n(56900);t.exports=/web0s(?!.*chrome)/i.test(r)},56900:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},38233:function(t,e,n){var r,i,o=n(42868),a=n(56900),s=o.process,l=o.Deno,c=s&&s.versions||l&&l.version,u=c&&c.v8;u&&(i=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},12018:function(t,e,n){var r=n(39081);t.exports=function(t){return r[t+"Prototype"]}},82712:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},94941:function(t,e,n){var r=n(93880),i=Error,o=r("".replace),a=String(i("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,l=s.test(a);t.exports=function(t,e){if(l&&"string"==typeof t&&!i.prepareStackTrace)for(;e--;)t=o(t,s,"");return t}},62950:function(t,e,n){var r=n(28518),i=n(94941),o=n(28417),a=Error.captureStackTrace;t.exports=function(t,e,n,s){o&&(a?a(t,e):r(t,"stack",i(n,s)))}},28417:function(t,e,n){var r=n(76530),i=n(95595);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},70390:function(t,e,n){"use strict";var r=n(42868),i=n(66266),o=n(42866),a=n(58307),s=n(75904).f,l=n(81011),c=n(39081),u=n(27673),d=n(28518),h=n(85584),f=function(t){var e=function(n,r,o){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,r)}return new t(n,r,o)}return i(t,this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var n,i,p,g,m,v,y,b,w,E=t.target,_=t.global,T=t.stat,x=t.proto,S=_?r:T?r[E]:(r[E]||{}).prototype,L=_?c:c[E]||d(c,E,{})[E],k=L.prototype;for(g in e)i=!(n=l(_?g:E+(T?".":"#")+g,t.forced))&&S&&h(S,g),v=L[g],i&&(y=t.dontCallGetSet?(w=s(S,g))&&w.value:S[g]),m=i&&y?y:e[g],i&&typeof v==typeof m||(b=t.bind&&i?u(m,r):t.wrap&&i?f(m):x&&a(m)?o(m):m,(t.sham||m&&m.sham||v&&v.sham)&&d(b,"sham",!0),d(L,g,b),x&&(h(c,p=E+"Prototype")||d(c,p,{}),d(c[p],g,m),t.real&&k&&(n||!k[g])&&d(k,g,m)))}},76530:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},66266:function(t,e,n){var r=n(99086),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},27673:function(t,e,n){var r=n(42866),i=n(55222),o=n(99086),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},99086:function(t,e,n){var r=n(76530);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},83146:function(t,e,n){var r=n(99086),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},47730:function(t,e,n){var r=n(67001),i=n(85584),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),l=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:l,CONFIGURABLE:c}},17033:function(t,e,n){var r=n(93880),i=n(55222);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},42866:function(t,e,n){var r=n(21570),i=n(93880);t.exports=function(t){if("Function"===r(t))return i(t)}},93880:function(t,e,n){var r=n(99086),i=Function.prototype,o=i.call,a=r&&i.bind.bind(o,o);t.exports=r?a:function(t){return function(){return o.apply(t,arguments)}}},78104:function(t,e,n){var r=n(39081),i=n(42868),o=n(58307),a=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},75018:function(t,e,n){var r=n(67499),i=n(62809),o=n(81606),a=n(89418),s=n(35712)("iterator");t.exports=function(t){if(!o(t))return i(t,s)||i(t,"@@iterator")||a[r(t)]}},45945:function(t,e,n){var r=n(83146),i=n(55222),o=n(51912),a=n(87265),s=n(75018),l=TypeError;t.exports=function(t,e){var n=arguments.length<2?s(t):e;if(i(n))return o(r(n,t));throw l(a(t)+" is not iterable")}},84317:function(t,e,n){var r=n(93880),i=n(21054),o=n(58307),a=n(21570),s=n(55264),l=r([].push);t.exports=function(t){if(o(t))return t;if(i(t)){for(var e=t.length,n=[],r=0;r<e;r++){var c=t[r];"string"==typeof c?l(n,c):"number"!=typeof c&&"Number"!=a(c)&&"String"!=a(c)||l(n,s(c))}var u=n.length,d=!0;return function(t,e){if(d)return d=!1,e;if(i(this))return e;for(var r=0;r<u;r++)if(n[r]===t)return e}}}},62809:function(t,e,n){var r=n(55222),i=n(81606);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},42868:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||this||Function("return this")()},85584:function(t,e,n){var r=n(93880),i=n(32058),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},17048:function(t){t.exports={}},38471:function(t){t.exports=function(t,e){try{1==arguments.length?console.error(t):console.error(t,e)}catch(n){}}},35644:function(t,e,n){var r=n(78104);t.exports=r("document","documentElement")},20640:function(t,e,n){var r=n(67001),i=n(76530),o=n(60231);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},11251:function(t,e,n){var r=n(93880),i=n(76530),o=n(21570),a=Object,s=r("".split);t.exports=i((function(){return!a("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?s(t,""):a(t)}:a},31494:function(t,e,n){var r=n(93880),i=n(58307),o=n(92656),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},68525:function(t,e,n){var r=n(13359),i=n(28518);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},55875:function(t,e,n){var r,i,o,a=n(33013),s=n(42868),l=n(13359),c=n(28518),u=n(85584),d=n(92656),h=n(5039),f=n(17048),p="Object already initialized",g=s.TypeError,m=s.WeakMap;if(a||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(t,e){if(v.has(t))throw g(p);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},o=function(t){return v.has(t)}}else{var y=h("state");f[y]=!0,r=function(t,e){if(u(t,y))throw g(p);return e.facade=t,c(t,y,e),e},i=function(t){return u(t,y)?t[y]:{}},o=function(t){return u(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}}}},86475:function(t,e,n){var r=n(35712),i=n(89418),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},21054:function(t,e,n){var r=n(21570);t.exports=Array.isArray||function(t){return"Array"==r(t)}},58307:function(t,e,n){var r=n(30002),i=r.all;t.exports=r.IS_HTMLDDA?function(t){return"function"==typeof t||t===i}:function(t){return"function"==typeof t}},61775:function(t,e,n){var r=n(93880),i=n(76530),o=n(58307),a=n(67499),s=n(78104),l=n(31494),c=function(){},u=[],d=s("Reflect","construct"),h=/^\s*(?:class|function)\b/,f=r(h.exec),p=!h.exec(c),g=function(t){if(!o(t))return!1;try{return d(c,u,t),!0}catch(e){return!1}},m=function(t){if(!o(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(h,l(t))}catch(e){return!0}};m.sham=!0,t.exports=!d||i((function(){var t;return g(g.call)||!g(Object)||!g((function(){t=!0}))||t}))?m:g},81011:function(t,e,n){var r=n(76530),i=n(58307),o=/#|\.prototype\./,a=function(t,e){var n=l[s(t)];return n==u||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=a.data={},c=a.NATIVE="N",u=a.POLYFILL="P";t.exports=a},81606:function(t){t.exports=function(t){return null===t||void 0===t}},13359:function(t,e,n){var r=n(58307),i=n(30002),o=i.all;t.exports=i.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:r(t)||t===o}:function(t){return"object"==typeof t?null!==t:r(t)}},68367:function(t){t.exports=!0},56858:function(t,e,n){var r=n(13359),i=n(21570),o=n(35712)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},91149:function(t,e,n){var r=n(78104),i=n(58307),o=n(35792),a=n(36530),s=Object;t.exports=a?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,s(t))}},83906:function(t,e,n){var r=n(27673),i=n(83146),o=n(51912),a=n(87265),s=n(86475),l=n(29876),c=n(35792),u=n(45945),d=n(75018),h=n(80309),f=TypeError,p=function(t,e){this.stopped=t,this.result=e},g=p.prototype;t.exports=function(t,e,n){var m,v,y,b,w,E,_,T=n&&n.that,x=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_RECORD),L=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),A=r(e,T),O=function(t){return m&&h(m,"normal",t),new p(!0,t)},R=function(t){return x?(o(t),k?A(t[0],t[1],O):A(t[0],t[1])):k?A(t,O):A(t)};if(S)m=t.iterator;else if(L)m=t;else{if(!(v=d(t)))throw f(a(t)+" is not iterable");if(s(v)){for(y=0,b=l(t);b>y;y++)if((w=R(t[y]))&&c(g,w))return w;return new p(!1)}m=u(t,v)}for(E=S?t.next:m.next;!(_=i(E,m)).done;){try{w=R(_.value)}catch(C){h(m,"throw",C)}if("object"==typeof w&&w&&c(g,w))return w}return new p(!1)}},80309:function(t,e,n){var r=n(83146),i=n(51912),o=n(62809);t.exports=function(t,e,n){var a,s;i(t);try{if(!(a=o(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(l){s=!0,a=l}if("throw"===e)throw n;if(s)throw a;return i(a),n}},72340:function(t,e,n){"use strict";var r=n(87300).IteratorPrototype,i=n(52491),o=n(95595),a=n(16738),s=n(89418),l=function(){return this};t.exports=function(t,e,n,c){var u=e+" Iterator";return t.prototype=i(r,{next:o(+!c,n)}),a(t,u,!1,!0),s[u]=l,t}},5241:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(68367),a=n(47730),s=n(58307),l=n(72340),c=n(42629),u=n(25255),d=n(16738),h=n(28518),f=n(80491),p=n(35712),g=n(89418),m=n(87300),v=a.PROPER,y=a.CONFIGURABLE,b=m.IteratorPrototype,w=m.BUGGY_SAFARI_ITERATORS,E=p("iterator"),_="keys",T="values",x="entries",S=function(){return this};t.exports=function(t,e,n,a,p,m,L){l(n,e,a);var k,A,O,R=function(t){if(t===p&&P)return P;if(!w&&t in D)return D[t];switch(t){case _:case T:case x:return function(){return new n(this,t)}}return function(){return new n(this)}},C=e+" Iterator",I=!1,D=t.prototype,N=D[E]||D["@@iterator"]||p&&D[p],P=!w&&N||R(p),M="Array"==e&&D.entries||N;if(M&&(k=c(M.call(new t)))!==Object.prototype&&k.next&&(o||c(k)===b||(u?u(k,b):s(k[E])||f(k,E,S)),d(k,C,!0,!0),o&&(g[C]=S)),v&&p==T&&N&&N.name!==T&&(!o&&y?h(D,"name",T):(I=!0,P=function(){return i(N,this)})),p)if(A={values:R(T),keys:m?P:R(_),entries:R(x)},L)for(O in A)(w||I||!(O in D))&&f(D,O,A[O]);else r({target:e,proto:!0,forced:w||I},A);return o&&!L||D[E]===P||f(D,E,P,{name:p}),g[e]=P,A}},87300:function(t,e,n){"use strict";var r,i,o,a=n(76530),s=n(58307),l=n(13359),c=n(52491),u=n(42629),d=n(80491),h=n(35712),f=n(68367),p=h("iterator"),g=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(r=i):g=!0),!l(r)||a((function(){var t={};return r[p].call(t)!==t}))?r={}:f&&(r=c(r)),s(r[p])||d(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:g}},89418:function(t){t.exports={}},29876:function(t,e,n){var r=n(23746);t.exports=function(t){return r(t.length)}},12047:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},48054:function(t,e,n){var r,i,o,a,s,l=n(42868),c=n(27673),u=n(75904).f,d=n(86569).set,h=n(34777),f=n(86540),p=n(76405),g=n(4010),m=n(6521),v=l.MutationObserver||l.WebKitMutationObserver,y=l.document,b=l.process,w=l.Promise,E=u(l,"queueMicrotask"),_=E&&E.value;if(!_){var T=new h,x=function(){var t,e;for(m&&(t=b.domain)&&t.exit();e=T.get();)try{e()}catch(n){throw T.head&&r(),n}t&&t.enter()};f||m||g||!v||!y?!p&&w&&w.resolve?((a=w.resolve(void 0)).constructor=w,s=c(a.then,a),r=function(){s(x)}):m?r=function(){b.nextTick(x)}:(d=c(d,l),r=function(){d(x)}):(i=!0,o=y.createTextNode(""),new v(x).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),_=function(t){T.head||r(),T.add(t)}}t.exports=_},54130:function(t,e,n){"use strict";var r=n(55222),i=TypeError,o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw i("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},17515:function(t,e,n){var r=n(55264);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},69611:function(t,e,n){var r=n(56858),i=TypeError;t.exports=function(t){if(r(t))throw i("The method doesn't accept regular expressions");return t}},43210:function(t,e,n){"use strict";var r=n(67001),i=n(93880),o=n(83146),a=n(76530),s=n(50461),l=n(63764),c=n(71156),u=n(32058),d=n(11251),h=Object.assign,f=Object.defineProperty,p=i([].concat);t.exports=!h||a((function(){if(r&&1!==h({b:1},h(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||s(h({},e)).join("")!=i}))?function(t,e){for(var n=u(t),i=arguments.length,a=1,h=l.f,f=c.f;i>a;)for(var g,m=d(arguments[a++]),v=h?p(s(m),h(m)):s(m),y=v.length,b=0;y>b;)g=v[b++],r&&!o(f,m,g)||(n[g]=m[g]);return n}:h},52491:function(t,e,n){var r,i=n(51912),o=n(54686),a=n(82712),s=n(17048),l=n(35644),c=n(60231),u=n(5039),d=u("IE_PROTO"),h=function(){},f=function(t){return"<script>"+t+"</"+"script>"},p=function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}g="undefined"!=typeof document?document.domain&&r?p(r):function(){var t,e=c("iframe");return e.style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F}():p(r);for(var t=a.length;t--;)delete g.prototype[a[t]];return g()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(h.prototype=i(t),n=new h,h.prototype=null,n[d]=t):n=g(),void 0===e?n:o.f(n,e)}},54686:function(t,e,n){var r=n(67001),i=n(77139),o=n(57550),a=n(51912),s=n(3861),l=n(50461);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);for(var n,r=s(e),i=l(e),c=i.length,u=0;c>u;)o.f(t,n=i[u++],r[n]);return t}},57550:function(t,e,n){var r=n(67001),i=n(20640),o=n(77139),a=n(51912),s=n(15623),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",f="writable";e.f=r?o?function(t,e,n){if(a(t),e=s(e),a(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n.writable){var r=u(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:h in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(a(t),e=s(e),a(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},75904:function(t,e,n){var r=n(67001),i=n(83146),o=n(71156),a=n(95595),s=n(3861),l=n(15623),c=n(85584),u=n(20640),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=l(e),u)try{return d(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},26159:function(t,e,n){var r=n(21570),i=n(3861),o=n(79035).f,a=n(96901),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"Window"==r(t)?function(t){try{return o(t)}catch(e){return a(s)}}(t):o(i(t))}},79035:function(t,e,n){var r=n(1247),i=n(82712).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},63764:function(t,e){e.f=Object.getOwnPropertySymbols},42629:function(t,e,n){var r=n(85584),i=n(58307),o=n(32058),a=n(5039),s=n(10872),l=a("IE_PROTO"),c=Object,u=c.prototype;t.exports=s?c.getPrototypeOf:function(t){var e=o(t);if(r(e,l))return e[l];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?u:null}},35792:function(t,e,n){var r=n(93880);t.exports=r({}.isPrototypeOf)},1247:function(t,e,n){var r=n(93880),i=n(85584),o=n(3861),a=n(87075).indexOf,s=n(17048),l=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,u=[];for(n in r)!i(s,n)&&i(r,n)&&l(u,n);for(;e.length>c;)i(r,n=e[c++])&&(~a(u,n)||l(u,n));return u}},50461:function(t,e,n){var r=n(1247),i=n(82712);t.exports=Object.keys||function(t){return r(t,i)}},71156:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},25255:function(t,e,n){var r=n(17033),i=n(51912),o=n(99154);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},22204:function(t,e,n){"use strict";var r=n(48889),i=n(67499);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},69466:function(t,e,n){var r=n(83146),i=n(58307),o=n(13359),a=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!o(s=r(n,t)))return s;if(i(n=t.valueOf)&&!o(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!o(s=r(n,t)))return s;throw a("Can't convert object to primitive value")}},15340:function(t,e,n){var r=n(78104),i=n(93880),o=n(79035),a=n(63764),s=n(51912),l=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?l(e,n(t)):e}},39081:function(t){t.exports={}},34618:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},14569:function(t,e,n){var r=n(42868),i=n(70480),o=n(58307),a=n(81011),s=n(31494),l=n(35712),c=n(76610),u=n(64733),d=n(68367),h=n(38233),f=i&&i.prototype,p=l("species"),g=!1,m=o(r.PromiseRejectionEvent),v=a("Promise",(function(){var t=s(i),e=t!==String(i);if(!e&&66===h)return!0;if(d&&(!f.catch||!f.finally))return!0;if(!h||h<51||!/native code/.test(t)){var n=new i((function(t){t(1)})),r=function(t){t((function(){}),(function(){}))};if((n.constructor={})[p]=r,!(g=n.then((function(){}))instanceof r))return!0}return!e&&(c||u)&&!m}));t.exports={CONSTRUCTOR:v,REJECTION_EVENT:m,SUBCLASSING:g}},70480:function(t,e,n){var r=n(42868);t.exports=r.Promise},54567:function(t,e,n){var r=n(51912),i=n(13359),o=n(54130);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},30629:function(t,e,n){var r=n(70480),i=n(58908),o=n(14569).CONSTRUCTOR;t.exports=o||!i((function(t){r.all(t).then(void 0,(function(){}))}))},34777:function(t){var e=function(){this.head=null,this.tail=null};e.prototype={add:function(t){var e={item:t,next:null},n=this.tail;n?n.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},t.exports=e},83604:function(t,e,n){var r=n(81606),i=TypeError;t.exports=function(t){if(r(t))throw i("Can't call method on "+t);return t}},13918:function(t,e,n){"use strict";var r=n(78104),i=n(8297),o=n(35712),a=n(67001),s=o("species");t.exports=function(t){var e=r(t);a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},16738:function(t,e,n){var r=n(48889),i=n(57550).f,o=n(28518),a=n(85584),s=n(22204),l=n(35712)("toStringTag");t.exports=function(t,e,n,c){if(t){var u=n?t:t.prototype;a(u,l)||i(u,l,{configurable:!0,value:e}),c&&!r&&o(u,"toString",s)}}},5039:function(t,e,n){var r=n(76315),i=n(10009),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},92656:function(t,e,n){var r=n(42868),i=n(96868),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},76315:function(t,e,n){var r=n(68367),i=n(92656);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:r?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"})},35462:function(t,e,n){var r=n(51912),i=n(22736),o=n(81606),a=n(35712)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||o(n=r(s)[a])?e:i(n)}},91420:function(t,e,n){var r=n(93880),i=n(25511),o=n(55264),a=n(83604),s=r("".charAt),l=r("".charCodeAt),c=r("".slice),u=function(t){return function(e,n){var r,u,d=o(a(e)),h=i(n),f=d.length;return h<0||h>=f?t?"":void 0:(r=l(d,h))<55296||r>56319||h+1===f||(u=l(d,h+1))<56320||u>57343?t?s(d,h):r:t?c(d,h,h+2):u-56320+(r-55296<<10)+65536}};t.exports={codeAt:u(!1),charAt:u(!0)}},29787:function(t,e,n){var r=n(47730).PROPER,i=n(76530),o=n(33781);t.exports=function(t){return i((function(){return!!o[t]()||"\u200b\x85\u180e"!=="\u200b\x85\u180e"[t]()||r&&o[t].name!==t}))}},40774:function(t,e,n){var r=n(93880),i=n(83604),o=n(55264),a=n(33781),s=r("".replace),l=RegExp("^["+a+"]+"),c=RegExp("(^|[^"+a+"])["+a+"]+$"),u=function(t){return function(e){var n=o(i(e));return 1&t&&(n=s(n,l,"")),2&t&&(n=s(n,c,"$1")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},69075:function(t,e,n){var r=n(38233),i=n(76530),o=n(42868).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!o(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},25743:function(t,e,n){var r=n(83146),i=n(78104),o=n(35712),a=n(80491);t.exports=function(){var t=i("Symbol"),e=t&&t.prototype,n=e&&e.valueOf,s=o("toPrimitive");e&&!e[s]&&a(e,s,(function(t){return r(n,this)}),{arity:1})}},61056:function(t,e,n){var r=n(69075);t.exports=r&&!!Symbol.for&&!!Symbol.keyFor},86569:function(t,e,n){var r,i,o,a,s=n(42868),l=n(66266),c=n(27673),u=n(58307),d=n(85584),h=n(76530),f=n(35644),p=n(4735),g=n(60231),m=n(93451),v=n(86540),y=n(6521),b=s.setImmediate,w=s.clearImmediate,E=s.process,_=s.Dispatch,T=s.Function,x=s.MessageChannel,S=s.String,L=0,k={},A="onreadystatechange";h((function(){r=s.location}));var O=function(t){if(d(k,t)){var e=k[t];delete k[t],e()}},R=function(t){return function(){O(t)}},C=function(t){O(t.data)},I=function(t){s.postMessage(S(t),r.protocol+"//"+r.host)};b&&w||(b=function(t){m(arguments.length,1);var e=u(t)?t:T(t),n=p(arguments,1);return k[++L]=function(){l(e,void 0,n)},i(L),L},w=function(t){delete k[t]},y?i=function(t){E.nextTick(R(t))}:_&&_.now?i=function(t){_.now(R(t))}:x&&!v?(a=(o=new x).port2,o.port1.onmessage=C,i=c(a.postMessage,a)):s.addEventListener&&u(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(I)?(i=I,s.addEventListener("message",C,!1)):i=A in g("script")?function(t){f.appendChild(g("script")).onreadystatechange=function(){f.removeChild(this),O(t)}}:function(t){setTimeout(R(t),0)}),t.exports={set:b,clear:w}},53055:function(t,e,n){var r=n(25511),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},3861:function(t,e,n){var r=n(11251),i=n(83604);t.exports=function(t){return r(i(t))}},25511:function(t,e,n){var r=n(12047);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},23746:function(t,e,n){var r=n(25511),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},32058:function(t,e,n){var r=n(83604),i=Object;t.exports=function(t){return i(r(t))}},93957:function(t,e,n){var r=n(83146),i=n(13359),o=n(91149),a=n(62809),s=n(69466),l=n(35712),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,l=a(t,u);if(l){if(void 0===e&&(e="default"),n=r(l,t,e),!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},15623:function(t,e,n){var r=n(93957),i=n(91149);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},48889:function(t,e,n){var r={};r[n(35712)("toStringTag")]="z",t.exports="[object z]"===String(r)},55264:function(t,e,n){var r=n(67499),i=String;t.exports=function(t){if("Symbol"===r(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},87265:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},10009:function(t,e,n){var r=n(93880),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},36530:function(t,e,n){var r=n(69075);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},77139:function(t,e,n){var r=n(67001),i=n(76530);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},93451:function(t){var e=TypeError;t.exports=function(t,n){if(t<n)throw e("Not enough arguments");return t}},33013:function(t,e,n){var r=n(42868),i=n(58307),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},91886:function(t,e,n){var r=n(39081),i=n(85584),o=n(63379),a=n(57550).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},63379:function(t,e,n){var r=n(35712);e.f=r},35712:function(t,e,n){var r=n(42868),i=n(76315),o=n(85584),a=n(10009),s=n(69075),l=n(36530),c=r.Symbol,u=i("wks"),d=l?c.for||c:c&&c.withoutSetter||a;t.exports=function(t){return o(u,t)||(u[t]=s&&o(c,t)?c[t]:d("Symbol."+t)),u[t]}},33781:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},91352:function(t,e,n){"use strict";var r=n(70390),i=n(35792),o=n(42629),a=n(25255),s=n(54498),l=n(52491),c=n(28518),u=n(95595),d=n(68525),h=n(62950),f=n(83906),p=n(17515),g=n(35712)("toStringTag"),m=Error,v=[].push,y=function(t,e){var n,r=i(b,this);a?n=a(m(),r?o(this):b):(n=r?this:l(b),c(n,g,"Error")),void 0!==e&&c(n,"message",p(e)),h(n,y,n.stack,1),arguments.length>2&&d(n,arguments[2]);var s=[];return f(t,v,{that:s}),c(n,"errors",s),n};a?a(y,m):s(y,m,{name:!0});var b=y.prototype=l(m.prototype,{constructor:u(1,y),message:u(1,""),name:u(1,"AggregateError")});r({global:!0,constructor:!0,arity:2},{AggregateError:y})},36454:function(t,e,n){n(91352)},33075:function(t,e,n){"use strict";var r=n(70390),i=n(76530),o=n(21054),a=n(13359),s=n(32058),l=n(29876),c=n(33956),u=n(90409),d=n(48136),h=n(72143),f=n(35712),p=n(38233),g=f("isConcatSpreadable"),m=p>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),v=function(t){if(!a(t))return!1;var e=t[g];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,arity:1,forced:!m||!h("concat")},{concat:function(t){var e,n,r,i,o,a=s(this),h=d(a,0),f=0;for(e=-1,r=arguments.length;e<r;e++)if(v(o=-1===e?a:arguments[e]))for(i=l(o),c(f+i),n=0;n<i;n++,f++)n in o&&u(h,f,o[n]);else c(f+1),u(h,f++,o);return h.length=f,h}})},2166:function(t,e,n){var r=n(70390),i=n(94746);r({target:"Array",stat:!0,forced:!n(58908)((function(t){Array.from(t)}))},{from:i})},30194:function(t,e,n){"use strict";var r=n(70390),i=n(42866),o=n(87075).indexOf,a=n(46628),s=i([].indexOf),l=!!s&&1/s([1],1,-0)<0;r({target:"Array",proto:!0,forced:l||!a("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return l?s(this,t,e)||0:o(this,t,e)}})},69506:function(t,e,n){n(70390)({target:"Array",stat:!0},{isArray:n(21054)})},2228:function(t,e,n){"use strict";var r=n(3861),i=n(37710),o=n(89418),a=n(55875),s=n(57550).f,l=n(5241),c=n(5334),u=n(68367),d=n(67001),h="Array Iterator",f=a.set,p=a.getterFor(h);t.exports=l(Array,"Array",(function(t,e){f(this,{type:h,target:r(t),index:0,kind:e})}),(function(){var t=p(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,c(void 0,!0)):c("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values");var g=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==g.name)try{s(g,"name",{value:"values"})}catch(m){}},15280:function(t,e,n){var r=n(70390),i=n(57965);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},82478:function(t,e,n){"use strict";var r=n(70390),i=n(64206).map;r({target:"Array",proto:!0,forced:!n(72143)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},25313:function(t,e,n){"use strict";var r=n(70390),i=n(21054),o=n(61775),a=n(13359),s=n(53055),l=n(29876),c=n(3861),u=n(90409),d=n(35712),h=n(72143),f=n(4735),p=h("slice"),g=d("species"),m=Array,v=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,d,h=c(this),p=l(h),y=s(t,p),b=s(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,(o(n)&&(n===m||i(n.prototype))||a(n)&&null===(n=n[g]))&&(n=void 0),n===m||void 0===n))return f(h,y,b);for(r=new(void 0===n?m:n)(v(b-y,0)),d=0;y<b;y++,d++)y in h&&u(r,d,h[y]);return r.length=d,r}})},42041:function(){},26211:function(t,e,n){var r=n(70390),i=n(42868);r({global:!0,forced:i.globalThis!==i},{globalThis:i})},5966:function(t,e,n){var r=n(70390),i=n(78104),o=n(66266),a=n(83146),s=n(93880),l=n(76530),c=n(58307),u=n(91149),d=n(4735),h=n(84317),f=n(69075),p=String,g=i("JSON","stringify"),m=s(/./.exec),v=s("".charAt),y=s("".charCodeAt),b=s("".replace),w=s(1..toString),E=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,T=/^[\uDC00-\uDFFF]$/,x=!f||l((function(){var t=i("Symbol")();return"[null]"!=g([t])||"{}"!=g({a:t})||"{}"!=g(Object(t))})),S=l((function(){return'"\\udf06\\ud834"'!==g("\udf06\ud834")||'"\\udead"'!==g("\udead")})),L=function(t,e){var n=d(arguments),r=h(e);if(c(r)||void 0!==t&&!u(t))return n[1]=function(t,e){if(c(r)&&(e=a(r,this,p(t),e)),!u(e))return e},o(g,null,n)},k=function(t,e,n){var r=v(n,e-1),i=v(n,e+1);return m(_,t)&&!m(T,i)||m(T,t)&&!m(_,r)?"\\u"+w(y(t,0),16):t};g&&r({target:"JSON",stat:!0,arity:3,forced:x||S},{stringify:function(t,e,n){var r=d(arguments),i=o(x?L:g,null,r);return S&&"string"==typeof i?b(i,E,k):i}})},13596:function(t,e,n){var r=n(42868);n(16738)(r.JSON,"JSON",!0)},21227:function(){},88524:function(t,e,n){var r=n(70390),i=n(43210);r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},96764:function(t,e,n){var r=n(70390),i=n(67001),o=n(57550).f;r({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},35473:function(t,e,n){var r=n(70390),i=n(76530),o=n(26159).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},597:function(t,e,n){var r=n(70390),i=n(69075),o=n(76530),a=n(63764),s=n(32058);r({target:"Object",stat:!0,forced:!i||o((function(){a.f(1)}))},{getOwnPropertySymbols:function(t){var e=a.f;return e?e(s(t)):[]}})},28390:function(t,e,n){var r=n(70390),i=n(32058),o=n(50461);r({target:"Object",stat:!0,forced:n(76530)((function(){o(1)}))},{keys:function(t){return o(i(t))}})},92575:function(){},64465:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(55222),a=n(54130),s=n(34618),l=n(83906);r({target:"Promise",stat:!0,forced:n(30629)},{allSettled:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,u=s((function(){var n=o(e.resolve),a=[],s=0,c=1;l(t,(function(t){var o=s++,l=!1;c++,i(n,e,t).then((function(t){l||(l=!0,a[o]={status:"fulfilled",value:t},--c||r(a))}),(function(t){l||(l=!0,a[o]={status:"rejected",reason:t},--c||r(a))}))})),--c||r(a)}));return u.error&&c(u.value),n.promise}})},36411:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(55222),a=n(54130),s=n(34618),l=n(83906);r({target:"Promise",stat:!0,forced:n(30629)},{all:function(t){var e=this,n=a.f(e),r=n.resolve,c=n.reject,u=s((function(){var n=o(e.resolve),a=[],s=0,u=1;l(t,(function(t){var o=s++,l=!1;u++,i(n,e,t).then((function(t){l||(l=!0,a[o]=t,--u||r(a))}),c)})),--u||r(a)}));return u.error&&c(u.value),n.promise}})},28359:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(55222),a=n(78104),s=n(54130),l=n(34618),c=n(83906),u=n(30629),d="No one promise resolved";r({target:"Promise",stat:!0,forced:u},{any:function(t){var e=this,n=a("AggregateError"),r=s.f(e),u=r.resolve,h=r.reject,f=l((function(){var r=o(e.resolve),a=[],s=0,l=1,f=!1;c(t,(function(t){var o=s++,c=!1;l++,i(r,e,t).then((function(t){c||f||(f=!0,u(t))}),(function(t){c||f||(c=!0,a[o]=t,--l||h(new n(a,d)))}))})),--l||h(new n(a,d))}));return f.error&&h(f.value),r.promise}})},99192:function(t,e,n){"use strict";var r=n(70390),i=n(68367),o=n(14569).CONSTRUCTOR,a=n(70480),s=n(78104),l=n(58307),c=n(80491),u=a&&a.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(t){return this.then(void 0,t)}}),!i&&l(a)){var d=s("Promise").prototype.catch;u.catch!==d&&c(u,"catch",d,{unsafe:!0})}},20830:function(t,e,n){"use strict";var r,i,o,a=n(70390),s=n(68367),l=n(6521),c=n(42868),u=n(83146),d=n(80491),h=n(25255),f=n(16738),p=n(13918),g=n(55222),m=n(58307),v=n(13359),y=n(88792),b=n(35462),w=n(86569).set,E=n(48054),_=n(38471),T=n(34618),x=n(34777),S=n(55875),L=n(70480),k=n(14569),A=n(54130),O="Promise",R=k.CONSTRUCTOR,C=k.REJECTION_EVENT,I=k.SUBCLASSING,D=S.getterFor(O),N=S.set,P=L&&L.prototype,M=L,F=P,B=c.TypeError,U=c.document,j=c.process,$=A.f,G=$,H=!!(U&&U.createEvent&&c.dispatchEvent),K="unhandledrejection",V=function(t){var e;return!(!v(t)||!m(e=t.then))&&e},z=function(t,e){var n,r,i,o=e.value,a=1==e.state,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,d=t.domain;try{s?(a||(2===e.rejection&&X(e),e.rejection=1),!0===s?n=o:(d&&d.enter(),n=s(o),d&&(d.exit(),i=!0)),n===t.promise?c(B("Promise-chain cycle")):(r=V(n))?u(r,n,l,c):l(n)):c(o)}catch(h){d&&!i&&d.exit(),c(h)}},Z=function(t,e){t.notified||(t.notified=!0,E((function(){for(var n,r=t.reactions;n=r.get();)z(n,t);t.notified=!1,e&&!t.rejection&&W(t)})))},q=function(t,e,n){var r,i;H?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!C&&(i=c["on"+t])?i(r):t===K&&_("Unhandled promise rejection",n)},W=function(t){u(w,c,(function(){var e,n=t.facade,r=t.value;if(Y(t)&&(e=T((function(){l?j.emit("unhandledRejection",r,n):q(K,n,r)})),t.rejection=l||Y(t)?2:1,e.error))throw e.value}))},Y=function(t){return 1!==t.rejection&&!t.parent},X=function(t){u(w,c,(function(){var e=t.facade;l?j.emit("rejectionHandled",e):q("rejectionhandled",e,t.value)}))},Q=function(t,e,n){return function(r){t(e,r,n)}},J=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Z(t,!0))},tt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw B("Promise can't be resolved itself");var r=V(e);r?E((function(){var n={done:!1};try{u(r,e,Q(tt,n,t),Q(J,n,t))}catch(i){J(n,i,t)}})):(t.value=e,t.state=1,Z(t,!1))}catch(i){J({done:!1},i,t)}}};if(R&&(F=(M=function(t){y(this,F),g(t),u(r,this);var e=D(this);try{t(Q(tt,e),Q(J,e))}catch(n){J(e,n)}}).prototype,(r=function(t){N(this,{type:O,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=d(F,"then",(function(t,e){var n=D(this),r=$(b(this,M));return n.parent=!0,r.ok=!m(t)||t,r.fail=m(e)&&e,r.domain=l?j.domain:void 0,0==n.state?n.reactions.add(r):E((function(){z(r,n)})),r.promise})),i=function(){var t=new r,e=D(t);this.promise=t,this.resolve=Q(tt,e),this.reject=Q(J,e)},A.f=$=function(t){return t===M||undefined===t?new i(t):G(t)},!s&&m(L)&&P!==Object.prototype)){o=P.then,I||d(P,"then",(function(t,e){var n=this;return new M((function(t,e){u(o,n,t,e)})).then(t,e)}),{unsafe:!0});try{delete P.constructor}catch(et){}h&&h(P,F)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:M}),f(M,O,!1,!0),p(O)},55203:function(t,e,n){"use strict";var r=n(70390),i=n(68367),o=n(70480),a=n(76530),s=n(78104),l=n(58307),c=n(35462),u=n(54567),d=n(80491),h=o&&o.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){h.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=c(this,s("Promise")),n=l(t);return this.then(n?function(n){return u(e,t()).then((function(){return n}))}:t,n?function(n){return u(e,t()).then((function(){throw n}))}:t)}}),!i&&l(o)){var f=s("Promise").prototype.finally;h.finally!==f&&d(h,"finally",f,{unsafe:!0})}},73658:function(t,e,n){n(20830),n(36411),n(99192),n(67670),n(91647),n(38852)},67670:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(55222),a=n(54130),s=n(34618),l=n(83906);r({target:"Promise",stat:!0,forced:n(30629)},{race:function(t){var e=this,n=a.f(e),r=n.reject,c=s((function(){var a=o(e.resolve);l(t,(function(t){i(a,e,t).then(n.resolve,r)}))}));return c.error&&r(c.value),n.promise}})},91647:function(t,e,n){"use strict";var r=n(70390),i=n(83146),o=n(54130);r({target:"Promise",stat:!0,forced:n(14569).CONSTRUCTOR},{reject:function(t){var e=o.f(this);return i(e.reject,void 0,t),e.promise}})},38852:function(t,e,n){"use strict";var r=n(70390),i=n(78104),o=n(68367),a=n(70480),s=n(14569).CONSTRUCTOR,l=n(54567),c=i("Promise"),u=o&&!s;r({target:"Promise",stat:!0,forced:o||s},{resolve:function(t){return l(u&&this===c?a:this,t)}})},16268:function(){},18109:function(t,e,n){"use strict";var r=n(91420).charAt,i=n(55264),o=n(55875),a=n(5241),s=n(5334),l="String Iterator",c=o.set,u=o.getterFor(l);a(String,"String",(function(t){c(this,{type:l,string:i(t),index:0})}),(function(){var t,e=u(this),n=e.string,i=e.index;return i>=n.length?s(void 0,!0):(t=r(n,i),e.index+=t.length,s(t,!1))}))},76525:function(t,e,n){"use strict";var r=n(70390),i=n(42866),o=n(75904).f,a=n(23746),s=n(55264),l=n(69611),c=n(83604),u=n(51722),d=n(68367),h=i("".startsWith),f=i("".slice),p=Math.min,g=u("startsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&!!function(){var t=o(String.prototype,"startsWith");return t&&!t.writable}())&&!g},{startsWith:function(t){var e=s(c(this));l(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=s(t);return h?h(e,r,n):f(e,n,n+r.length)===r}})},58217:function(t,e,n){"use strict";var r=n(70390),i=n(40774).trim;r({target:"String",proto:!0,forced:n(29787)("trim")},{trim:function(){return i(this)}})},75762:function(t,e,n){n(91886)("asyncIterator")},42661:function(t,e,n){"use strict";var r=n(70390),i=n(42868),o=n(83146),a=n(93880),s=n(68367),l=n(67001),c=n(69075),u=n(76530),d=n(85584),h=n(35792),f=n(51912),p=n(3861),g=n(15623),m=n(55264),v=n(95595),y=n(52491),b=n(50461),w=n(79035),E=n(26159),_=n(63764),T=n(75904),x=n(57550),S=n(54686),L=n(71156),k=n(80491),A=n(8297),O=n(76315),R=n(5039),C=n(17048),I=n(10009),D=n(35712),N=n(63379),P=n(91886),M=n(25743),F=n(16738),B=n(55875),U=n(64206).forEach,j=R("hidden"),$="Symbol",G=B.set,H=B.getterFor($),K=Object.prototype,V=i.Symbol,z=V&&V.prototype,Z=i.TypeError,q=i.QObject,W=T.f,Y=x.f,X=E.f,Q=L.f,J=a([].push),tt=O("symbols"),et=O("op-symbols"),nt=O("wks"),rt=!q||!q.prototype||!q.prototype.findChild,it=l&&u((function(){return 7!=y(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=W(K,e);r&&delete K[e],Y(t,e,n),r&&t!==K&&Y(K,e,r)}:Y,ot=function(t,e){var n=tt[t]=y(z);return G(n,{type:$,tag:t,description:e}),l||(n.description=e),n},at=function(t,e,n){t===K&&at(et,e,n),f(t);var r=g(e);return f(n),d(tt,r)?(n.enumerable?(d(t,j)&&t[j][r]&&(t[j][r]=!1),n=y(n,{enumerable:v(0,!1)})):(d(t,j)||Y(t,j,v(1,{})),t[j][r]=!0),it(t,r,n)):Y(t,r,n)},st=function(t,e){f(t);var n=p(e),r=b(n).concat(dt(n));return U(r,(function(e){l&&!o(lt,n,e)||at(t,e,n[e])})),t},lt=function(t){var e=g(t),n=o(Q,this,e);return!(this===K&&d(tt,e)&&!d(et,e))&&(!(n||!d(this,e)||!d(tt,e)||d(this,j)&&this[j][e])||n)},ct=function(t,e){var n=p(t),r=g(e);if(n!==K||!d(tt,r)||d(et,r)){var i=W(n,r);return!i||!d(tt,r)||d(n,j)&&n[j][r]||(i.enumerable=!0),i}},ut=function(t){var e=X(p(t)),n=[];return U(e,(function(t){d(tt,t)||d(C,t)||J(n,t)})),n},dt=function(t){var e=t===K,n=X(e?et:p(t)),r=[];return U(n,(function(t){!d(tt,t)||e&&!d(K,t)||J(r,tt[t])})),r};c||(V=function(){if(h(z,this))throw Z("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?m(arguments[0]):void 0,e=I(t),n=function(t){this===K&&o(n,et,t),d(this,j)&&d(this[j],e)&&(this[j][e]=!1),it(this,e,v(1,t))};return l&&rt&&it(K,e,{configurable:!0,set:n}),ot(e,t)},k(z=V.prototype,"toString",(function(){return H(this).tag})),k(V,"withoutSetter",(function(t){return ot(I(t),t)})),L.f=lt,x.f=at,S.f=st,T.f=ct,w.f=E.f=ut,_.f=dt,N.f=function(t){return ot(D(t),t)},l&&(A(z,"description",{configurable:!0,get:function(){return H(this).description}}),s||k(K,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),U(b(nt),(function(t){P(t)})),r({target:$,stat:!0,forced:!c},{useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),r({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(t,e){return void 0===e?y(t):st(y(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ut}),M(),F(V,$),C[j]=!0},32181:function(){},45091:function(t,e,n){var r=n(70390),i=n(78104),o=n(85584),a=n(55264),s=n(76315),l=n(61056),c=s("string-to-symbol-registry"),u=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=a(t);if(o(c,e))return c[e];var n=i("Symbol")(e);return c[e]=n,u[n]=e,n}})},38848:function(t,e,n){n(91886)("hasInstance")},73719:function(t,e,n){n(91886)("isConcatSpreadable")},32362:function(t,e,n){n(91886)("iterator")},48318:function(t,e,n){n(42661),n(45091),n(39037),n(5966),n(597)},39037:function(t,e,n){var r=n(70390),i=n(85584),o=n(91149),a=n(87265),s=n(76315),l=n(61056),c=s("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!l},{keyFor:function(t){if(!o(t))throw TypeError(a(t)+" is not a symbol");if(i(c,t))return c[t]}})},888:function(t,e,n){n(91886)("matchAll")},20346:function(t,e,n){n(91886)("match")},80909:function(t,e,n){n(91886)("replace")},11992:function(t,e,n){n(91886)("search")},58512:function(t,e,n){n(91886)("species")},6165:function(t,e,n){n(91886)("split")},66044:function(t,e,n){var r=n(91886),i=n(25743);r("toPrimitive"),i()},64676:function(t,e,n){var r=n(78104),i=n(91886),o=n(16738);i("toStringTag"),o(r("Symbol"),"Symbol")},20263:function(t,e,n){n(91886)("unscopables")},47995:function(t,e,n){n(26211)},68812:function(t,e,n){n(91886)("asyncDispose")},29085:function(t,e,n){n(91886)("dispose")},43627:function(t,e,n){var r=n(70390),i=n(78104),o=n(93880),a=i("Symbol"),s=a.keyFor,l=o(a.prototype.valueOf);r({target:"Symbol",stat:!0},{isRegistered:function(t){try{return void 0!==s(l(t))}catch(e){return!1}}})},18830:function(t,e,n){for(var r=n(70390),i=n(76315),o=n(78104),a=n(93880),s=n(91149),l=n(35712),c=o("Symbol"),u=c.isWellKnown,d=o("Object","getOwnPropertyNames"),h=a(c.prototype.valueOf),f=i("wks"),p=0,g=d(c),m=g.length;p<m;p++)try{var v=g[p];s(c[v])&&l(v)}catch(y){}r({target:"Symbol",stat:!0,forced:!0},{isWellKnown:function(t){if(u&&u(t))return!0;try{for(var e=h(t),n=0,r=d(f),i=r.length;n<i;n++)if(f[r[n]]==e)return!0}catch(y){}return!1}})},7384:function(t,e,n){n(91886)("matcher")},39928:function(t,e,n){n(91886)("metadataKey")},14719:function(t,e,n){n(91886)("metadata")},32994:function(t,e,n){n(91886)("observable")},29431:function(t,e,n){n(91886)("patternMatch")},24803:function(t,e,n){n(91886)("replaceAll")},29702:function(t,e,n){n(2228);var r=n(60315),i=n(42868),o=n(67499),a=n(28518),s=n(89418),l=n(35712)("toStringTag");for(var c in r){var u=i[c],d=u&&u.prototype;d&&o(d)!==l&&a(d,l,c),s[c]=s.Array}},7945:function(t,e,n){var r=n(45109);t.exports=r},98010:function(t,e,n){var r=n(1316);t.exports=r},67922:function(t,e,n){var r=n(33386);n(29702),t.exports=r},65140:function(t,e,n){var r=n(631);t.exports=r},99842:function(t,e,n){var r=n(47543);t.exports=r},85838:function(t,e,n){var r=n(24825);t.exports=r},49053:function(t,e,n){var r=n(93742);t.exports=r},22343:function(t,e,n){var r=n(30238);t.exports=r},10671:function(t,e,n){var r=n(51285);t.exports=r},2672:function(t,e,n){var r=n(21879);t.exports=r},52882:function(t,e,n){var r=n(98949);t.exports=r},68730:function(t,e,n){var r=n(92529);t.exports=r},8531:function(t,e,n){var r=n(76854);t.exports=r},61229:function(t,e,n){var r=n(14276);t.exports=r},98783:function(t,e,n){var r=n(88116);t.exports=r},74731:function(t,e,n){var r=n(37281);n(29702),t.exports=r},23355:function(t,e,n){var r=n(1442);n(29702),t.exports=r},16888:function(t,e,n){var r=n(31190);n(29702),t.exports=r},55013:function(t,e,n){var r=n(95261);t.exports=r},6822:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<figure class="m-audio">\n  <audio controls preload="metadata" src="'+c(typeof(o=null!=(o=u(n,"audioSrc")||(null!=e?u(e,"audioSrc"):e))?o:s)===l?o.call(a,{name:"audioSrc",hash:{},data:i,loc:{start:{line:2,column:42},end:{line:2,column:54}}}):o)+'"></audio>\n  <figcaption>'+c(typeof(o=null!=(o=u(n,"alt")||(null!=e?u(e,"alt"):e))?o:s)===l?o.call(a,{name:"alt",hash:{},data:i,loc:{start:{line:3,column:14},end:{line:3,column:21}}}):o)+"</figcaption>\n</figure>"},useData:!0})},31294:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a class="keyword-search" href="'+c(typeof(o=null!=(o=u(n,"href")||(null!=e?u(e,"href"):e))?o:s)===l?o.call(a,{name:"href",hash:{},data:i,loc:{start:{line:1,column:32},end:{line:1,column:40}}}):o)+'">'+c(typeof(o=null!=(o=u(n,"keyword")||(null!=e?u(e,"keyword"):e))?o:s)===l?o.call(a,{name:"keyword",hash:{},data:i,loc:{start:{line:1,column:42},end:{line:1,column:53}}}):o)+"</a>"},useData:!0})},44779:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<a class="m-link" href="'+t.escapeExpression(typeof(a=null!=(a=u(n,"href")||(null!=e?u(e,"href"):e))?a:l)===c?a.call(s,{name:"href",hash:{},data:i,loc:{start:{line:1,column:24},end:{line:1,column:32}}}):a)+'">\n  '+(null!=(o=typeof(a=null!=(a=u(n,"title")||(null!=e?u(e,"title"):e))?a:l)===c?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:2,column:2},end:{line:2,column:13}}}):a)?o:"")+"\n</a>\n"},useData:!0})},61482:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <img\n          class="image-lazy"\n          src="'+c(typeof(o=null!=(o=u(n,"placeholderImage")||(null!=e?u(e,"placeholderImage"):e))?o:s)===l?o.call(a,{name:"placeholderImage",hash:{},data:i,loc:{start:{line:7,column:15},end:{line:7,column:35}}}):o)+'"\n          data-src="'+c(typeof(o=null!=(o=u(n,"imgsrc")||(null!=e?u(e,"imgsrc"):e))?o:s)===l?o.call(a,{name:"imgsrc",hash:{},data:i,loc:{start:{line:8,column:20},end:{line:8,column:30}}}):o)+'"\n          data-thumbnail="'+c(typeof(o=null!=(o=u(n,"thumbnail")||(null!=e?u(e,"thumbnail"):e))?o:s)===l?o.call(a,{name:"thumbnail",hash:{},data:i,loc:{start:{line:9,column:26},end:{line:9,column:39}}}):o)+'"\n          alt="'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:10,column:15},end:{line:10,column:24}}}):o)+'"\n        />\n'},3:function(t,e,n,r,i){return'        <i class="icon-href"></i>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="m-linkCard">\n  <a href="'+u(typeof(a=null!=(a=d(n,"href")||(null!=e?d(e,"href"):e))?a:l)===c?a.call(s,{name:"href",hash:{},data:i,loc:{start:{line:2,column:11},end:{line:2,column:19}}}):a)+'">\n    <div class="s-img">\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"imgsrc"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i,loc:{start:{line:4,column:6},end:{line:14,column:13}}}))?o:"")+'    </div>\n    <div class="s-info">\n      <h3>'+u(typeof(a=null!=(a=d(n,"title")||(null!=e?d(e,"title"):e))?a:l)===c?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:17,column:10},end:{line:17,column:19}}}):a)+"</h3>\n      <small>"+u(typeof(a=null!=(a=d(n,"digest")||(null!=e?d(e,"digest"):e))?a:l)===c?a.call(s,{name:"digest",hash:{},data:i,loc:{start:{line:18,column:13},end:{line:18,column:23}}}):a)+'</small>\n    </div>\n    <i class="icon-arrow"></i>\n  </a>\n</div>'},useData:!0})},63738:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="m-liveCard js-liveCard-'+c(typeof(o=null!=(o=u(n,"index")||(null!=e?u(e,"index"):e))?o:s)===l?o.call(a,{name:"index",hash:{},data:i,loc:{start:{line:1,column:35},end:{line:1,column:44}}}):o)+'">\n  <a href="'+c(typeof(o=null!=(o=u(n,"link")||(null!=e?u(e,"link"):e))?o:s)===l?o.call(a,{name:"link",hash:{},data:i,loc:{start:{line:2,column:11},end:{line:2,column:19}}}):o)+'">\n    <div class="s-img">\n      <img src="https://static.ws.126.net/163/f2e/article_picture/ic_live.png" />\n    </div>\n    <div class="s-info">\n      <h3>'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:7,column:10},end:{line:7,column:19}}}):o)+'</h3>\n      <small class="js-liveCard-status">\u70b9\u51fb\u8fdb\u5165</small>\n    </div>\n  </a>\n</div>'},useData:!0})},68973:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <figcaption><i class="icon-quotes-left"></i>'+(null!=(o="function"===typeof(a=null!=(a=s(n,"alt")||(null!=e?s(e,"alt"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"alt",hash:{},data:i,loc:{start:{line:24,column:48},end:{line:24,column:57}}}):a)?o:"")+"</figcaption>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<figure class="m-photo">\n  <div class="s-wrap js-article-photo" data-index="'+u(typeof(a=null!=(a=d(n,"index")||(null!=e?d(e,"index"):e))?a:l)===c?a.call(s,{name:"index",hash:{},data:i,loc:{start:{line:2,column:51},end:{line:2,column:60}}}):a)+'">\n    <img\n      class="image-lazy image-reload"\n      alt="'+u(typeof(a=null!=(a=d(n,"alt")||(null!=e?d(e,"alt"):e))?a:l)===c?a.call(s,{name:"alt",hash:{},data:i,loc:{start:{line:5,column:11},end:{line:5,column:18}}}):a)+'"\n      src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n      data-src="'+u(typeof(a=null!=(a=d(n,"src")||(null!=e?d(e,"src"):e))?a:l)===c?a.call(s,{name:"src",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:23}}}):a)+'"\n      data-no-placeholder="1"\n      data-thumbnail="'+u(typeof(a=null!=(a=d(n,"thumbnail")||(null!=e?d(e,"thumbnail"):e))?a:l)===c?a.call(s,{name:"thumbnail",hash:{},data:i,loc:{start:{line:9,column:22},end:{line:9,column:35}}}):a)+'"\n    />\n  </div>\n  <div\n    class="s-tip js-open-app"\n    data-param="'+u(typeof(a=null!=(a=d(n,"docId")||(null!=e?d(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:14,column:16},end:{line:14,column:25}}}):a)+'"\n    data-channel="lite_wap_dl_8"\n    data-mod="articlePictureAll"\n    data-act="article_body_photo_wakeup"\n    data-position="'+u(typeof(a=null!=(a=d(n,"position")||(null!=e?d(e,"position"):e))?a:l)===c?a.call(s,{name:"position",hash:{},data:i,loc:{start:{line:18,column:19},end:{line:18,column:31}}}):a)+'"\n  >\n    \u6253\u5f00\u7f51\u6613\u65b0\u95fb \u67e5\u770b\u7cbe\u5f69\u56fe\u7247\n    <i class="icon-arrow"></i>\n  </div>\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"alt"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:23,column:2},end:{line:25,column:9}}}))?o:"")+"</figure>"},useData:!0})},77589:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <figcaption><i class="icon-quotes-left"></i>'+(null!=(o="function"===typeof(a=null!=(a=s(n,"alt")||(null!=e?s(e,"alt"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"alt",hash:{},data:i,loc:{start:{line:25,column:48},end:{line:25,column:57}}}):a)?o:"")+"</figcaption>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<figure class="m-photoSet">\n  <a class="s-wrap js-article-photoSet" data-index="'+u(typeof(a=null!=(a=d(n,"index")||(null!=e?d(e,"index"):e))?a:l)===c?a.call(s,{name:"index",hash:{},data:i,loc:{start:{line:2,column:52},end:{line:2,column:61}}}):a)+'" href="'+u(typeof(a=null!=(a=d(n,"link")||(null!=e?d(e,"link"):e))?a:l)===c?a.call(s,{name:"link",hash:{},data:i,loc:{start:{line:2,column:69},end:{line:2,column:77}}}):a)+'">\n    <img\n      class="image-lazy image-reload"\n      alt="'+u(typeof(a=null!=(a=d(n,"alt")||(null!=e?d(e,"alt"):e))?a:l)===c?a.call(s,{name:"alt",hash:{},data:i,loc:{start:{line:5,column:11},end:{line:5,column:18}}}):a)+'"\n      src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n      data-src="'+u(typeof(a=null!=(a=d(n,"src")||(null!=e?d(e,"src"):e))?a:l)===c?a.call(s,{name:"src",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:23}}}):a)+'"\n      data-no-placeholder="1"\n      data-thumbnail="'+u(typeof(a=null!=(a=d(n,"thumbnail")||(null!=e?d(e,"thumbnail"):e))?a:l)===c?a.call(s,{name:"thumbnail",hash:{},data:i,loc:{start:{line:9,column:22},end:{line:9,column:35}}}):a)+'"\n    />\n    <span class="s-tag">'+u(typeof(a=null!=(a=d(n,"imgsum")||(null!=e?d(e,"imgsum"):e))?a:l)===c?a.call(s,{name:"imgsum",hash:{},data:i,loc:{start:{line:11,column:24},end:{line:11,column:34}}}):a)+'</span>\n  </a>\n  <div\n    class="s-tip js-open-app"\n    data-param="'+u(typeof(a=null!=(a=d(n,"docId")||(null!=e?d(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:15,column:16},end:{line:15,column:25}}}):a)+'"\n    data-channel="lite_wap_dl_8"\n    data-mod="articlePictureAll"\n    data-act="article_body_photoSet_wakeup"\n    data-position="'+u(typeof(a=null!=(a=d(n,"position")||(null!=e?d(e,"position"):e))?a:l)===c?a.call(s,{name:"position",hash:{},data:i,loc:{start:{line:19,column:19},end:{line:19,column:31}}}):a)+'"\n  >\n    \u6253\u5f00\u7f51\u6613\u65b0\u95fb \u67e5\u770b\u7cbe\u5f69\u56fe\u7247\n    <i class="icon-arrow"></i>\n  </div>\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"alt"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:24,column:2},end:{line:26,column:9}}}))?o:"")+"</figure>"},useData:!0})},30870:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return"      \u5df2\u7ed3\u675f\n"},3:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"endTime")||(null!=e?a(e,"endTime"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"endTime",hash:{},data:i,loc:{start:{line:28,column:6},end:{line:28,column:17}}}):o)+"\u622a\u6b62\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lambda,h=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section\n  class="m-pk js-open-app"\n  data-param="'+u(typeof(a=null!=(a=h(n,"docId")||(null!=e?h(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:3,column:14},end:{line:3,column:23}}}):a)+'"\n  data-channel="lite_wap_dl_5"\n  data-mod="articlePKPick"\n  data-act="article_body_pk_wakeup"\n>\n  <h4 class="s-title">'+u(typeof(a=null!=(a=h(n,"question")||(null!=e?h(e,"question"):e))?a:l)===c?a.call(s,{name:"question",hash:{},data:i,loc:{start:{line:8,column:22},end:{line:8,column:34}}}):a)+'</h4>\n  <div class="s-opinions">\n    <div class="s-opinion"><span class="s-redFlag">\u7ea2\u65b9</span>'+u(d(null!=(o=null!=e?h(e,"red"):e)?h(o,"name"):o,e))+'</div>\n    <span class="s-v">V</span>\n    <span class="s-s">S</span>\n    <div class="s-opinion"><span class="s-blueFlag">\u84dd\u65b9</span>'+u(d(null!=(o=null!=e?h(e,"blue"):e)?h(o,"name"):o,e))+'</div>\n  </div>\n  <div class="s-votes">\n    <div class="s-vote-red">\u7ea2\u65b9</div>\n    <div class="s-progress">\n      <span class="s-red-progress" style="width:'+u(typeof(a=null!=(a=h(n,"progress")||(null!=e?h(e,"progress"):e))?a:l)===c?a.call(s,{name:"progress",hash:{},data:i,loc:{start:{line:18,column:48},end:{line:18,column:60}}}):a)+';"><span class="s-num">'+u(d(null!=(o=null!=e?h(e,"red"):e)?h(o,"num"):o,e))+'</span></span>\n      <span class="s-blue-progress"><span class="s-num">'+u(d(null!=(o=null!=e?h(e,"blue"):e)?h(o,"num"):o,e))+'</span></span>\n    </div>\n    <div class="s-vote-blue">\u84dd\u65b9</div>\n  </div>\n  <div class="s-info">\n    '+u(typeof(a=null!=(a=h(n,"sumnum")||(null!=e?h(e,"sumnum"):e))?a:l)===c?a.call(s,{name:"sumnum",hash:{},data:i,loc:{start:{line:24,column:4},end:{line:24,column:14}}}):a)+"\u4eba\u5df2\u53c2\u4e0e\n"+(null!=(o=h(n,"if").call(s,null!=e?h(e,"isOver"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(3,i,0),data:i,loc:{start:{line:25,column:4},end:{line:29,column:11}}}))?o:"")+"  </div>\n</section>"},useData:!0})},49630:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="m-sectionTitle">\n  <img class="image-lazy" data-src="'+c(typeof(o=null!=(o=u(n,"imgsrc")||(null!=e?u(e,"imgsrc"):e))?o:s)===l?o.call(a,{name:"imgsrc",hash:{},data:i,loc:{start:{line:2,column:36},end:{line:2,column:46}}}):o)+'" src="https://static.ws.126.net/163/frontend/images/2022/empty.png" alt="'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:2,column:120},end:{line:2,column:129}}}):o)+'" data-thumbnail="x74" />\n  <h3>'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:3,column:6},end:{line:3,column:15}}}):o)+"</h3>\n</section>"},useData:!0})},17597:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="m-spinfo">\n  <h4 class="s-type">'+c(typeof(o=null!=(o=u(n,"sptype")||(null!=e?u(e,"sptype"):e))?o:s)===l?o.call(a,{name:"sptype",hash:{},data:i,loc:{start:{line:2,column:21},end:{line:2,column:31}}}):o)+'</h4>\n  <div class="s-content">'+c(typeof(o=null!=(o=u(n,"spcontent")||(null!=e?u(e,"spcontent"):e))?o:s)===l?o.call(a,{name:"spcontent",hash:{},data:i,loc:{start:{line:3,column:25},end:{line:3,column:38}}}):o)+"</div>\n</section>"},useData:!0})},94530:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <li>\n        <span class="s-time">\n'+(null!=(o=l(n,"if").call(s,i&&l(i,"first"),{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.program(4,i,0),data:i,loc:{start:{line:7,column:10},end:{line:11,column:17}}}))?o:"")+'        </span>\n        <div class="s-event">'+t.escapeExpression("function"===typeof(a=null!=(a=l(n,"event")||(null!=e?l(e,"event"):e))?a:t.hooks.helperMissing)?a.call(s,{name:"event",hash:{},data:i,loc:{start:{line:13,column:29},end:{line:13,column:38}}}):a)+"</div>\n      </li>\n"},2:function(t,e,n,r,i){return"            \u6700\u65b0\n"},4:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"            "+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"time")||(null!=e?a(e,"time"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"time",hash:{},data:i,loc:{start:{line:10,column:12},end:{line:10,column:20}}}):o)+"\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="m-timeline">\n  <header><i class="icon-timeline"></i>\u65b0\u95fb\u65f6\u95f4\u7ebf</header>\n  <ul>\n'+(null!=(o=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"list"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:4,column:4},end:{line:15,column:13}}}))?o:"")+"  </ul>\n</section>"},useData:!0})},14084:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <li>\n        <div class="s-avatar">\n          <img\n            class="image-lazy"\n            src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n            data-src="'+u(typeof(a=null!=(a=d(n,"headimg")||(null!=e?d(e,"headimg"):e))?a:l)===c?a.call(s,{name:"headimg",hash:{},data:i,loc:{start:{line:10,column:22},end:{line:10,column:33}}}):a)+'"\n            data-thumbnail="'+u(typeof(a=null!=(a=d(n,"thumbnail")||(null!=e?d(e,"thumbnail"):e))?a:l)===c?a.call(s,{name:"thumbnail",hash:{},data:i,loc:{start:{line:11,column:28},end:{line:11,column:41}}}):a)+'"\n            data-no-placeholder="1"\n            alt="'+u(typeof(a=null!=(a=d(n,"name")||(null!=e?d(e,"name"):e))?a:l)===c?a.call(s,{name:"name",hash:{},data:i,loc:{start:{line:13,column:17},end:{line:13,column:25}}}):a)+'"\n          />\n        </div>\n        <div class="s-info">\n          <div class="s-name">\n            <span>'+u(typeof(a=null!=(a=d(n,"name")||(null!=e?d(e,"name"):e))?a:l)===c?a.call(s,{name:"name",hash:{},data:i,loc:{start:{line:18,column:18},end:{line:18,column:26}}}):a)+"</span>\n"+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isRed"):e,{name:"if",hash:{},fn:t.program(2,i,0),inverse:t.program(4,i,0),data:i,loc:{start:{line:19,column:12},end:{line:23,column:19}}}))?o:"")+'          </div>\n          <div class="s-talk">'+u(typeof(a=null!=(a=d(n,"talk")||(null!=e?d(e,"talk"):e))?a:l)===c?a.call(s,{name:"talk",hash:{},data:i,loc:{start:{line:25,column:30},end:{line:25,column:38}}}):a)+"</div>\n        </div>\n      </li>\n"},2:function(t,e,n,r,i){return'              <i class="icon-flag s-red"></i>\n'},4:function(t,e,n,r,i){return'              <i class="icon-flag s-blue"></i>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="m-variousTalks">\n  <div class="s-header"><i class="icon-talk"></i>\u5404\u65b9\u8a00\u8bba</div>\n  <ul>\n'+(null!=(o=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"list"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:4,column:4},end:{line:28,column:13}}}))?o:"")+"  </ul>\n</section>"},useData:!0})},47245:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <figcaption><i class="icon-quotes-left"></i>'+(null!=(o="function"===typeof(a=null!=(a=s(n,"alt")||(null!=e?s(e,"alt"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"alt",hash:{},data:i,loc:{start:{line:37,column:48},end:{line:37,column:57}}}):a)?o:"")+"</figcaption>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<figure class="m-video js-article-video" data-index="'+u(typeof(a=null!=(a=d(n,"index")||(null!=e?d(e,"index"):e))?a:l)===c?a.call(s,{name:"index",hash:{},data:i,loc:{start:{line:1,column:53},end:{line:1,column:62}}}):a)+'">\n  <div class="s-wrap">\n    <figure class="s-cover js-article-videoCover">\n      <img\n        class="image-lazy"\n        src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n        data-src="'+u(typeof(a=null!=(a=d(n,"cover")||(null!=e?d(e,"cover"):e))?a:l)===c?a.call(s,{name:"cover",hash:{},data:i,loc:{start:{line:7,column:18},end:{line:7,column:27}}}):a)+'"\n        data-thumbnail="'+u(typeof(a=null!=(a=d(n,"thumbnail")||(null!=e?d(e,"thumbnail"):e))?a:l)===c?a.call(s,{name:"thumbnail",hash:{},data:i,loc:{start:{line:8,column:24},end:{line:8,column:37}}}):a)+'"\n        data-no-placeholder="1"\n        alt="'+u(typeof(a=null!=(a=d(n,"alt")||(null!=e?d(e,"alt"):e))?a:l)===c?a.call(s,{name:"alt",hash:{},data:i,loc:{start:{line:10,column:13},end:{line:10,column:20}}}):a)+'"\n      />\n      <i class="icon-play"></i>\n    </figure>\n    <figure class="s-video">\n      <video\n        webkit-playsinline="true"\n        playsinline="true"\n        x5-video-player-fullscreen="false"\n        x5-video-player-type="h5-page"\n        controls="true"\n      >\n      </video>\n    </figure>\n  </div>\n  <div\n    class="s-tip js-open-app"\n    data-param="'+u(typeof(a=null!=(a=d(n,"docId")||(null!=e?d(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:27,column:16},end:{line:27,column:25}}}):a)+'"\n    data-channel="lite_wap_dl_4"\n    data-mod="articleVideoAll"\n    data-act="article_body_video_wakeup"\n    data-position="'+u(typeof(a=null!=(a=d(n,"position")||(null!=e?d(e,"position"):e))?a:l)===c?a.call(s,{name:"position",hash:{},data:i,loc:{start:{line:31,column:19},end:{line:31,column:31}}}):a)+'"\n  >\n    \u6253\u5f00\u7f51\u6613\u65b0\u95fb \u67e5\u770b\u66f4\u591a\u89c6\u9891\n    <i class="icon-arrow"></i>\n  </div>\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"alt"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:36,column:2},end:{line:38,column:9}}}))?o:"")+"</figure>"},useData:!0})},54461:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return"m-voted"},3:function(t,e,n,r,i){return"        \u5355\u9009\n"},5:function(t,e,n,r,i){return"        \u591a\u9009\n"},7:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <label class="s-form-item">\n'+(null!=(o=d(n,"unless").call(s,null!=e?d(e,"isOver"):e,{name:"unless",hash:{},fn:t.program(8,i,0),inverse:t.noop,data:i,loc:{start:{line:20,column:8},end:{line:26,column:19}}}))?o:"")+'        <div class="s-content">'+u(typeof(a=null!=(a=d(n,"name")||(null!=e?d(e,"name"):e))?a:l)===c?a.call(s,{name:"name",hash:{},data:i,loc:{start:{line:27,column:31},end:{line:27,column:39}}}):a)+'</div>\n        <div class="s-num">\n          <span>'+u(typeof(a=null!=(a=d(n,"num")||(null!=e?d(e,"num"):e))?a:l)===c?a.call(s,{name:"num",hash:{},data:i,loc:{start:{line:29,column:16},end:{line:29,column:23}}}):a)+"\u7968</span>\n          <span>"+u(typeof(a=null!=(a=d(n,"rateStr")||(null!=e?d(e,"rateStr"):e))?a:l)===c?a.call(s,{name:"rateStr",hash:{},data:i,loc:{start:{line:30,column:16},end:{line:30,column:27}}}):a)+"</span>\n        </div>\n      </label>\n"},8:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},(o=i&&a(i,"root"))&&a(o,"isRadio"),{name:"if",hash:{},fn:t.program(9,i,0),inverse:t.program(11,i,0),data:i,loc:{start:{line:21,column:10},end:{line:25,column:17}}}))?o:""},9:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <input class="s-input" name="answer" type="radio" value="'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"id")||(null!=e?a(e,"id"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:i,loc:{start:{line:22,column:69},end:{line:22,column:75}}}):o)+'" />\n'},11:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <input class="s-input" name="answer" type="checkbox" value="'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"id")||(null!=e?a(e,"id"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"id",hash:{},data:i,loc:{start:{line:24,column:72},end:{line:24,column:78}}}):o)+'" />\n'},13:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"unless").call(null!=e?e:t.nullContext||{},null!=e?a(e,"isOver"):e,{name:"unless",hash:{},fn:t.program(14,i,0),inverse:t.noop,data:i,loc:{start:{line:35,column:6},end:{line:37,column:17}}}))?o:""},14:function(t,e,n,r,i){return'        <div class="s-submit js-vote-submit">\u63d0\u4ea4</div>\n'},16:function(t,e,n,r,i){return"      \u5df2\u7ed3\u675f\n"},18:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"      "+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"endTime")||(null!=e?a(e,"endTime"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"endTime",hash:{},data:i,loc:{start:{line:45,column:6},end:{line:45,column:17}}}):o)+"\u622a\u6b62\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section \n  class="m-vote js-vote '+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isOver"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:2,column:24},end:{line:2,column:52}}}))?o:"")+' js-open-app"\n  data-param="'+u(typeof(a=null!=(a=d(n,"docId")||(null!=e?d(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:3,column:14},end:{line:3,column:23}}}):a)+'" \n  data-channel="lite_wap_dl_5" \n  data-mod="articlePKPick"\n  data-act="article_body_vote_wakeup"\n>\n  <h4 class="s-title">\n    <span class="s-type">\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isRadio"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.program(5,i,0),data:i,loc:{start:{line:10,column:6},end:{line:14,column:13}}}))?o:"")+"    </span>"+u(typeof(a=null!=(a=d(n,"question")||(null!=e?d(e,"question"):e))?a:l)===c?a.call(s,{name:"question",hash:{},data:i,loc:{start:{line:15,column:11},end:{line:15,column:23}}}):a)+'</h4>\n  <form class="s-form">\n    <input name="voteId" type="hidden" value="'+u(typeof(a=null!=(a=d(n,"voteid")||(null!=e?d(e,"voteid"):e))?a:l)===c?a.call(s,{name:"voteid",hash:{},data:i,loc:{start:{line:17,column:46},end:{line:17,column:56}}}):a)+'" />\n'+(null!=(o=d(n,"each").call(s,null!=e?d(e,"options"):e,{name:"each",hash:{},fn:t.program(7,i,0),inverse:t.noop,data:i,loc:{start:{line:18,column:4},end:{line:33,column:13}}}))?o:"")+(null!=(o=d(n,"unless").call(s,null!=e?d(e,"isRadio"):e,{name:"unless",hash:{},fn:t.program(13,i,0),inverse:t.noop,data:i,loc:{start:{line:34,column:4},end:{line:38,column:15}}}))?o:"")+'  </form>\n  <div class="s-info">\n    '+u(typeof(a=null!=(a=d(n,"sumnum")||(null!=e?d(e,"sumnum"):e))?a:l)===c?a.call(s,{name:"sumnum",hash:{},data:i,loc:{start:{line:41,column:4},end:{line:41,column:14}}}):a)+"\u4eba\u5df2\u53c2\u4e0e\n"+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isOver"):e,{name:"if",hash:{},fn:t.program(16,i,0),inverse:t.program(18,i,0),data:i,loc:{start:{line:42,column:4},end:{line:46,column:11}}}))?o:"")+"  </div>\n</section>"},useData:!0})},91746:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <div class="pay-record">\n          <span class="s-shrink">\u672c\u6587\u6536\u5f55\u4e8e\u4e13\u680f</span>\n          <span class="s-shrink s-strong">\u300a</span>\n          <span class="s-collectName s-strong">'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"collectName")||(null!=e?a(e,"collectName"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"collectName",hash:{},data:i,loc:{start:{line:8,column:47},end:{line:8,column:62}}}):o)+'</span>\n          <span class="s-shrink s-strong">\u300b</span>\n        </div>\n'},3:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <span class="pay-price js-payWap-buy">\n      '+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"buyText")||(null!=e?a(e,"buyText"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"buyText",hash:{},data:i,loc:{start:{line:17,column:6},end:{line:17,column:17}}}):o)+"\n    </span>\n"},5:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <span class="pay-vip js-payWap-buyVip">\n      '+(null!=(o="function"===typeof(a=null!=(a=l(n,"buyVipText")||(null!=e?l(e,"buyVipText"):e))?a:t.hooks.helperMissing)?a.call(s,{name:"buyVipText",hash:{},data:i,loc:{start:{line:22,column:6},end:{line:22,column:22}}}):a)?o:"")+"\n"+(null!=(o=l(n,"if").call(s,null!=e?l(e,"vipBubble"):e,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i,loc:{start:{line:23,column:6},end:{line:25,column:13}}}))?o:"")+"    </span>\n"},6:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'        <span class="s-bubble">'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"vipBubble")||(null!=e?a(e,"vipBubble"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"vipBubble",hash:{},data:i,loc:{start:{line:24,column:31},end:{line:24,column:44}}}):o)+"</span>\n"},8:function(t,e,n,r,i){var o,a,s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <div class="pay-collect js-payWap-buyCollect">\n      '+(null!=(o="function"===typeof(a=null!=(a=s(n,"buyCollectText")||(null!=e?s(e,"buyCollectText"):e))?a:t.hooks.helperMissing)?a.call(null!=e?e:t.nullContext||{},{name:"buyCollectText",hash:{},data:i,loc:{start:{line:30,column:6},end:{line:30,column:26}}}):a)?o:"")+"\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="article-pay '+u(typeof(a=null!=(a=d(n,"rootClz")||(null!=e?d(e,"rootClz"):e))?a:l)===c?a.call(s,{name:"rootClz",hash:{},data:i,loc:{start:{line:1,column:28},end:{line:1,column:39}}}):a)+'">\n  <div class="pay-buyCount-wrap">\n    <div class="pay-buyCount">\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"collectName"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:4,column:6},end:{line:11,column:13}}}))?o:"")+"      <span>"+u(typeof(a=null!=(a=d(n,"buyCountText")||(null!=e?d(e,"buyCountText"):e))?a:l)===c?a.call(s,{name:"buyCountText",hash:{},data:i,loc:{start:{line:12,column:12},end:{line:12,column:28}}}):a)+"</span>\n    </div>\n  </div>\n"+(null!=(o=d(n,"if").call(s,null!=e?d(e,"buyText"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:15,column:2},end:{line:19,column:9}}}))?o:"")+(null!=(o=d(n,"if").call(s,null!=e?d(e,"buyVipText"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:20,column:2},end:{line:27,column:9}}}))?o:"")+(null!=(o=d(n,"if").call(s,null!=e?d(e,"buyCollectText"):e,{name:"if",hash:{},fn:t.program(8,i,0),inverse:t.noop,data:i,loc:{start:{line:28,column:2},end:{line:32,column:9}}}))?o:"")+'  <span class="pay-bugNotes">\u8d2d\u4e70\u5373\u540c\u610f<a href="'+u(typeof(a=null!=(a=d(n,"payNoticeUrl")||(null!=e?d(e,"payNoticeUrl"):e))?a:l)===c?a.call(s,{name:"payNoticeUrl",hash:{},data:i,loc:{start:{line:33,column:43},end:{line:33,column:59}}}):a)+'">\u300a\u8d2d\u4e70\u987b\u77e5\u300b</a>\u53ca<a href="'+u(typeof(a=null!=(a=d(n,"payPrivacyUrl")||(null!=e?d(e,"payPrivacyUrl"):e))?a:l)===c?a.call(s,{name:"payPrivacyUrl",hash:{},data:i,loc:{start:{line:33,column:81},end:{line:33,column:98}}}):a)+'">\u300a\u9690\u79c1\u653f\u7b56\u300b</a></span>\n  <span class="pay-bugNotes">\u652f\u4ed8\u9047\u5230\u95ee\u9898 <a href="'+u(typeof(a=null!=(a=d(n,"feedbackUrl")||(null!=e?d(e,"feedbackUrl"):e))?a:l)===c?a.call(s,{name:"feedbackUrl",hash:{},data:i,loc:{start:{line:34,column:45},end:{line:34,column:60}}}):a)+'">\u63d0\u4ea4\u53cd\u9988</a></span>\n</section>'},useData:!0})},89141:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return'    <div class="paidCollect-line"></div>\n'},3:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'    <a class="payCollect-recommend" href="'+c(typeof(o=null!=(o=u(n,"link")||(null!=e?u(e,"link"):e))?o:s)===l?o.call(a,{name:"link",hash:{},data:i,loc:{start:{line:22,column:42},end:{line:22,column:50}}}):o)+'">\n      <div class="recommend-tip">'+c(typeof(o=null!=(o=u(n,"tip")||(null!=e?u(e,"tip"):e))?o:s)===l?o.call(a,{name:"tip",hash:{},data:i,loc:{start:{line:23,column:33},end:{line:23,column:40}}}):o)+'</div>\n      <div class="recommend-title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:24,column:35},end:{line:24,column:44}}}):o)+'</div>\n      <i class="icon-arrow"></i>\n    </a>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="article-payCollect">\n  <div class="s-title">\u672c\u6587\u6536\u5f55\u4e8e</div>\n  <a class="payCollect-content" href="'+u(typeof(a=null!=(a=d(n,"link")||(null!=e?d(e,"link"):e))?a:l)===c?a.call(s,{name:"link",hash:{},data:i,loc:{start:{line:3,column:38},end:{line:3,column:46}}}):a)+'">\n    <img\n      class="payCollect-cover image-lazy image-error"\n      src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n      data-src="'+u(typeof(a=null!=(a=d(n,"cover")||(null!=e?d(e,"cover"):e))?a:l)===c?a.call(s,{name:"cover",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:25}}}):a)+'"\n      data-thumbnail="300x"\n      alt="'+u(typeof(a=null!=(a=d(n,"collectName")||(null!=e?d(e,"collectName"):e))?a:l)===c?a.call(s,{name:"collectName",hash:{},data:i,loc:{start:{line:9,column:11},end:{line:9,column:26}}}):a)+'"\n    />\n    <div class="payCollect-info">\n      <div class="payCollect-name">'+u(typeof(a=null!=(a=d(n,"collectName")||(null!=e?d(e,"collectName"):e))?a:l)===c?a.call(s,{name:"collectName",hash:{},data:i,loc:{start:{line:12,column:35},end:{line:12,column:50}}}):a)+'</div>\n      <div class="payCollect-count">\n        '+u(typeof(a=null!=(a=d(n,"collectText")||(null!=e?d(e,"collectText"):e))?a:l)===c?a.call(s,{name:"collectText",hash:{},data:i,loc:{start:{line:14,column:8},end:{line:14,column:23}}}):a)+"\n      </div>\n    </div>\n  </a>\n"+(null!=(o=d(n,"if").call(s,null!=e?d(e,"recommendList"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:18,column:2},end:{line:20,column:9}}}))?o:"")+(null!=(o=d(n,"each").call(s,null!=e?d(e,"recommendList"):e,{name:"each",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:21,column:2},end:{line:27,column:11}}}))?o:"")+"</div>"},useData:!0})},64760:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o;return'        <div class="swiper-slide">\n'+(null!=(o=(t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]})(n,"each").call(null!=e?e:t.nullContext||{},e,{name:"each",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i,loc:{start:{line:10,column:10},end:{line:35,column:19}}}))?o:"")+"        </div>\n"},2:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return(null!=(o=d(n,"unless").call(s,i&&d(i,"first"),{name:"unless",hash:{},fn:t.program(3,i,0),inverse:t.noop,data:i,loc:{start:{line:11,column:12},end:{line:13,column:23}}}))?o:"")+'            <a\n              class="s-item js-payVip-recommend"\n              href="'+u(typeof(a=null!=(a=d(n,"link")||(null!=e?d(e,"link"):e))?a:l)===c?a.call(s,{name:"link",hash:{},data:i,loc:{start:{line:16,column:20},end:{line:16,column:28}}}):a)+'"\n              data-act="'+u(typeof(a=null!=(a=d(n,"act")||(null!=e?d(e,"act"):e))?a:l)===c?a.call(s,{name:"act",hash:{},data:i,loc:{start:{line:17,column:24},end:{line:17,column:31}}}):a)+'"\n              data-itemid="'+u(typeof(a=null!=(a=d(n,"docId")||(null!=e?d(e,"docId"):e))?a:l)===c?a.call(s,{name:"docId",hash:{},data:i,loc:{start:{line:18,column:27},end:{line:18,column:36}}}):a)+'"\n              data-position="'+u(typeof(a=null!=(a=d(n,"position")||(null!=e?d(e,"position"):e))?a:l)===c?a.call(s,{name:"position",hash:{},data:i,loc:{start:{line:19,column:29},end:{line:19,column:41}}}):a)+'"\n            >\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"cover"):e,{name:"if",hash:{},fn:t.program(5,i,0),inverse:t.noop,data:i,loc:{start:{line:21,column:14},end:{line:29,column:21}}}))?o:"")+'              <div class="s-info">\n                <div class="s-name">'+u(typeof(a=null!=(a=d(n,"name")||(null!=e?d(e,"name"):e))?a:l)===c?a.call(s,{name:"name",hash:{},data:i,loc:{start:{line:31,column:36},end:{line:31,column:44}}}):a)+'</div>\n                <div class="s-desc">'+(null!=(o=typeof(a=null!=(a=d(n,"desc")||(null!=e?d(e,"desc"):e))?a:l)===c?a.call(s,{name:"desc",hash:{},data:i,loc:{start:{line:32,column:36},end:{line:32,column:46}}}):a)?o:"")+"</div>\n              </div>\n            </a>\n"},3:function(t,e,n,r,i){return'              <span class="s-line"></span>\n'},5:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'                <img\n                  class="s-cover image-lazy image-error"\n                  src="https://static.ws.126.net/163/frontend/images/2022/empty.png"\n                  data-src="'+c(typeof(o=null!=(o=u(n,"cover")||(null!=e?u(e,"cover"):e))?o:s)===l?o.call(a,{name:"cover",hash:{},data:i,loc:{start:{line:25,column:28},end:{line:25,column:37}}}):o)+'"\n                  data-thumbnail="218x"\n                  alt="'+c(typeof(o=null!=(o=u(n,"name")||(null!=e?u(e,"name"):e))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:27,column:23},end:{line:27,column:31}}}):o)+'"\n                />\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="article-payVip-recommend">\n  <div class="s-header">\n    <div class="s-title">'+u(typeof(a=null!=(a=d(n,"title")||(null!=e?d(e,"title"):e))?a:l)===c?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:3,column:25},end:{line:3,column:34}}}):a)+'</div>\n    <a class="js-payVip-more" href="'+u(typeof(a=null!=(a=d(n,"more")||(null!=e?d(e,"more"):e))?a:l)===c?a.call(s,{name:"more",hash:{},data:i,loc:{start:{line:4,column:36},end:{line:4,column:44}}}):a)+'">\u66f4\u591a</a>\n  </div>\n  <div class="payVip-swiper js-payVip-swiper">\n    <div class="swiper-wrapper">\n'+(null!=(o=d(n,"each").call(s,null!=e?d(e,"list"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:8,column:6},end:{line:37,column:15}}}))?o:"")+'    </div>\n    <div class="swiper-pagination"></div>\n  </div>\n\n</div>'},useData:!0})},58955:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <div class="swiper-slide">\n        <img class="image-placeholder" src="'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"src")||(null!=e?a(e,"src"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"src",hash:{},data:i,loc:{start:{line:5,column:44},end:{line:5,column:51}}}):o)+'" />\n      </div>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="photoPreview js-photoPreview">\n  <div class="swiper-wrapper">\n'+(null!=(o=a(n,"each").call(null!=e?e:t.nullContext||{},null!=e?a(e,"list"):e,{name:"each",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:3,column:4},end:{line:7,column:13}}}))?o:"")+'  </div>\n  <pre class="swiper-pagination"></pre>\n  <div class="s-close js-photoPreview-close"></div>\n</div>'},useData:!0})},97095:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="js-dialog-alert dialog-alert">\n  <div class="alert-content">\n    <h4 class="s-title">'+c(typeof(o=null!=(o=u(n,"title")||(null!=e?u(e,"title"):e))?o:s)===l?o.call(a,{name:"title",hash:{},data:i,loc:{start:{line:3,column:24},end:{line:3,column:33}}}):o)+'</h4>\n    <div class="s-subTitle">'+c(typeof(o=null!=(o=u(n,"subTitle")||(null!=e?u(e,"subTitle"):e))?o:s)===l?o.call(a,{name:"subTitle",hash:{},data:i,loc:{start:{line:4,column:28},end:{line:4,column:40}}}):o)+'</div>\n    <div class="js-dialog-alert-ok s-btn">'+c(typeof(o=null!=(o=u(n,"buttonText")||(null!=e?u(e,"buttonText"):e))?o:s)===l?o.call(a,{name:"buttonText",hash:{},data:i,loc:{start:{line:5,column:42},end:{line:5,column:56}}}):o)+"</div>\n  </div>\n</div>"},useData:!0})},24818:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="js-dialog-confirm dialog-confirm '+u(typeof(a=null!=(a=d(n,"clz")||(null!=e?d(e,"clz"):e))?a:l)===c?a.call(s,{name:"clz",hash:{},data:i,loc:{start:{line:1,column:45},end:{line:1,column:52}}}):a)+'">\n  <div class="confirm-content">\n    <h4 class="s-title">'+u(typeof(a=null!=(a=d(n,"title")||(null!=e?d(e,"title"):e))?a:l)===c?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:3,column:24},end:{line:3,column:33}}}):a)+'</h4>\n    <div class="s-subTitle">'+(null!=(o=typeof(a=null!=(a=d(n,"subTitle")||(null!=e?d(e,"subTitle"):e))?a:l)===c?a.call(s,{name:"subTitle",hash:{},data:i,loc:{start:{line:4,column:28},end:{line:4,column:42}}}):a)?o:"")+'</div>\n    <div class="s-btns">\n      <div class="js-dialog-confirm-cancel s-btn s-btn-1">'+u(typeof(a=null!=(a=d(n,"button1Text")||(null!=e?d(e,"button1Text"):e))?a:l)===c?a.call(s,{name:"button1Text",hash:{},data:i,loc:{start:{line:6,column:58},end:{line:6,column:73}}}):a)+'</div>\n      <div class="js-dialog-confirm-ok s-btn s-btn-2">'+u(typeof(a=null!=(a=d(n,"button2Text")||(null!=e?d(e,"button2Text"):e))?a:l)===c?a.call(s,{name:"button2Text",hash:{},data:i,loc:{start:{line:7,column:54},end:{line:7,column:69}}}):a)+"</div>\n    </div>\n  </div>\n</div>"},useData:!0})},16260:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){return'<div class="js-login-wrap login-wrap">\n  <div class="login-module">\n    <div class="js-login-title login-title"></div>\n    <span class="login-close js-login-close"><i class="icon-close"></i></span>\n    <div id="js-login-module"></div>\n  </div>\n</div>'},useData:!0})},90980:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,l="function",c=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="js-login-drawer-wrap login-drawer-wrap">\n  <div class="login-drawer">\n    <div class="login-drawer-content js-login-drawer">\n    </div>\n    <div class="s-holder"></div>\n    <a class="s-distribution" href="'+c(typeof(o=null!=(o=u(n,"distributionUrl")||(null!=e?u(e,"distributionUrl"):e))?o:s)===l?o.call(a,{name:"distributionUrl",hash:{},data:i,loc:{start:{line:6,column:36},end:{line:6,column:55}}}):o)+'">\n      <img src="'+c(typeof(o=null!=(o=u(n,"distributionImage")||(null!=e?u(e,"distributionImage"):e))?o:s)===l?o.call(a,{name:"distributionImage",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:37}}}):o)+'" />\n    </a>\n    <a class="s-feedback" href="'+c(typeof(o=null!=(o=u(n,"feedbackUrl")||(null!=e?u(e,"feedbackUrl"):e))?o:s)===l?o.call(a,{name:"feedbackUrl",hash:{},data:i,loc:{start:{line:9,column:32},end:{line:9,column:47}}}):o)+'">\u610f\u89c1\u53cd\u9988</a>\n  </div>\n</div>'},useData:!0})},22508:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){return'<div class="login-drawer-module">\n  <div id="js-login-drawer-module"></div>\n</div>'},useData:!0})},65512:function(t,e,n){var r=n(88655);t.exports=(r.default||r).template({1:function(t,e,n,r,i){return'      <i class="icon-vip"></i>\n'},3:function(t,e,n,r,i){return'    <span class="s-duration">\u5df2\u5f00\u901a\u8ba2\u9605\u4f1a\u5458,\n      <a class="s-cancelAuto" href="https://wp.m.163.com/163/page/word/paid_content/wap_cancel_auto_renewal.html">\n        \u53d6\u6d88\u81ea\u52a8\u7eed\u8d39 <i class="icon-arrow"></i>\n      </a>\n    </span>\n    <span class="s-duration">\n      <a href="https://wp.m.163.com/163/page/word/paid_content/wap_vip_equity.html">\n        \u4f1a\u5458\u6743\u76ca<span class="s-icon-info"></span>\n      </a>\n    </span>\n'},5:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=a(n,"if").call(null!=e?e:t.nullContext||{},null!=e?a(e,"vipCloseDate"):e,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i,loc:{start:{line:21,column:4},end:{line:28,column:11}}}))?o:""},6:function(t,e,n,r,i){var o,a=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'      <span class="s-duration">\u4f1a\u5458'+t.escapeExpression("function"===typeof(o=null!=(o=a(n,"vipCloseDate")||(null!=e?a(e,"vipCloseDate"):e))?o:t.hooks.helperMissing)?o.call(null!=e?e:t.nullContext||{},{name:"vipCloseDate",hash:{},data:i,loc:{start:{line:22,column:33},end:{line:22,column:49}}}):o)+'\u5230\u671f</span>\n      <span class="s-duration">\n        <a href="https://wp.m.163.com/163/page/word/paid_content/wap_vip_equity.html">\n          \u4f1a\u5458\u6743\u76ca<span class="s-icon-info"></span>\n        </a>\n      </span>\n'},compiler:[8,">= 4.3.0"],main:function(t,e,n,r,i){var o,a,s=null!=e?e:t.nullContext||{},l=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="login-drawer-user">\n  <div class="s-avatar-wrap">\n    <img class="s-avatar" src="'+u(typeof(a=null!=(a=d(n,"avatar")||(null!=e?d(e,"avatar"):e))?a:l)===c?a.call(s,{name:"avatar",hash:{},data:i,loc:{start:{line:3,column:31},end:{line:3,column:41}}}):a)+'" alt="'+u(typeof(a=null!=(a=d(n,"nickName")||(null!=e?d(e,"nickName"):e))?a:l)===c?a.call(s,{name:"nickName",hash:{},data:i,loc:{start:{line:3,column:48},end:{line:3,column:60}}}):a)+'" />\n'+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isVip"):e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.noop,data:i,loc:{start:{line:4,column:4},end:{line:6,column:11}}}))?o:"")+'  </div>\n  <span class="s-nickname">'+u(typeof(a=null!=(a=d(n,"nickName")||(null!=e?d(e,"nickName"):e))?a:l)===c?a.call(s,{name:"nickName",hash:{},data:i,loc:{start:{line:8,column:27},end:{line:8,column:39}}}):a)+"</span>\n"+(null!=(o=d(n,"if").call(s,null!=e?d(e,"isSubscription"):e,{name:"if",hash:{},fn:t.program(3,i,0),inverse:t.program(5,i,0),data:i,loc:{start:{line:9,column:2},end:{line:29,column:9}}}))?o:"")+'  <span class="s-holder"></span>\n  <a class="s-link" href="'+u(typeof(a=null!=(a=d(n,"mailUrl")||(null!=e?d(e,"mailUrl"):e))?a:l)===c?a.call(s,{name:"mailUrl",hash:{},data:i,loc:{start:{line:31,column:26},end:{line:31,column:37}}}):a)+'">\n    <i class="icon-email"></i>\n    <span class="s-text">\u6211\u7684\u90ae\u7bb1</span>\n  </a>\n  <a class="s-link" href="/wap/special/mycomments/">\n    <i class="icon-talking"></i>\n    <span class="s-text">\u6211\u7684\u8ddf\u8d34 </span>\n  </a>\n  <a class="s-link" href="/wap/special/my_purchased/">\n    <i class="icon-read"></i>\n    <span class="s-text">\u6211\u7684\u5df2\u8d2d </span>\n  </a>\n  <span class="s-link js-login-out">\n    <i class="icon-switch"></i>\n    <span class="s-text">\u9000\u51fa\u767b\u5f55</span>\n  </span>\n</div>'},useData:!0})},75034:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}e.__esModule=!0;var o=i(n(14207)),a=r(n(2586)),s=r(n(62024)),l=i(n(69704)),c=i(n(11546)),u=r(n(63179));function d(){var t=new o.HandlebarsEnvironment;return l.extend(t,o),t.SafeString=a.default,t.Exception=s.default,t.Utils=l,t.escapeExpression=l.escapeExpression,t.VM=c,t.template=function(e){return c.template(e,t)},t}var h=d();h.create=d,u.default(h),h.default=h,e.default=h,t.exports=e.default},14207:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.HandlebarsEnvironment=d;var i=n(69704),o=r(n(62024)),a=n(74870),s=n(11576),l=r(n(50765)),c=n(73467);e.VERSION="4.7.7";e.COMPILER_REVISION=8;e.LAST_COMPATIBLE_COMPILER_REVISION=7;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var u="[object Object]";function d(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:l.default,log:l.default.log,registerHelper:function(t,e){if(i.toString.call(t)===u){if(e)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(i.toString.call(t)===u)i.extend(this.partials,t);else{if("undefined"===typeof e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(i.toString.call(t)===u){if(e)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var h=l.default.log;e.log=h,e.createFrame=i.createFrame,e.logger=l.default},11576:function(t,e,n){"use strict";e.__esModule=!0,e.registerDefaultDecorators=function(t){o.default(t)};var r,i=n(98642),o=(r=i)&&r.__esModule?r:{default:r}},98642:function(t,e,n){"use strict";e.__esModule=!0;var r=n(69704);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(i,o);return n.partials=a,s}),e.partials[i.args[0]]=i.fn,o}))},t.exports=e.default},62024:function(t,e){"use strict";e.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(t,e){var i=e&&e.loc,o=void 0,a=void 0,s=void 0,l=void 0;i&&(o=i.start.line,a=i.end.line,s=i.start.column,l=i.end.column,t+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,t),u=0;u<n.length;u++)this[n[u]]=c[n[u]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{i&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(d){}}r.prototype=new Error,e.default=r,t.exports=e.default},74870:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),o.default(t),a.default(t),s.default(t),l.default(t),c.default(t),u.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var i=r(n(38810)),o=r(n(65847)),a=r(n(77780)),s=r(n(95229)),l=r(n(33328)),c=r(n(5124)),u=r(n(54089))},38810:function(t,e,n){"use strict";e.__esModule=!0;var r=n(69704);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var i=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(e,n)}))},t.exports=e.default},65847:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(69704),o=n(62024),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new a.default("Must pass iterator to #each");var r=e.fn,o=e.inverse,s=0,l="",c=void 0,u=void 0;function d(e,n,o){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!o,u&&(c.contextPath=u+e)),l+=r(t[e],{data:c,blockParams:i.blockParams([t[e],e],[u+e,null])})}if(e.data&&e.ids&&(u=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(c=i.createFrame(e.data)),t&&"object"===typeof t)if(i.isArray(t))for(var h=t.length;s<h;s++)s in t&&d(s,s,s===t.length-1);else if(n.g.Symbol&&t[n.g.Symbol.iterator]){for(var f=[],p=t[n.g.Symbol.iterator](),g=p.next();!g.done;g=p.next())f.push(g.value);for(h=(t=f).length;s<h;s++)d(s,s,s===t.length-1)}else!function(){var e=void 0;Object.keys(t).forEach((function(t){void 0!==e&&d(e,s-1),e=t,s++})),void 0!==e&&d(e,s-1,!0)}();return 0===s&&(l=o(this)),l}))},t.exports=e.default},77780:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(62024),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},95229:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(69704),o=n(62024),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},33328:function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)}))},t.exports=e.default},5124:function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},54089:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(69704),o=n(62024),a=(r=o)&&r.__esModule?r:{default:r};e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},82943:function(t,e,n){"use strict";e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(e))};var r=n(69704)},73467:function(t,e,n){"use strict";e.__esModule=!0,e.createProtoAccessControl=function(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return a("function"===typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){Object.keys(o).forEach((function(t){delete o[t]}))};var r=n(82943),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(50765)),o=Object.create(null);function a(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==o[t]&&(o[t]=!0,i.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},91205:function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){if("function"!==typeof t)return t;return function(){return arguments[arguments.length-1]=e(arguments[arguments.length-1]),t.apply(this,arguments)}}},50765:function(t,e,n){"use strict";e.__esModule=!0;var r=n(69704),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"===typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!==typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},63179:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e="undefined"!==typeof n.g?n.g:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default},11546:function(t,e,n){"use strict";e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=s.COMPILER_REVISION;if(e>=s.LAST_COMPATIBLE_COMPILER_REVISION&&e<=s.COMPILER_REVISION)return;if(e<s.LAST_COMPATIBLE_COMPILER_REVISION){var r=s.REVISION_CHANGES[n],i=s.REVISION_CHANGES[e];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")},e.template=function(t,e){if(!e)throw new a.default("No environment passed to template");if(!t||!t.main)throw new a.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0];var r={strict:function(t,e,n){if(!t||!(e in t))throw new a.default('"'+e+'" not defined in '+t,{loc:n});return r.lookupProperty(t,e)},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||u.resultIsAllowed(n,r.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,i=0;i<n;i++){if(null!=(t[i]&&r.lookupProperty(t[i],e)))return t[i][e]}},lambda:function(t,e){return"function"===typeof t?t.call(e):t},escapeExpression:i.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=i.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,o);var s=i.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=e.VM.invokePartial.call(this,n,r,s);if(null==l&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),l=o.partials[o.name](r,s)),null!=l){if(o.indent){for(var c=l.split("\n"),u=0,d=c.length;u<d&&(c[u]||u+1!==d);u++)c[u]=o.indent+c[u];l=c.join("\n")}return l}throw new a.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],a=this.fn(t);return e||i||r||n?o=d(this,t,a,e,n,r,i):o||(o=this.programs[t]=d(this,t,a)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=i.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function o(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;o._setup(n),!n.partial&&t.useData&&(i=f(e,i));var a=void 0,s=t.useBlockParams?[]:void 0;function l(e){return""+t.main(r,e,r.helpers,r.partials,i,s,a)}return t.useDepths&&(a=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(l=p(t.main,l,r,n.depths||[],i,s))(e,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)r.protoAccessControl=o.protoAccessControl,r.helpers=o.helpers,r.partials=o.partials,r.decorators=o.decorators,r.hooks=o.hooks;else{var a=i.extend({},e.helpers,o.helpers);!function(t,e){Object.keys(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return c.wrapHelper(t,(function(t){return i.extend({lookupProperty:n},t)}))}(r,e)}))}(a,r),r.helpers=a,t.usePartial&&(r.partials=r.mergeIfNeeded(o.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=i.extend({},e.decorators,o.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(o);var s=o.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",s),l.moveHelperToHooks(r,"blockHelperMissing",s)}},o._child=function(e,n,i,o){if(t.useBlockParams&&!i)throw new a.default("must pass block params");if(t.useDepths&&!o)throw new a.default("must pass parent depths");return d(r,e,t[e],n,0,i,o)},o},e.wrapProgram=d,e.resolvePartial=function(t,e,n){t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;n.fn&&n.fn!==h&&function(){n.data=s.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=s.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=i.extend({},n.partials,t.partials))}();void 0===t&&o&&(t=o);if(void 0===t)throw new a.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=h;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(69704)),o=n(62024),a=(r=o)&&r.__esModule?r:{default:r},s=n(14207),l=n(74870),c=n(91205),u=n(73467);function d(t,e,n,r,i,o,a){function s(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return(s=p(n,s,t,a,r,o)).program=e,s.depth=a?a.length:0,s.blockParams=i||0,s}function h(){return""}function f(t,e){return e&&"root"in e||((e=e?s.createFrame(e):{}).root=t),e}function p(t,e,n,r,o,a){if(t.decorator){var s={};e=t.decorator(e,s,n,r&&r[0],o,a,r),i.extend(e,s)}return e}},2586:function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},69704:function(t,e){"use strict";e.__esModule=!0,e.extend=a,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!==typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}if(!i.test(t))return t;return t.replace(r,o)},e.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},e.createFrame=function(t){var e=a({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(t){return n[t]}function a(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var s=Object.prototype.toString;e.toString=s;var l=function(t){return"function"===typeof t};l(/x/)&&(e.isFunction=l=function(t){return"function"===typeof t&&"[object Function]"===s.call(t)}),e.isFunction=l;var c=Array.isArray||function(t){return!(!t||"object"!==typeof t)&&"[object Array]"===s.call(t)};e.isArray=c},88655:function(t,e,n){t.exports=n(75034).default},17827:function(){!function(){"use strict";if("object"===typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=i(e);n;)n=i(e=n.ownerDocument);return e}(),e=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?h(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(o&&t.clearInterval(o),l(t,"resize",r,!0)),l(e,"scroll",r,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var u=i(e);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t,o=this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==e)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),e!=r){var s=i(e);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=u(i),s=this._rootContainsTarget(i),l=r.entry,c=t&&s&&this._computeTargetAndRootIntersection(i,a,e),d=null;this._rootContainsTarget(i)?n&&!this.root||(d=e):d={top:0,bottom:0,left:0,right:0,width:0,height:0};var h=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:d,intersectionRect:c});l?t&&s?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,i,o){if("none"!=window.getComputedStyle(e).display){for(var a=i,s=p(e),l=!1;!l&&s;){var d=null,f=1==s.nodeType?window.getComputedStyle(s):{};if("none"==f.display)return null;if(s==this.root||9==s.nodeType)if(l=!0,s==this.root||s==t)n&&!this.root?!r||0==r.width&&0==r.height?(s=null,d=null,a=null):d=r:d=o;else{var g=p(s),m=g&&u(g),v=g&&this._computeTargetAndRootIntersection(g,m,o);m&&v?(s=g,d=h(m,v)):(s=null,a=null)}else{var y=s.ownerDocument;s!=y.body&&s!=y.documentElement&&"visible"!=f.overflow&&(d=u(s))}if(d&&(a=c(d,a)),!a)break;s=s&&p(s)}return a}},a.prototype._getRootRect=function(){var e;if(this.root&&!g(this.root))e=u(this.root);else{var n=g(this.root)?this.root:t,r=n.documentElement,i=n.body;e={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!==o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||f(t,this.root)},a.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return f(n,e)&&(!this.root||n==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(e){return null}}function o(t){this.time=t.time,this.target=t.target,this.rootBounds=d(t.rootBounds),this.boundingClientRect=d(t.boundingClientRect),this.intersectionRect=d(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=function(t,e){var n=null;return function(){n||(n=setTimeout((function(){t(),n=null}),e))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t,e){var n=Math.max(t.top,e.top),r=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),o=Math.min(t.right,e.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function u(t){var e;try{e=t.getBoundingClientRect()}catch(n){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function h(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function f(t,e){for(var n=e;n;){if(n==t)return!0;n=p(n)}return!1}function p(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?i(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function g(t){return t&&9===t.nodeType}}()},99996:function(){},79588:function(t,e,n){"use strict";n.d(e,{EH:function(){return Ie},U5:function(){return Pe},gx:function(){return Je},jQ:function(){return je},ky:function(){return hn},z:function(){return Re}});function r(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw new Error("number"===typeof t?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var i={};function o(){return"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:i}var a=Object.assign,s=Object.getOwnPropertyDescriptor,l=Object.defineProperty,c=Object.prototype,u=[];Object.freeze(u);var d={};Object.freeze(d);var h="undefined"!==typeof Proxy,f=Object.toString();function p(){h||r("Proxy not available")}function g(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var m=function(){};function v(t){return"function"===typeof t}function y(t){switch(typeof t){case"string":case"symbol":case"number":return!0}return!1}function b(t){return null!==t&&"object"===typeof t}function w(t){if(!b(t))return!1;var e=Object.getPrototypeOf(t);if(null==e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"===typeof n&&n.toString()===f}function E(t){var e=null==t?void 0:t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function _(t,e,n){l(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function T(t,e,n){l(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function x(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return b(t)&&!0===t[n]}}function S(t){return t instanceof Map}function L(t){return t instanceof Set}var k="undefined"!==typeof Object.getOwnPropertySymbols;var A="undefined"!==typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:k?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function O(t){return null===t?null:"object"===typeof t?""+t:t}function R(t,e){return c.hasOwnProperty.call(t,e)}var C=Object.getOwnPropertyDescriptors||function(t){var e={};return A(t).forEach((function(n){e[n]=s(t,n)})),e};function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function N(){return N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N.apply(this,arguments)}function P(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,M(t,e)}function M(t,e){return M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},M(t,e)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"===typeof t)return B(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(t,e):void 0}}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j=Symbol("mobx-stored-annotations");function $(t){return Object.assign((function(e,n){G(e,n,t)}),t)}function G(t,e,n){R(t,j)||_(t,j,N({},t[j])),function(t){return t.annotationType_===Y}(n)||(t[j][e]=n)}var H=Symbol("mobx administration"),K=function(){function t(t){void 0===t&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$t.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},e.reportObserved=function(){return fe(this)},e.reportChanged=function(){de(),pe(this),he()},e.toString=function(){return this.name_},t}(),V=x("Atom",K);function z(t,e,n){void 0===e&&(e=m),void 0===n&&(n=m);var r,i=new K(t);return e!==m&&Be(Me,i,e,r),n!==m&&Fe(i,n),i}var Z={identity:function(t,e){return t===e},structural:function(t,e){return tr(t,e)},default:function(t,e){return Object.is?Object.is(t,e):t===e?0!==t||1/t===1/e:t!==t&&e!==e},shallow:function(t,e){return tr(t,e,1)}};function q(t,e,n){return Ye(t)?t:Array.isArray(t)?Lt.array(t,{name:n}):w(t)?Lt.object(t,void 0,{name:n}):S(t)?Lt.map(t,{name:n}):L(t)?Lt.set(t,{name:n}):"function"!==typeof t||Ce(t)||qe(t)?t:E(t)?ze(t):Oe(n,t)}function W(t){return t}var Y="override";function X(t,e){return{annotationType_:t,options_:e,make_:Q,extend_:J}}function Q(t,e,n,r){var i;if(null!=(i=this.options_)&&i.bound)return null===this.extend_(t,e,n,!1)?0:1;if(r===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if(Ce(n.value))return 1;var o=tt(t,this,e,n,!1);return l(r,e,o),2}function J(t,e,n,r){var i=tt(t,this,e,n);return t.defineProperty_(e,i,r)}function tt(t,e,n,r,i){var o,a,s,l,c,u,d,h;void 0===i&&(i=se.safeDescriptors),h=r,e.annotationType_,h.value;var f,p=r.value;null!=(o=e.options_)&&o.bound&&(p=p.bind(null!=(f=t.proxy_)?f:t.target_));return{value:Mt(null!=(a=null==(s=e.options_)?void 0:s.name)?a:n.toString(),p,null!=(l=null==(c=e.options_)?void 0:c.autoAction)&&l,null!=(u=e.options_)&&u.bound?null!=(d=t.proxy_)?d:t.target_:void 0),configurable:!i||t.isPlainObject_,enumerable:!1,writable:!i}}function et(t,e){return{annotationType_:t,options_:e,make_:nt,extend_:rt}}function nt(t,e,n,r){var i;if(r===t.target_)return null===this.extend_(t,e,n,!1)?0:2;if(null!=(i=this.options_)&&i.bound&&(!R(t.target_,e)||!qe(t.target_[e]))&&null===this.extend_(t,e,n,!1))return 0;if(qe(n.value))return 1;var o=it(t,this,e,n,!1,!1);return l(r,e,o),2}function rt(t,e,n,r){var i,o=it(t,this,e,n,null==(i=this.options_)?void 0:i.bound);return t.defineProperty_(e,o,r)}function it(t,e,n,r,i,o){var a;void 0===o&&(o=se.safeDescriptors),a=r,e.annotationType_,a.value;var s,l=r.value;(qe(l)||(l=ze(l)),i)&&((l=l.bind(null!=(s=t.proxy_)?s:t.target_)).isMobXFlow=!0);return{value:l,configurable:!o||t.isPlainObject_,enumerable:!1,writable:!o}}function ot(t,e){return{annotationType_:t,options_:e,make_:at,extend_:st}}function at(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function st(t,e,n,r){return function(t,e,n,r){e.annotationType_,r.get;0}(0,this,0,n),t.defineComputedProperty_(e,N({},this.options_,{get:n.get,set:n.set}),r)}function lt(t,e){return{annotationType_:t,options_:e,make_:ct,extend_:ut}}function ct(t,e,n){return null===this.extend_(t,e,n,!1)?0:1}function ut(t,e,n,r){var i,o;return function(t,e,n,r){e.annotationType_;0}(0,this),t.defineObservableProperty_(e,n.value,null!=(i=null==(o=this.options_)?void 0:o.enhancer)?i:q,r)}var dt=ht();function ht(t){return{annotationType_:"true",options_:t,make_:ft,extend_:pt}}function ft(t,e,n,r){var i,o,a,s;if(n.get)return Rt.make_(t,e,n,r);if(n.set){var c=Mt(e.toString(),n.set);return r===t.target_?null===t.defineProperty_(e,{configurable:!se.safeDescriptors||t.isPlainObject_,set:c})?0:2:(l(r,e,{configurable:!0,set:c}),2)}if(r!==t.target_&&"function"===typeof n.value)return E(n.value)?(null!=(s=this.options_)&&s.autoBind?ze.bound:ze).make_(t,e,n,r):(null!=(a=this.options_)&&a.autoBind?Oe.bound:Oe).make_(t,e,n,r);var u,d=!1===(null==(i=this.options_)?void 0:i.deep)?Lt.ref:Lt;"function"===typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(u=t.proxy_)?u:t.target_));return d.make_(t,e,n,r)}function pt(t,e,n,r){var i,o,a;if(n.get)return Rt.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:!se.safeDescriptors||t.isPlainObject_,set:Mt(e.toString(),n.set)},r);"function"===typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(a=t.proxy_)?a:t.target_));return(!1===(null==(o=this.options_)?void 0:o.deep)?Lt.ref:Lt).extend_(t,e,n,r)}var gt={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function mt(t){return t||gt}Object.freeze(gt);var vt=lt("observable"),yt=lt("observable.ref",{enhancer:W}),bt=lt("observable.shallow",{enhancer:function(t,e,n){return void 0===t||null===t||Un(t)||xn(t)||On(t)||In(t)?t:Array.isArray(t)?Lt.array(t,{name:n,deep:!1}):w(t)?Lt.object(t,void 0,{name:n,deep:!1}):S(t)?Lt.map(t,{name:n,deep:!1}):L(t)?Lt.set(t,{name:n,deep:!1}):void 0}}),wt=lt("observable.struct",{enhancer:function(t,e){return tr(t,e)?e:t}}),Et=$(vt);function _t(t){return!0===t.deep?q:!1===t.deep?W:function(t){var e,n;return t&&null!=(e=null==(n=t.options_)?void 0:n.enhancer)?e:q}(t.defaultDecorator)}function Tt(t,e,n){if(!y(e))return Ye(t)?t:w(t)?Lt.object(t,e,n):Array.isArray(t)?Lt.array(t,e):S(t)?Lt.map(t,e):L(t)?Lt.set(t,e):"object"===typeof t&&null!==t?t:Lt.box(t,e);G(t,e,vt)}Object.assign(Tt,Et);var xt,St,Lt=a(Tt,{box:function(t,e){var n=mt(e);return new Ht(t,_t(n),n.name,!0,n.equals)},array:function(t,e){var n=mt(e);return(!1===se.useProxies||!1===n.proxy?Wn:vn)(t,_t(n),n.name)},map:function(t,e){var n=mt(e);return new An(t,_t(n),n.name)},set:function(t,e){var n=mt(e);return new Cn(t,_t(n),n.name)},object:function(t,e,n){return $e(!1===se.useProxies||!1===(null==n?void 0:n.proxy)?Mn({},n):function(t,e){var n,r;return p(),t=Mn(t,e),null!=(r=(n=t[H]).proxy_)?r:n.proxy_=new Proxy(t,rn)}({},n),t,e)},ref:$(yt),shallow:$(bt),deep:Et,struct:$(wt)}),kt="computed",At=ot(kt),Ot=ot("computed.struct",{equals:Z.structural}),Rt=function(t,e){if(y(e))return G(t,e,At);if(w(t))return $(ot(kt,t));var n=w(e)?e:{};return n.get=t,n.name||(n.name=t.name||""),new Kt(n)};Object.assign(Rt,At),Rt.struct=$(Ot);var Ct,It=0,Dt=1,Nt=null!=(xt=null==(St=s((function(){}),"name"))?void 0:St.configurable)&&xt,Pt={value:"action",configurable:!0,writable:!1,enumerable:!1};function Mt(t,e,n,r){function i(){return Ft(t,n,e,r||this,arguments)}return void 0===n&&(n=!1),i.isMobxAction=!0,Nt&&(Pt.value=t,Object.defineProperty(i,"name",Pt)),i}function Ft(t,e,n,i,o){var a=function(t,e,n,r){var i=!1,o=0;0;var a=se.trackingDerivation,s=!e||!a;de();var l=se.allowStateChanges;s&&(Jt(),l=Ut(!0));var c=ee(!0),u={runAsAction_:s,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:o,actionId_:Dt++,parentActionId_:It};return It=u.actionId_,u}(0,e);try{return n.apply(i,o)}catch(s){throw a.error_=s,s}finally{!function(t){It!==t.actionId_&&r(30);It=t.parentActionId_,void 0!==t.error_&&(se.suppressReactionErrors=!0);jt(t.prevAllowStateChanges_),ne(t.prevAllowStateReads_),he(),t.runAsAction_&&te(t.prevDerivation_);0;se.suppressReactionErrors=!1}(a)}}function Bt(t,e){var n=Ut(t);try{return e()}finally{jt(n)}}function Ut(t){var e=se.allowStateChanges;return se.allowStateChanges=t,e}function jt(t){se.allowStateChanges=t}Ct=Symbol.toPrimitive;var $t,Gt,Ht=function(t,e){function n(e,n,r,i,o){var a;return void 0===r&&(r="ObservableValue"),void 0===i&&(i=!0),void 0===o&&(o=Z.default),(a=t.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=o,a.value_=n(e,void 0,r),a}P(n,t);var r=n.prototype;return r.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},r.set=function(t){this.value_;if((t=this.prepareNewValue_(t))!==se.UNCHANGED){0,this.setNewValue_(t)}},r.prepareNewValue_=function(t){if(Wt(this),on(this)){var e=sn(this,{object:this,type:pn,newValue:t});if(!e)return se.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?se.UNCHANGED:t},r.setNewValue_=function(t){var e=this.value_;this.value_=t,this.reportChanged(),ln(this)&&un(this,{type:pn,object:this,newValue:t,oldValue:e})},r.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},r.intercept_=function(t){return an(this,t)},r.observe_=function(t,e){return e&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:pn,newValue:this.value_,oldValue:void 0}),cn(this,t)},r.raw=function(){return this.value_},r.toJSON=function(){return this.get()},r.toString=function(){return this.name_+"["+this.value_+"]"},r.valueOf=function(){return O(this.get())},r[e]=function(){return this.valueOf()},n}(K,Ct),Kt=function(t){function e(t){this.dependenciesState_=$t.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$t.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new zt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Gt.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||r(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=Mt("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Z.structural:Z.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var n=e.prototype;return n.onBecomeStale_=function(){!function(t){if(t.lowestObserverState_!==$t.UP_TO_DATE_)return;t.lowestObserverState_=$t.POSSIBLY_STALE_,t.observers_.forEach((function(t){t.dependenciesState_===$t.UP_TO_DATE_&&(t.dependenciesState_=$t.POSSIBLY_STALE_,t.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach((function(t){return t()}))},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(t){return t()}))},n.get=function(){if(this.isComputing_&&r(32,this.name_,this.derivation),0!==se.inBatch||0!==this.observers_.size||this.keepAlive_){if(fe(this),qt(this)){var t=se.trackingContext;this.keepAlive_&&!t&&(se.trackingContext=this),this.trackAndCompute()&&function(t){if(t.lowestObserverState_===$t.STALE_)return;t.lowestObserverState_=$t.STALE_,t.observers_.forEach((function(e){e.dependenciesState_===$t.POSSIBLY_STALE_?e.dependenciesState_=$t.STALE_:e.dependenciesState_===$t.UP_TO_DATE_&&(t.lowestObserverState_=$t.UP_TO_DATE_)}))}(this),se.trackingContext=t}}else qt(this)&&(this.warnAboutUntrackedRead_(),de(),this.value_=this.computeValue_(!1),he());var e=this.value_;if(Zt(e))throw e.cause;return e},n.set=function(t){if(this.setter_){this.isRunningSetter_&&r(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else r(34,this.name_)},n.trackAndCompute=function(){var t=this.value_,e=this.dependenciesState_===$t.NOT_TRACKING_,n=this.computeValue_(!0),r=e||Zt(t)||Zt(n)||!this.equals_(t,n);return r&&(this.value_=n),r},n.computeValue_=function(t){this.isComputing_=!0;var e,n=Ut(!1);if(t)e=Yt(this,this.derivation,this.scope_);else if(!0===se.disableErrorBoundaries)e=this.derivation.call(this.scope_);else try{e=this.derivation.call(this.scope_)}catch(r){e=new zt(r)}return jt(n),this.isComputing_=!1,e},n.suspend_=function(){this.keepAlive_||(Xt(this),this.value_=void 0)},n.observe_=function(t,e){var n=this,r=!0,i=void 0;return Ie((function(){var o=n.get();if(!r||e){var a=Jt();t({observableKind:"computed",debugObjectName:n.name_,type:pn,object:n,newValue:o,oldValue:i}),te(a)}r=!1,i=o}))},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return O(this.get())},n[t]=function(){return this.valueOf()},e}(Symbol.toPrimitive),Vt=x("ComputedValue",Kt);!function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"}($t||($t={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Gt||(Gt={}));var zt=function(t){this.cause=void 0,this.cause=t};function Zt(t){return t instanceof zt}function qt(t){switch(t.dependenciesState_){case $t.UP_TO_DATE_:return!1;case $t.NOT_TRACKING_:case $t.STALE_:return!0;case $t.POSSIBLY_STALE_:for(var e=ee(!0),n=Jt(),r=t.observing_,i=r.length,o=0;o<i;o++){var a=r[o];if(Vt(a)){if(se.disableErrorBoundaries)a.get();else try{a.get()}catch(s){return te(n),ne(e),!0}if(t.dependenciesState_===$t.STALE_)return te(n),ne(e),!0}}return re(t),te(n),ne(e),!1}}function Wt(t){}function Yt(t,e,n){var r=ee(!0);re(t),t.newObserving_=new Array(t.observing_.length+100),t.unboundDepsCount_=0,t.runId_=++se.runId;var i,o=se.trackingDerivation;if(se.trackingDerivation=t,se.inBatch++,!0===se.disableErrorBoundaries)i=e.call(n);else try{i=e.call(n)}catch(a){i=new zt(a)}return se.inBatch--,se.trackingDerivation=o,function(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=$t.UP_TO_DATE_,i=0,o=t.unboundDepsCount_,a=0;a<o;a++){var s=n[a];0===s.diffValue_&&(s.diffValue_=1,i!==a&&(n[i]=s),i++),s.dependenciesState_>r&&(r=s.dependenciesState_)}n.length=i,t.newObserving_=null,o=e.length;for(;o--;){var l=e[o];0===l.diffValue_&&ce(l,t),l.diffValue_=0}for(;i--;){var c=n[i];1===c.diffValue_&&(c.diffValue_=0,le(c,t))}r!==$t.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}(t),ne(r),i}function Xt(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)ce(e[n],t);t.dependenciesState_=$t.NOT_TRACKING_}function Qt(t){var e=Jt();try{return t()}finally{te(e)}}function Jt(){var t=se.trackingDerivation;return se.trackingDerivation=null,t}function te(t){se.trackingDerivation=t}function ee(t){var e=se.allowStateReads;return se.allowStateReads=t,e}function ne(t){se.allowStateReads=t}function re(t){if(t.dependenciesState_!==$t.UP_TO_DATE_){t.dependenciesState_=$t.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=$t.UP_TO_DATE_}}var ie=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},oe=!0,ae=!1,se=function(){var t=o();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(oe=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new ie).version&&(oe=!1),oe?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new ie):(setTimeout((function(){ae||r(35)}),1),new ie)}();function le(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function ce(t,e){t.observers_.delete(e),0===t.observers_.size&&ue(t)}function ue(t){!1===t.isPendingUnobservation_&&(t.isPendingUnobservation_=!0,se.pendingUnobservations.push(t))}function de(){se.inBatch++}function he(){if(0===--se.inBatch){ve();for(var t=se.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation_=!1,0===n.observers_.size&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof Kt&&n.suspend_())}se.pendingUnobservations=[]}}function fe(t){var e=se.trackingDerivation;return null!==e?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved_&&se.trackingContext&&(t.isBeingObserved_=!0,t.onBO())),!0):(0===t.observers_.size&&se.inBatch>0&&ue(t),!1)}function pe(t){t.lowestObserverState_!==$t.STALE_&&(t.lowestObserverState_=$t.STALE_,t.observers_.forEach((function(t){t.dependenciesState_===$t.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=$t.STALE_})))}var ge=function(){function t(t,e,n,r){void 0===t&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$t.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Gt.NONE,this.name_=t,this.onInvalidate_=e,this.errorHandler_=n,this.requiresObservable_=r}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,se.pendingReactions.push(this),ve())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){de(),this.isScheduled_=!1;var t=se.trackingContext;if(se.trackingContext=this,qt(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}se.trackingContext=t,he()}},e.track=function(t){if(!this.isDisposed_){de();0,this.isRunning_=!0;var e=se.trackingContext;se.trackingContext=this;var n=Yt(this,t,void 0);se.trackingContext=e,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Xt(this),Zt(n)&&this.reportExceptionInDerivation_(n.cause),he()}},e.reportExceptionInDerivation_=function(t){var e=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(se.disableErrorBoundaries)throw t;var n="[mobx] uncaught error in '"+this+"'";se.suppressReactionErrors||console.error(n,t),se.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(de(),Xt(this),he()))},e.getDisposer_=function(){var t=this.dispose.bind(this);return t[H]=this,t},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(t){void 0===t&&(t=!1),function(){r("trace() is not available in production builds");for(var t=!1,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];"boolean"===typeof n[n.length-1]&&(t=n.pop());var o=Xe(n);if(!o)return r("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing_===Gt.NONE&&console.log("[mobx.trace] '"+o.name_+"' tracing enabled");o.isTracing_=t?Gt.BREAK:Gt.LOG}(this,t)},t}();var me=function(t){return t()};function ve(){se.inBatch>0||se.isRunningReactions||me(ye)}function ye(){se.isRunningReactions=!0;for(var t=se.pendingReactions,e=0;t.length>0;){100===++e&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}se.isRunningReactions=!1}var be=x("Reaction",ge);var we="action",Ee="autoAction",_e="<unnamed action>",Te=X(we),xe=X("action.bound",{bound:!0}),Se=X(Ee,{autoAction:!0}),Le=X("autoAction.bound",{autoAction:!0,bound:!0});function ke(t){return function(e,n){return v(e)?Mt(e.name||_e,e,t):v(n)?Mt(e,n,t):y(n)?G(e,n,t?Se:Te):y(e)?$(X(t?Ee:we,{name:e,autoAction:t})):void 0}}var Ae=ke(!1);Object.assign(Ae,Te);var Oe=ke(!0);function Re(t){return Ft(t.name,!1,t,this,void 0)}function Ce(t){return v(t)&&!0===t.isMobxAction}function Ie(t,e){var n,r;void 0===e&&(e=d);var i,o=null!=(n=null==(r=e)?void 0:r.name)?n:"Autorun";if(!e.scheduler&&!e.delay)i=new ge(o,(function(){this.track(l)}),e.onError,e.requiresObservable);else{var a=Ne(e),s=!1;i=new ge(o,(function(){s||(s=!0,a((function(){s=!1,i.isDisposed_||i.track(l)})))}),e.onError,e.requiresObservable)}function l(){t(i)}return i.schedule_(),i.getDisposer_()}Object.assign(Oe,Se),Ae.bound=$(xe),Oe.bound=$(Le);var De=function(t){return t()};function Ne(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:De}function Pe(t,e,n){var r;void 0===n&&(n=d);var i,o,a,s,l=null!=(r=n.name)?r:"Reaction",c=Ae(l,n.onError?(i=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){i.call(this,t)}}):e),u=!n.scheduler&&!n.delay,h=Ne(n),f=!0,p=!1,g=n.compareStructural?Z.structural:n.equals||Z.default,m=new ge(l,(function(){f||u?v():p||(p=!0,h(v))}),n.onError,n.requiresObservable);function v(){if(p=!1,!m.isDisposed_){var e=!1;m.track((function(){var n=Bt(!1,(function(){return t(m)}));e=f||!g(a,n),s=a,a=n})),(f&&n.fireImmediately||!f&&e)&&c(a,s,m),f=!1}}return m.schedule_(),m.getDisposer_()}var Me="onBO";function Fe(t,e,n){return Be("onBUO",t,e,n)}function Be(t,e,n,r){var i="function"===typeof r?Yn(e,n):Yn(e),o=v(r)?r:n,a=t+"L";return i[a]?i[a].add(o):i[a]=new Set([o]),function(){var t=i[a];t&&(t.delete(o),0===t.size&&delete i[a])}}var Ue="always";function je(t){!0===t.isolateGlobalState&&function(){if((se.pendingReactions.length||se.inBatch||se.isRunningReactions)&&r(36),ae=!0,oe){var t=o();0===--t.__mobxInstanceCount&&(t.__mobxGlobals=void 0),se=new ie}}();var e=t.useProxies,n=t.enforceActions;if(void 0!==e&&(se.useProxies=e===Ue||"never"!==e&&"undefined"!==typeof Proxy),"ifavailable"===e&&(se.verifyProxies=!0),void 0!==n){var i=n===Ue?Ue:"observed"===n;se.enforceActions=i,se.allowStateChanges=!0!==i&&i!==Ue}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(e){e in t&&(se[e]=!!t[e])})),se.allowStateReads=!se.observableRequiresReaction,t.reactionScheduler&&function(t){var e=me;me=function(n){return t((function(){return e(n)}))}}(t.reactionScheduler)}function $e(t,e,n,r){var i=C(e),o=Mn(t,r)[H];de();try{A(i).forEach((function(t){o.extend_(t,i[t],!n||(!(t in n)||n[t]))}))}finally{he()}return t}var Ge=0;function He(){this.message="FLOW_CANCELLED"}He.prototype=Object.create(Error.prototype);var Ke=et("flow"),Ve=et("flow.bound",{bound:!0}),ze=Object.assign((function(t,e){if(y(e))return G(t,e,Ke);var n=t,r=n.name||"<unnamed flow>",i=function(){var t,e=this,i=arguments,o=++Ge,a=Ae(r+" - runid: "+o+" - init",n).apply(e,i),s=void 0,l=new Promise((function(e,n){var i=0;function l(t){var e;s=void 0;try{e=Ae(r+" - runid: "+o+" - yield "+i++,a.next).call(a,t)}catch(l){return n(l)}u(e)}function c(t){var e;s=void 0;try{e=Ae(r+" - runid: "+o+" - yield "+i++,a.throw).call(a,t)}catch(l){return n(l)}u(e)}function u(t){if(!v(null==t?void 0:t.then))return t.done?e(t.value):(s=Promise.resolve(t.value)).then(l,c);t.then(u,n)}t=n,l(void 0)}));return l.cancel=Ae(r+" - runid: "+o+" - cancel",(function(){try{s&&Ze(s);var e=a.return(void 0),n=Promise.resolve(e.value);n.then(m,m),Ze(n),t(new He)}catch(r){t(r)}})),l};return i.isMobXFlow=!0,i}),Ke);function Ze(t){v(t.cancel)&&t.cancel()}function qe(t){return!0===(null==t?void 0:t.isMobXFlow)}function We(t,e){return!!t&&(void 0!==e?!!Un(t)&&t[H].values_.has(e):Un(t)||!!t[H]||V(t)||be(t)||Vt(t))}function Ye(t){return We(t)}function Xe(t){switch(t.length){case 0:return se.trackingDerivation;case 1:return Yn(t[0]);case 2:return Yn(t[0],t[1])}}function Qe(t,e){void 0===e&&(e=void 0),de();try{return t.apply(e)}finally{he()}}function Je(t,e,n){return 1===arguments.length||e&&"object"===typeof e?en(t,e):tn(t,e,n||{})}function tn(t,e,n){var r;if("number"===typeof n.timeout){var i=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[H].isDisposed_){if(a(),!n.onError)throw i;n.onError(i)}}),n.timeout)}n.name="When";var o=Mt("When-effect",e),a=Ie((function(e){Bt(!1,t)&&(e.dispose(),r&&clearTimeout(r),o())}),n);return a}function en(t,e){var n;var r=new Promise((function(r,i){var o=tn(t,r,N({},e,{onError:i}));n=function(){o(),i(new Error("WHEN_CANCELLED"))}}));return r.cancel=n,r}function nn(t){return t[H]}ze.bound=$(Ve);var rn={has:function(t,e){return nn(t).has_(e)},get:function(t,e){return nn(t).get_(e)},set:function(t,e,n){var r;return!!y(e)&&(null==(r=nn(t).set_(e,n,!0))||r)},deleteProperty:function(t,e){var n;return!!y(e)&&(null==(n=nn(t).delete_(e,!0))||n)},defineProperty:function(t,e,n){var r;return null==(r=nn(t).defineProperty_(e,n))||r},ownKeys:function(t){return nn(t).ownKeys_()},preventExtensions:function(t){r(13)}};function on(t){return void 0!==t.interceptors_&&t.interceptors_.length>0}function an(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),g((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function sn(t,e){var n=Jt();try{for(var i=[].concat(t.interceptors_||[]),o=0,a=i.length;o<a&&((e=i[o](e))&&!e.type&&r(14),e);o++);return e}finally{te(n)}}function ln(t){return void 0!==t.changeListeners_&&t.changeListeners_.length>0}function cn(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),g((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function un(t,e){var n=Jt(),r=t.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](e);te(n)}}var dn=Symbol("mobx-keys");function hn(t,e,n){if(w(t))return $e(t,t,e,n);var r=Mn(t,n)[H];if(!t[dn]){var i=Object.getPrototypeOf(t),o=new Set([].concat(A(t),A(i)));o.delete("constructor"),o.delete(H),_(i,dn,o)}de();try{t[dn].forEach((function(t){return r.make_(t,!e||(!(t in e)||e[t]))}))}finally{he()}return t}var fn="splice",pn="update",gn={get:function(t,e){var n=t[H];return e===H?n:"length"===e?n.getArrayLength_():"string"!==typeof e||isNaN(e)?R(yn,e)?yn[e]:t[e]:n.get_(parseInt(e))},set:function(t,e,n){var r=t[H];return"length"===e&&r.setArrayLength_(n),"symbol"===typeof e||isNaN(e)?t[e]=n:r.set_(parseInt(e),n),!0},preventExtensions:function(){r(15)}},mn=function(){function t(t,e,n,r){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new K(t),this.enhancer_=function(t,n){return e(t,n,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},e.intercept_=function(t){return an(this,t)},e.observe_=function(t,e){return void 0===e&&(e=!1),e&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),cn(this,t)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(t){("number"!==typeof t||isNaN(t)||t<0)&&r("Out of range: "+t);var e=this.values_.length;if(t!==e)if(t>e){for(var n=new Array(t-e),i=0;i<t-e;i++)n[i]=void 0;this.spliceWithArray_(e,0,n)}else this.spliceWithArray_(t,e-t)},e.updateArrayLength_=function(t,e){t!==this.lastKnownLength_&&r(16),this.lastKnownLength_+=e,this.legacyMode_&&e>0&&qn(t+e+1)},e.spliceWithArray_=function(t,e,n){var r=this;this.atom_;var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:void 0===e||null===e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=u),on(this)){var o=sn(this,{object:this.proxy_,type:fn,index:t,removedCount:e,added:n});if(!o)return u;e=o.removedCount,n=o.added}if(n=0===n.length?n:n.map((function(t){return r.enhancer_(t,void 0)})),this.legacyMode_){var a=n.length-e;this.updateArrayLength_(i,a)}var s=this.spliceItemsIntoValues_(t,e,n);return 0===e&&0===n.length||this.notifyArraySplice_(t,n,s),this.dehanceValues_(s)},e.spliceItemsIntoValues_=function(t,e,n){var r;if(n.length<1e4)return(r=this.values_).splice.apply(r,[t,e].concat(n));var i=this.values_.slice(t,t+e),o=this.values_.slice(t+e);this.values_.length+=n.length-e;for(var a=0;a<n.length;a++)this.values_[t+a]=n[a];for(var s=0;s<o.length;s++)this.values_[t+n.length+s]=o[s];return i},e.notifyArrayChildUpdate_=function(t,e,n){var r=!this.owned_&&!1,i=ln(this),o=i||r?{observableKind:"array",object:this.proxy_,type:pn,debugObjectName:this.atom_.name_,index:t,newValue:e,oldValue:n}:null;this.atom_.reportChanged(),i&&un(this,o)},e.notifyArraySplice_=function(t,e,n){var r=!this.owned_&&!1,i=ln(this),o=i||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:fn,index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom_.reportChanged(),i&&un(this,o)},e.get_=function(t){if(t<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},e.set_=function(t,e){var n=this.values_;if(t<n.length){this.atom_;var i=n[t];if(on(this)){var o=sn(this,{type:pn,object:this.proxy_,index:t,newValue:e});if(!o)return;e=o.newValue}(e=this.enhancer_(e,i))!==i&&(n[t]=e,this.notifyArrayChildUpdate_(t,e,i))}else t===n.length?this.spliceWithArray_(t,0,[e]):r(17,t,n.length)},t}();function vn(t,e,n,r){void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),p();var i=new mn(n,e,r,!1);T(i.values_,H,i);var o=new Proxy(i.values_,gn);if(i.proxy_=o,t&&t.length){var a=Ut(!0);i.spliceWithArray_(0,0,t),jt(a)}return o}var yn={clear:function(){return this.splice(0)},replace:function(t){var e=this[H];return e.spliceWithArray_(0,e.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[H];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(t);case 2:return o.spliceWithArray_(t,e)}return o.spliceWithArray_(t,e,r)},spliceWithArray:function(t,e,n){return this[H].spliceWithArray_(t,e,n)},push:function(){for(var t=this[H],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.spliceWithArray_(t.values_.length,0,n),t.values_.length},pop:function(){return this.splice(Math.max(this[H].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[H],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.spliceWithArray_(0,0,n),t.values_.length},reverse:function(){return se.trackingDerivation&&r(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){se.trackingDerivation&&r(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var e=this[H],n=e.dehanceValues_(e.values_).indexOf(t);return n>-1&&(this.splice(n,1),!0)}};function bn(t,e){"function"===typeof Array.prototype[t]&&(yn[t]=e(t))}function wn(t){return function(){var e=this[H];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function En(t){return function(e,n){var r=this,i=this[H];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[t]((function(t,i){return e.call(n,t,i,r)}))}}function _n(t){return function(){var e=this,n=this[H];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(t,n,r){return i(t,n,r,e)},r[t].apply(r,arguments)}}bn("concat",wn),bn("flat",wn),bn("includes",wn),bn("indexOf",wn),bn("join",wn),bn("lastIndexOf",wn),bn("slice",wn),bn("toString",wn),bn("toLocaleString",wn),bn("every",En),bn("filter",En),bn("find",En),bn("findIndex",En),bn("flatMap",En),bn("forEach",En),bn("map",En),bn("some",En),bn("reduce",_n),bn("reduceRight",_n);var Tn=x("ObservableArrayAdministration",mn);function xn(t){return b(t)&&Tn(t[H])}var Sn={},Ln="add",kn="delete",An=function(t,e){function n(t,e,n){var i=this;void 0===e&&(e=q),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[H]=Sn,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=e,this.name_=n,v(Map)||r(18),this.keysAtom_=z("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Bt(!0,(function(){i.merge(t)}))}var i=n.prototype;return i.has_=function(t){return this.data_.has(t)},i.has=function(t){var e=this;if(!se.trackingDerivation)return this.has_(t);var n=this.hasMap_.get(t);if(!n){var r=n=new Ht(this.has_(t),W,"ObservableMap.key?",!1);this.hasMap_.set(t,r),Fe(r,(function(){return e.hasMap_.delete(t)}))}return n.get()},i.set=function(t,e){var n=this.has_(t);if(on(this)){var r=sn(this,{type:n?pn:Ln,object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this.updateValue_(t,e):this.addValue_(t,e),this},i.delete=function(t){var e=this;if((this.keysAtom_,on(this))&&!sn(this,{type:kn,object:this,name:t}))return!1;if(this.has_(t)){var n=ln(this),r=n?{observableKind:"map",debugObjectName:this.name_,type:kn,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Qe((function(){var n;e.keysAtom_.reportChanged(),null==(n=e.hasMap_.get(t))||n.setNewValue_(!1),e.data_.get(t).setNewValue_(void 0),e.data_.delete(t)})),n&&un(this,r),!0}return!1},i.updateValue_=function(t,e){var n=this.data_.get(t);if((e=n.prepareNewValue_(e))!==se.UNCHANGED){var r=ln(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:pn,object:this,oldValue:n.value_,name:t,newValue:e}:null;0,n.setNewValue_(e),r&&un(this,i)}},i.addValue_=function(t,e){var n=this;this.keysAtom_,Qe((function(){var r,i=new Ht(e,n.enhancer_,"ObservableMap.key",!1);n.data_.set(t,i),e=i.value_,null==(r=n.hasMap_.get(t))||r.setNewValue_(!0),n.keysAtom_.reportChanged()}));var r=ln(this),i=r?{observableKind:"map",debugObjectName:this.name_,type:Ln,object:this,name:t,newValue:e}:null;r&&un(this,i)},i.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},i.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},i.values=function(){var t=this,e=this.keys();return rr({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:t.get(i)}}})},i.entries=function(){var t=this,e=this.keys();return rr({next:function(){var n=e.next(),r=n.done,i=n.value;return{done:r,value:r?void 0:[i,t.get(i)]}}})},i[t]=function(){return this.entries()},i.forEach=function(t,e){for(var n,r=U(this);!(n=r()).done;){var i=n.value,o=i[0],a=i[1];t.call(e,a,o,this)}},i.merge=function(t){var e=this;return On(t)&&(t=new Map(t)),Qe((function(){w(t)?function(t){var e=Object.keys(t);if(!k)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter((function(e){return c.propertyIsEnumerable.call(t,e)}))):e}(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){var n=t[0],r=t[1];return e.set(n,r)})):S(t)?(t.constructor!==Map&&r(19,t),t.forEach((function(t,n){return e.set(n,t)}))):null!==t&&void 0!==t&&r(20,t)})),this},i.clear=function(){var t=this;Qe((function(){Qt((function(){for(var e,n=U(t.keys());!(e=n()).done;){var r=e.value;t.delete(r)}}))}))},i.replace=function(t){var e=this;return Qe((function(){for(var n,i=function(t){if(S(t)||On(t))return t;if(Array.isArray(t))return new Map(t);if(w(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}return r(21,t)}(t),o=new Map,a=!1,s=U(e.data_.keys());!(n=s()).done;){var l=n.value;if(!i.has(l))if(e.delete(l))a=!0;else{var c=e.data_.get(l);o.set(l,c)}}for(var u,d=U(i.entries());!(u=d()).done;){var h=u.value,f=h[0],p=h[1],g=e.data_.has(f);if(e.set(f,p),e.data_.has(f)){var m=e.data_.get(f);o.set(f,m),g||(a=!0)}}if(!a)if(e.data_.size!==o.size)e.keysAtom_.reportChanged();else for(var v=e.data_.keys(),y=o.keys(),b=v.next(),E=y.next();!b.done;){if(b.value!==E.value){e.keysAtom_.reportChanged();break}b=v.next(),E=y.next()}e.data_=o})),this},i.toString=function(){return"[object ObservableMap]"},i.toJSON=function(){return Array.from(this)},i.observe_=function(t,e){return cn(this,t)},i.intercept_=function(t){return an(this,t)},D(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Map"}}]),n}(Symbol.iterator,Symbol.toStringTag),On=x("ObservableMap",An);var Rn={},Cn=function(t,e){function n(t,e,n){void 0===e&&(e=q),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[H]=Rn,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,v(Set)||r(22),this.atom_=z(this.name_),this.enhancer_=function(t,r){return e(t,r,n)},t&&this.replace(t)}var i=n.prototype;return i.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},i.clear=function(){var t=this;Qe((function(){Qt((function(){for(var e,n=U(t.data_.values());!(e=n()).done;){var r=e.value;t.delete(r)}}))}))},i.forEach=function(t,e){for(var n,r=U(this);!(n=r()).done;){var i=n.value;t.call(e,i,i,this)}},i.add=function(t){var e=this;if((this.atom_,on(this))&&!sn(this,{type:Ln,object:this,newValue:t}))return this;if(!this.has(t)){Qe((function(){e.data_.add(e.enhancer_(t,void 0)),e.atom_.reportChanged()}));var n=!1,r=ln(this),i=r?{observableKind:"set",debugObjectName:this.name_,type:Ln,object:this,newValue:t}:null;n,r&&un(this,i)}return this},i.delete=function(t){var e=this;if(on(this)&&!sn(this,{type:kn,object:this,oldValue:t}))return!1;if(this.has(t)){var n=ln(this),r=n?{observableKind:"set",debugObjectName:this.name_,type:kn,object:this,oldValue:t}:null;return Qe((function(){e.atom_.reportChanged(),e.data_.delete(t)})),n&&un(this,r),!0}return!1},i.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},i.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return rr({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},i.keys=function(){return this.values()},i.values=function(){this.atom_.reportObserved();var t=this,e=0,n=Array.from(this.data_.values());return rr({next:function(){return e<n.length?{value:t.dehanceValue_(n[e++]),done:!1}:{done:!0}}})},i.replace=function(t){var e=this;return In(t)&&(t=new Set(t)),Qe((function(){Array.isArray(t)||L(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!==t&&void 0!==t&&r("Cannot initialize set from "+t)})),this},i.observe_=function(t,e){return cn(this,t)},i.intercept_=function(t){return an(this,t)},i.toJSON=function(){return Array.from(this)},i.toString=function(){return"[object ObservableSet]"},i[t]=function(){return this.values()},D(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:e,get:function(){return"Set"}}]),n}(Symbol.iterator,Symbol.toStringTag),In=x("ObservableSet",Cn),Dn=Object.create(null),Nn="remove",Pn=function(){function t(t,e,n,r){void 0===e&&(e=new Map),void 0===r&&(r=dt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=e,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new K("ObservableObject.keys"),this.isPlainObject_=w(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(t){return this.values_.get(t).get()},e.setObservablePropValue_=function(t,e){var n=this.values_.get(t);if(n instanceof Kt)return n.set(e),!0;if(on(this)){var r=sn(this,{type:pn,object:this.proxy_||this.target_,name:t,newValue:e});if(!r)return null;e=r.newValue}if((e=n.prepareNewValue_(e))!==se.UNCHANGED){var i=ln(this),o=i?{type:pn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:t,newValue:e}:null;0,n.setNewValue_(e),i&&un(this,o)}return!0},e.get_=function(t){return se.trackingDerivation&&!R(this.target_,t)&&this.has_(t),this.target_[t]},e.set_=function(t,e,n){return void 0===n&&(n=!1),R(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,e):n?Reflect.set(this.target_,t,e):(this.target_[t]=e,!0):this.extend_(t,{value:e,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)},e.has_=function(t){if(!se.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var e=this.pendingKeys_.get(t);return e||(e=new Ht(t in this.target_,W,"ObservableObject.key?",!1),this.pendingKeys_.set(t,e)),e.get()},e.make_=function(t,e){if(!0===e&&(e=this.defaultAnnotation_),!1!==e){if($n(this,e,t),!(t in this.target_)){var n;if(null!=(n=this.target_[j])&&n[t])return;r(1,e.annotationType_,this.name_+"."+t.toString())}for(var i=this.target_;i&&i!==c;){var o=s(i,t);if(o){var a=e.make_(this,t,o,i);if(0===a)return;if(1===a)break}i=Object.getPrototypeOf(i)}jn(this,e,t)}},e.extend_=function(t,e,n,r){if(void 0===r&&(r=!1),!0===n&&(n=this.defaultAnnotation_),!1===n)return this.defineProperty_(t,e,r);$n(this,n,t);var i=n.extend_(this,t,e,r);return i&&jn(this,n,t),i},e.defineProperty_=function(t,e,n){void 0===n&&(n=!1);try{de();var r=this.delete_(t);if(!r)return r;if(on(this)){var i=sn(this,{object:this.proxy_||this.target_,name:t,type:Ln,newValue:e.value});if(!i)return null;var o=i.newValue;e.value!==o&&(e=N({},e,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,t,e))return!1}else l(this.target_,t,e);this.notifyPropertyAddition_(t,e.value)}finally{he()}return!0},e.defineObservableProperty_=function(t,e,n,r){void 0===r&&(r=!1);try{de();var i=this.delete_(t);if(!i)return i;if(on(this)){var o=sn(this,{object:this.proxy_||this.target_,name:t,type:Ln,newValue:e});if(!o)return null;e=o.newValue}var a=Bn(t),s={configurable:!se.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,s))return!1}else l(this.target_,t,s);var c=new Ht(e,n,"ObservableObject.key",!1);this.values_.set(t,c),this.notifyPropertyAddition_(t,c.value_)}finally{he()}return!0},e.defineComputedProperty_=function(t,e,n){void 0===n&&(n=!1);try{de();var r=this.delete_(t);if(!r)return r;if(on(this))if(!sn(this,{object:this.proxy_||this.target_,name:t,type:Ln,newValue:void 0}))return null;e.name||(e.name="ObservableObject.key"),e.context=this.proxy_||this.target_;var i=Bn(t),o={configurable:!se.safeDescriptors||this.isPlainObject_,enumerable:!1,get:i.get,set:i.set};if(n){if(!Reflect.defineProperty(this.target_,t,o))return!1}else l(this.target_,t,o);this.values_.set(t,new Kt(e)),this.notifyPropertyAddition_(t,void 0)}finally{he()}return!0},e.delete_=function(t,e){if(void 0===e&&(e=!1),!R(this.target_,t))return!0;if(on(this)&&!sn(this,{object:this.proxy_||this.target_,name:t,type:Nn}))return null;try{var n,r;de();var i,o=ln(this),a=this.values_.get(t),l=void 0;if(!a&&o)l=null==(i=s(this.target_,t))?void 0:i.value;if(e){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(a&&(this.values_.delete(t),a instanceof Ht&&(l=a.value_),pe(a)),this.keysAtom_.reportChanged(),null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(t in this.target_),o){var c={type:Nn,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:t};0,o&&un(this,c)}}finally{he()}return!0},e.observe_=function(t,e){return cn(this,t)},e.intercept_=function(t){return an(this,t)},e.notifyPropertyAddition_=function(t,e){var n,r,i=ln(this);if(i){var o=i?{type:Ln,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:e}:null;0,i&&un(this,o)}null==(n=this.pendingKeys_)||null==(r=n.get(t))||r.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),A(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Mn(t,e){var n;if(R(t,H))return t;var r=null!=(n=null==e?void 0:e.name)?n:"ObservableObject",i=new Pn(t,new Map,String(r),function(t){var e;return t?null!=(e=t.defaultDecorator)?e:ht(t):void 0}(e));return _(t,H,i),t}var Fn=x("ObservableObjectAdministration",Pn);function Bn(t){return Dn[t]||(Dn[t]={get:function(){return this[H].getObservablePropValue_(t)},set:function(e){return this[H].setObservablePropValue_(t,e)}})}function Un(t){return!!b(t)&&Fn(t[H])}function jn(t,e,n){var r;null==(r=t.target_[j])||delete r[n]}function $n(t,e,n){}var Gn,Hn,Kn=0,Vn=function(){};Gn=Vn,Hn=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Gn.prototype,Hn):void 0!==Gn.prototype.__proto__?Gn.prototype.__proto__=Hn:Gn.prototype=Hn;var zn=function(t,e,n){function r(e,n,r,i){var o;void 0===r&&(r="ObservableArray"),void 0===i&&(i=!1),o=t.call(this)||this;var a=new mn(r,n,i,!0);if(a.proxy_=F(o),T(F(o),H,a),e&&e.length){var s=Ut(!0);o.spliceWithArray(0,0,e),jt(s)}return o}P(r,t);var i=r.prototype;return i.concat=function(){this[H].atom_.reportObserved();for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),e.map((function(t){return xn(t)?t.slice():t})))},i[n]=function(){var t=this,e=0;return rr({next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0,value:void 0}}})},D(r,[{key:"length",get:function(){return this[H].getArrayLength_()},set:function(t){this[H].setArrayLength_(t)}},{key:e,get:function(){return"Array"}}]),r}(Vn,Symbol.toStringTag,Symbol.iterator);function Zn(t){l(zn.prototype,""+t,function(t){return{enumerable:!1,configurable:!0,get:function(){return this[H].get_(t)},set:function(e){this[H].set_(t,e)}}}(t))}function qn(t){if(t>Kn){for(var e=Kn;e<t+100;e++)Zn(e);Kn=t}}function Wn(t,e,n){return new zn(t,e,n)}function Yn(t,e){if("object"===typeof t&&null!==t){if(xn(t))return void 0!==e&&r(23),t[H].atom_;if(In(t))return t[H];if(On(t)){if(void 0===e)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||r(25,e,Qn(t)),n}if(Un(t)){if(!e)return r(26);var i=t[H].values_.get(e);return i||r(27,e,Qn(t)),i}if(V(t)||Vt(t)||be(t))return t}else if(v(t)&&be(t[H]))return t[H];r(28)}function Xn(t,e){return t||r(29),void 0!==e?Xn(Yn(t,e)):V(t)||Vt(t)||be(t)||On(t)||In(t)?t:t[H]?t[H]:void r(24,t)}function Qn(t,e){var n;if(void 0!==e)n=Yn(t,e);else{if(Ce(t))return t.name;n=Un(t)||On(t)||In(t)?Xn(t):Yn(t)}return n.name_}Object.entries(yn).forEach((function(t){var e=t[0],n=t[1];"concat"!==e&&_(zn.prototype,e,n)})),qn(1e3);var Jn=c.toString;function tr(t,e,n){return void 0===n&&(n=-1),er(t,e,n)}function er(t,e,n,r,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return!1;if(t!==t)return e!==e;var o=typeof t;if("function"!==o&&"object"!==o&&"object"!=typeof e)return!1;var a=Jn.call(t);if(a!==Jn.call(e))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+t===""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=nr(t),e=nr(e);var s="[object Array]"===a;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var l=t.constructor,c=e.constructor;if(l!==c&&!(v(l)&&l instanceof l&&v(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var u=(r=r||[]).length;u--;)if(r[u]===t)return i[u]===e;if(r.push(t),i.push(e),s){if((u=t.length)!==e.length)return!1;for(;u--;)if(!er(t[u],e[u],n-1,r,i))return!1}else{var d,h=Object.keys(t);if(u=h.length,Object.keys(e).length!==u)return!1;for(;u--;)if(!R(e,d=h[u])||!er(t[d],e[d],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function nr(t){return xn(t)?t.slice():S(t)||On(t)||L(t)||In(t)?Array.from(t.entries()):t}function rr(t){return t[Symbol.iterator]=ir,t}function ir(){return this}["Symbol","Map","Set"].forEach((function(t){"undefined"===typeof o()[t]&&r("MobX requires global '"+t+"' to be available or polyfilled")})),"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Qn},$mobx:H})},10414:function(t,e,n){t.exports=n(99842)},91308:function(t,e,n){t.exports=n(85838)},77512:function(t,e,n){t.exports=n(49053)},23598:function(t,e,n){t.exports=n(22343)},74846:function(t,e,n){t.exports=n(10671)},56748:function(t,e,n){t.exports=n(2672)},35794:function(t,e,n){t.exports=n(52882)},95579:function(t,e,n){t.exports=n(68730)},14385:function(t,e,n){t.exports=n(61229)},91994:function(t,e,n){t.exports=n(98783)},23356:function(t,e,n){t.exports=n(74731)},11675:function(t,e,n){t.exports=n(54640)},9981:function(t,e,n){t.exports=n(30846)},17876:function(t,e,n){t.exports=n(97686)},4475:function(t,e,n){t.exports=n(76434)},46287:function(t,e,n){t.exports=n(79863)},9131:function(t,e,n){t.exports=n(75723)},67150:function(t,e,n){t.exports=n(30156)},12185:function(t,e,n){t.exports=n(97754)},4972:function(t,e,n){t.exports=n(4133)},86693:function(t,e,n){var r=n(62218);r.registerLanguage("xml",n(95313)),r.registerLanguage("bash",n(79846)),r.registerLanguage("c",n(58367)),r.registerLanguage("cpp",n(81588)),r.registerLanguage("csharp",n(73934)),r.registerLanguage("css",n(92599)),r.registerLanguage("markdown",n(71842)),r.registerLanguage("diff",n(28040)),r.registerLanguage("ruby",n(33818)),r.registerLanguage("go",n(95482)),r.registerLanguage("graphql",n(2332)),r.registerLanguage("ini",n(40765)),r.registerLanguage("java",n(69599)),r.registerLanguage("javascript",n(45523)),r.registerLanguage("json",n(39584)),r.registerLanguage("kotlin",n(95309)),r.registerLanguage("less",n(46841)),r.registerLanguage("lua",n(55200)),r.registerLanguage("makefile",n(69357)),r.registerLanguage("perl",n(73331)),r.registerLanguage("objectivec",n(12248)),r.registerLanguage("php",n(33412)),r.registerLanguage("php-template",n(38968)),r.registerLanguage("plaintext",n(60763)),r.registerLanguage("python",n(20077)),r.registerLanguage("python-repl",n(53826)),r.registerLanguage("r",n(8409)),r.registerLanguage("rust",n(66264)),r.registerLanguage("scss",n(23322)),r.registerLanguage("shell",n(80320)),r.registerLanguage("sql",n(23709)),r.registerLanguage("swift",n(33035)),r.registerLanguage("yaml",n(8425)),r.registerLanguage("typescript",n(99912)),r.registerLanguage("vbnet",n(38524)),r.registerLanguage("wasm",n(89647)),r.HighlightJS=r,r.default=r,t.exports=r},62218:function(t){function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach((n=>{const r=t[n],i=typeof r;"object"!==i&&"function"!==i||Object.isFrozen(r)||e(r)})),t}class n{constructor(t){void 0===t.data&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach((function(t){for(const e in t)n[e]=t[e]})),n}const o=t=>!!t.scope;class a{constructor(t,e){this.buffer="",this.classPrefix=e.classPrefix,t.walk(this)}addText(t){this.buffer+=r(t)}openNode(t){if(!o(t))return;const e=((t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map(((t,e)=>`${t}${"_".repeat(e+1)}`))].join(" ")}return`${e}${t}`})(t.scope,{prefix:this.classPrefix});this.span(e)}closeNode(t){o(t)&&(this.buffer+="</span>")}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}const s=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class l{constructor(){this.rootNode=s(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const e=s({scope:t});this.add(e),this.stack.push(e)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,e){return"string"===typeof e?t.addText(e):e.children&&(t.openNode(e),e.children.forEach((e=>this._walk(t,e))),t.closeNode(e)),t}static _collapse(t){"string"!==typeof t&&t.children&&(t.children.every((t=>"string"===typeof t))?t.children=[t.children.join("")]:t.children.forEach((t=>{l._collapse(t)})))}}class c extends l{constructor(t){super(),this.options=t}addText(t){""!==t&&this.add(t)}startScope(t){this.openNode(t)}endScope(){this.closeNode()}__addSublanguage(t,e){const n=t.root;e&&(n.scope=`language:${e}`),this.add(n)}toHTML(){return new a(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function u(t){return t?"string"===typeof t?t:t.source:null}function d(t){return p("(?=",t,")")}function h(t){return p("(?:",t,")*")}function f(t){return p("(?:",t,")?")}function p(...t){return t.map((t=>u(t))).join("")}function g(...t){const e=function(t){const e=t[t.length-1];return"object"===typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t);return"("+(e.capture?"":"?:")+t.map((t=>u(t))).join("|")+")"}function m(t){return new RegExp(t.toString()+"|").exec("").length-1}const v=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(t,{joinWith:e}){let n=0;return t.map((t=>{n+=1;const e=n;let r=u(t),i="";for(;r.length>0;){const t=v.exec(r);if(!t){i+=r;break}i+=r.substring(0,t.index),r=r.substring(t.index+t[0].length),"\\"===t[0][0]&&t[1]?i+="\\"+String(Number(t[1])+e):(i+=t[0],"("===t[0]&&n++)}return i})).map((t=>`(${t})`)).join(e)}const b="[a-zA-Z]\\w*",w="[a-zA-Z_]\\w*",E="\\b\\d+(\\.\\d+)?",_="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",T="\\b(0b[01]+)",x={begin:"\\\\[\\s\\S]",relevance:0},S={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[x]},L={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[x]},k=function(t,e,n={}){const r=i({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const o=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:p(/[ ]+/,"(",o,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},A=k("//","$"),O=k("/\\*","\\*/"),R=k("#","$"),C={scope:"number",begin:E,relevance:0},I={scope:"number",begin:_,relevance:0},D={scope:"number",begin:T,relevance:0},N={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[x,{begin:/\[/,end:/\]/,relevance:0,contains:[x]}]},P={scope:"title",begin:b,relevance:0},M={scope:"title",begin:w,relevance:0},F={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var B=Object.freeze({__proto__:null,APOS_STRING_MODE:S,BACKSLASH_ESCAPE:x,BINARY_NUMBER_MODE:D,BINARY_NUMBER_RE:T,COMMENT:k,C_BLOCK_COMMENT_MODE:O,C_LINE_COMMENT_MODE:A,C_NUMBER_MODE:I,C_NUMBER_RE:_,END_SAME_AS_BEGIN:function(t){return Object.assign(t,{"on:begin":(t,e)=>{e.data._beginMatch=t[1]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}})},HASH_COMMENT_MODE:R,IDENT_RE:b,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:F,NUMBER_MODE:C,NUMBER_RE:E,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:L,REGEXP_MODE:N,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=p(e,/.*\b/,t.binary,/\b.*/)),i({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(t,e)=>{0!==t.index&&e.ignoreMatch()}},t)},TITLE_MODE:P,UNDERSCORE_IDENT_RE:w,UNDERSCORE_TITLE_MODE:M});function U(t,e){"."===t.input[t.index-1]&&e.ignoreMatch()}function j(t,e){void 0!==t.className&&(t.scope=t.className,delete t.className)}function $(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=U,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,void 0===t.relevance&&(t.relevance=0))}function G(t,e){Array.isArray(t.illegal)&&(t.illegal=g(...t.illegal))}function H(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function K(t,e){void 0===t.relevance&&(t.relevance=1)}const V=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach((e=>{delete t[e]})),t.keywords=n.keywords,t.begin=p(n.beforeMatch,d(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},z=["of","and","for","in","not","or","if","then","parent","list","value"];function Z(t,e,n="keyword"){const r=Object.create(null);return"string"===typeof t?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach((function(n){Object.assign(r,Z(t[n],e,n))})),r;function i(t,n){e&&(n=n.map((t=>t.toLowerCase()))),n.forEach((function(e){const n=e.split("|");r[n[0]]=[t,q(n[0],n[1])]}))}}function q(t,e){return e?Number(e):function(t){return z.includes(t.toLowerCase())}(t)?0:1}const W={},Y=t=>{console.error(t)},X=(t,...e)=>{console.log(`WARN: ${t}`,...e)},Q=(t,e)=>{W[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),W[`${t}/${e}`]=!0)},J=new Error;function tt(t,e,{key:n}){let r=0;const i=t[n],o={},a={};for(let s=1;s<=e.length;s++)a[s+r]=i[s],o[s+r]=!0,r+=m(e[s-1]);t[n]=a,t[n]._emit=o,t[n]._multi=!0}function et(t){!function(t){t.scope&&"object"===typeof t.scope&&null!==t.scope&&(t.beginScope=t.scope,delete t.scope)}(t),"string"===typeof t.beginScope&&(t.beginScope={_wrap:t.beginScope}),"string"===typeof t.endScope&&(t.endScope={_wrap:t.endScope}),function(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Y("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),J;if("object"!==typeof t.beginScope||null===t.beginScope)throw Y("beginScope must be object"),J;tt(t,t.begin,{key:"beginScope"}),t.begin=y(t.begin,{joinWith:""})}}(t),function(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Y("skip, excludeEnd, returnEnd not compatible with endScope: {}"),J;if("object"!==typeof t.endScope||null===t.endScope)throw Y("endScope must be object"),J;tt(t,t.end,{key:"endScope"}),t.end=y(t.end,{joinWith:""})}}(t)}function nt(t){function e(e,n){return new RegExp(u(e),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(t,e){e.position=this.position++,this.matchIndexes[this.matchAt]=e,this.regexes.push([e,t]),this.matchAt+=m(t)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const t=this.regexes.map((t=>t[1]));this.matcherRe=e(y(t,{joinWith:"|"}),!0),this.lastIndex=0}exec(t){this.matcherRe.lastIndex=this.lastIndex;const e=this.matcherRe.exec(t);if(!e)return null;const n=e.findIndex(((t,e)=>e>0&&void 0!==t)),r=this.matchIndexes[n];return e.splice(0,n),Object.assign(e,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(t){if(this.multiRegexes[t])return this.multiRegexes[t];const e=new n;return this.rules.slice(t).forEach((([t,n])=>e.addRule(t,n))),e.compile(),this.multiRegexes[t]=e,e}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(t,e){this.rules.push([t,e]),"begin"===e.type&&this.count++}exec(t){const e=this.getMatcher(this.regexIndex);e.lastIndex=this.lastIndex;let n=e.exec(t);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const e=this.getMatcher(0);e.lastIndex=this.lastIndex+1,n=e.exec(t)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=i(t.classNameAliases||{}),function n(o,a){const s=o;if(o.isCompiled)return s;[j,H,et,V].forEach((t=>t(o,a))),t.compilerExtensions.forEach((t=>t(o,a))),o.__beforeBegin=null,[$,G,K].forEach((t=>t(o,a))),o.isCompiled=!0;let l=null;return"object"===typeof o.keywords&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),l=o.keywords.$pattern,delete o.keywords.$pattern),l=l||/\w+/,o.keywords&&(o.keywords=Z(o.keywords,t.case_insensitive)),s.keywordPatternRe=e(l,!0),a&&(o.begin||(o.begin=/\B|\b/),s.beginRe=e(s.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(s.endRe=e(s.end)),s.terminatorEnd=u(s.end)||"",o.endsWithParent&&a.terminatorEnd&&(s.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(s.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(t){return function(t){t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map((function(e){return i(t,{variants:null},e)})));if(t.cachedVariants)return t.cachedVariants;if(rt(t))return i(t,{starts:t.starts?i(t.starts):null});if(Object.isFrozen(t))return i(t);return t}("self"===t?o:t)}))),o.contains.forEach((function(t){n(t,s)})),o.starts&&n(o.starts,a),s.matcher=function(t){const e=new r;return t.contains.forEach((t=>e.addRule(t.begin,{rule:t,type:"begin"}))),t.terminatorEnd&&e.addRule(t.terminatorEnd,{type:"end"}),t.illegal&&e.addRule(t.illegal,{type:"illegal"}),e}(s),s}(t)}function rt(t){return!!t&&(t.endsWithParent||rt(t.starts))}class it extends Error{constructor(t,e){super(t),this.name="HTMLInjectionError",this.html=e}}const ot=r,at=i,st=Symbol("nomatch"),lt=function(t){const r=Object.create(null),i=Object.create(null),o=[];let a=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",l={disableAutodetect:!0,name:"Plain text",contains:[]};let u={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:c};function m(t){return u.noHighlightRe.test(t)}function v(t,e,n){let r="",i="";"object"===typeof e?(r=t,n=e.ignoreIllegals,i=e.language):(Q("10.7.0","highlight(lang, code, ...args) has been deprecated."),Q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=t,r=e),void 0===n&&(n=!0);const o={code:r,language:i};L("before:highlight",o);const a=o.result?o.result:y(o.language,o.code,n);return a.code=o.code,L("after:highlight",a),a}function y(t,e,i,o){const l=Object.create(null);function c(){if(!L.keywords)return void A.addText(O);let t=0;L.keywordPatternRe.lastIndex=0;let e=L.keywordPatternRe.exec(O),n="";for(;e;){n+=O.substring(t,e.index);const i=_.case_insensitive?e[0].toLowerCase():e[0],o=(r=i,L.keywords[r]);if(o){const[t,r]=o;if(A.addText(n),n="",l[i]=(l[i]||0)+1,l[i]<=7&&(R+=r),t.startsWith("_"))n+=e[0];else{const n=_.classNameAliases[t]||t;h(e[0],n)}}else n+=e[0];t=L.keywordPatternRe.lastIndex,e=L.keywordPatternRe.exec(O)}var r;n+=O.substring(t),A.addText(n)}function d(){null!=L.subLanguage?function(){if(""===O)return;let t=null;if("string"===typeof L.subLanguage){if(!r[L.subLanguage])return void A.addText(O);t=y(L.subLanguage,O,!0,k[L.subLanguage]),k[L.subLanguage]=t._top}else t=b(O,L.subLanguage.length?L.subLanguage:null);L.relevance>0&&(R+=t.relevance),A.__addSublanguage(t._emitter,t.language)}():c(),O=""}function h(t,e){""!==t&&(A.startScope(e),A.addText(t),A.endScope())}function f(t,e){let n=1;const r=e.length-1;for(;n<=r;){if(!t._emit[n]){n++;continue}const r=_.classNameAliases[t[n]]||t[n],i=e[n];r?h(i,r):(O=i,c(),O=""),n++}}function p(t,e){return t.scope&&"string"===typeof t.scope&&A.openNode(_.classNameAliases[t.scope]||t.scope),t.beginScope&&(t.beginScope._wrap?(h(O,_.classNameAliases[t.beginScope._wrap]||t.beginScope._wrap),O=""):t.beginScope._multi&&(f(t.beginScope,e),O="")),L=Object.create(t,{parent:{value:L}}),L}function g(t,e,r){let i=function(t,e){const n=t&&t.exec(e);return n&&0===n.index}(t.endRe,r);if(i){if(t["on:end"]){const r=new n(t);t["on:end"](e,r),r.isMatchIgnored&&(i=!1)}if(i){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return g(t.parent,e,r)}function m(t){return 0===L.matcher.regexIndex?(O+=t[0],1):(D=!0,0)}function v(t){const n=t[0],r=e.substring(t.index),i=g(L,t,r);if(!i)return st;const o=L;L.endScope&&L.endScope._wrap?(d(),h(n,L.endScope._wrap)):L.endScope&&L.endScope._multi?(d(),f(L.endScope,t)):o.skip?O+=n:(o.returnEnd||o.excludeEnd||(O+=n),d(),o.excludeEnd&&(O=n));do{L.scope&&A.closeNode(),L.skip||L.subLanguage||(R+=L.relevance),L=L.parent}while(L!==i.parent);return i.starts&&p(i.starts,t),o.returnEnd?0:n.length}let w={};function E(r,o){const s=o&&o[0];if(O+=r,null==s)return d(),0;if("begin"===w.type&&"end"===o.type&&w.index===o.index&&""===s){if(O+=e.slice(o.index,o.index+1),!a){const e=new Error(`0 width match regex (${t})`);throw e.languageName=t,e.badRule=w.rule,e}return 1}if(w=o,"begin"===o.type)return function(t){const e=t[0],r=t.rule,i=new n(r),o=[r.__beforeBegin,r["on:begin"]];for(const n of o)if(n&&(n(t,i),i.isMatchIgnored))return m(e);return r.skip?O+=e:(r.excludeBegin&&(O+=e),d(),r.returnBegin||r.excludeBegin||(O=e)),p(r,t),r.returnBegin?0:e.length}(o);if("illegal"===o.type&&!i){const t=new Error('Illegal lexeme "'+s+'" for mode "'+(L.scope||"<unnamed>")+'"');throw t.mode=L,t}if("end"===o.type){const t=v(o);if(t!==st)return t}if("illegal"===o.type&&""===s)return 1;if(I>1e5&&I>3*o.index){throw new Error("potential infinite loop, way more iterations than matches")}return O+=s,s.length}const _=T(t);if(!_)throw Y(s.replace("{}",t)),new Error('Unknown language: "'+t+'"');const x=nt(_);let S="",L=o||x;const k={},A=new u.__emitter(u);!function(){const t=[];for(let e=L;e!==_;e=e.parent)e.scope&&t.unshift(e.scope);t.forEach((t=>A.openNode(t)))}();let O="",R=0,C=0,I=0,D=!1;try{if(_.__emitTokens)_.__emitTokens(e,A);else{for(L.matcher.considerAll();;){I++,D?D=!1:L.matcher.considerAll(),L.matcher.lastIndex=C;const t=L.matcher.exec(e);if(!t)break;const n=E(e.substring(C,t.index),t);C=t.index+n}E(e.substring(C))}return A.finalize(),S=A.toHTML(),{language:t,value:S,relevance:R,illegal:!1,_emitter:A,_top:L}}catch(N){if(N.message&&N.message.includes("Illegal"))return{language:t,value:ot(e),illegal:!0,relevance:0,_illegalBy:{message:N.message,index:C,context:e.slice(C-100,C+100),mode:N.mode,resultSoFar:S},_emitter:A};if(a)return{language:t,value:ot(e),illegal:!1,relevance:0,errorRaised:N,_emitter:A,_top:L};throw N}}function b(t,e){e=e||u.languages||Object.keys(r);const n=function(t){const e={value:ot(t),illegal:!1,relevance:0,_top:l,_emitter:new u.__emitter(u)};return e._emitter.addText(t),e}(t),i=e.filter(T).filter(S).map((e=>y(e,t,!1)));i.unshift(n);const o=i.sort(((t,e)=>{if(t.relevance!==e.relevance)return e.relevance-t.relevance;if(t.language&&e.language){if(T(t.language).supersetOf===e.language)return 1;if(T(e.language).supersetOf===t.language)return-1}return 0})),[a,s]=o,c=a;return c.secondBest=s,c}function w(t){let e=null;const n=function(t){let e=t.className+" ";e+=t.parentNode?t.parentNode.className:"";const n=u.languageDetectRe.exec(e);if(n){const e=T(n[1]);return e||(X(s.replace("{}",n[1])),X("Falling back to no-highlight mode for this block.",t)),e?n[1]:"no-highlight"}return e.split(/\s+/).find((t=>m(t)||T(t)))}(t);if(m(n))return;if(L("before:highlightElement",{el:t,language:n}),t.dataset.highlighted)return void console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",t);if(t.children.length>0&&(u.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(t)),u.throwUnescapedHTML)){throw new it("One of your code blocks includes unescaped HTML.",t.innerHTML)}e=t;const r=e.textContent,o=n?v(r,{language:n,ignoreIllegals:!0}):b(r);t.innerHTML=o.value,t.dataset.highlighted="yes",function(t,e,n){const r=e&&i[e]||n;t.classList.add("hljs"),t.classList.add(`language-${r}`)}(t,n,o.language),t.result={language:o.language,re:o.relevance,relevance:o.relevance},o.secondBest&&(t.secondBest={language:o.secondBest.language,relevance:o.secondBest.relevance}),L("after:highlightElement",{el:t,result:o,text:r})}let E=!1;function _(){if("loading"===document.readyState)return void(E=!0);document.querySelectorAll(u.cssSelector).forEach(w)}function T(t){return t=(t||"").toLowerCase(),r[t]||r[i[t]]}function x(t,{languageName:e}){"string"===typeof t&&(t=[t]),t.forEach((t=>{i[t.toLowerCase()]=e}))}function S(t){const e=T(t);return e&&!e.disableAutodetect}function L(t,e){const n=t;o.forEach((function(t){t[n]&&t[n](e)}))}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(function(){E&&_()}),!1),Object.assign(t,{highlight:v,highlightAuto:b,highlightAll:_,highlightElement:w,highlightBlock:function(t){return Q("10.7.0","highlightBlock will be removed entirely in v12.0"),Q("10.7.0","Please use highlightElement now."),w(t)},configure:function(t){u=at(u,t)},initHighlighting:()=>{_(),Q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){_(),Q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(e,n){let i=null;try{i=n(t)}catch(o){if(Y("Language definition for '{}' could not be registered.".replace("{}",e)),!a)throw o;Y(o),i=l}i.name||(i.name=e),r[e]=i,i.rawDefinition=n.bind(null,t),i.aliases&&x(i.aliases,{languageName:e})},unregisterLanguage:function(t){delete r[t];for(const e of Object.keys(i))i[e]===t&&delete i[e]},listLanguages:function(){return Object.keys(r)},getLanguage:T,registerAliases:x,autoDetection:S,inherit:at,addPlugin:function(t){!function(t){t["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))})}(t),o.push(t)},removePlugin:function(t){const e=o.indexOf(t);-1!==e&&o.splice(e,1)}}),t.debugMode=function(){a=!1},t.safeMode=function(){a=!0},t.versionString="11.9.0",t.regex={concat:p,lookahead:d,either:g,optional:f,anyNumberOfTimes:h};for(const n in B)"object"===typeof B[n]&&e(B[n]);return Object.assign(t,B),t},ct=lt({});ct.newInstance=()=>lt({}),t.exports=ct,ct.HighlightJS=ct,ct.default=ct},79846:function(t){t.exports=function(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);const s={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},l=t.SHEBANG({binary:`(${["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"].join("|")})`,relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[l,t.SHEBANG(),c,s,t.HASH_COMMENT_MODE,o,{match:/(\/[a-z._-]+)+/},a,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}}},58367:function(t){t.exports=function(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(decltype\\(auto\\)|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},d=e.optional(i)+t.IDENT_RE+"\\s*\\(",h={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},f=[c,a,n,t.C_BLOCK_COMMENT_MODE,l,s],p={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:f.concat([{begin:/\(/,end:/\)/,keywords:h,contains:f.concat(["self"]),relevance:0}]),relevance:0},g={begin:"("+o+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[t.inherit(u,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,s,l,a,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,s,l,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,c]};return{name:"C",aliases:["h"],keywords:h,disableAutodetect:!0,illegal:"</",contains:[].concat(p,g,f,[c,{begin:t.IDENT_RE+"::",keywords:h},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:c,strings:s,keywords:h}}}},81588:function(t){t.exports=function(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)(decltype\\(auto\\)|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},s={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(s,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},u={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},d=e.optional(i)+t.IDENT_RE+"\\s*\\(",h={type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]},f={className:"function.dispatch",relevance:0,keywords:{_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},p=[f,c,a,n,t.C_BLOCK_COMMENT_MODE,l,s],g={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:h,contains:p.concat([{begin:/\(/,end:/\)/,keywords:h,contains:p.concat(["self"]),relevance:0}]),relevance:0},m={className:"function",begin:"("+o+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:h,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:h,relevance:0},{begin:d,returnBegin:!0,contains:[u],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[s,l]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,s,l,a,{begin:/\(/,end:/\)/,keywords:h,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,s,l,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,c]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:h,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(g,m,f,p,[c,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:h,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:h},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}},73934:function(t){t.exports=function(t){const e={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},o=t.inherit(i,{illegal:/\n/}),a={className:"subst",begin:/\{/,end:/\}/,keywords:e},s=t.inherit(a,{illegal:/\n/}),l={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,s]},c={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},a]},u=t.inherit(c,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]});a.contains=[c,l,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.C_BLOCK_COMMENT_MODE],s.contains=[u,l,o,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const d={variants:[c,l,i,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},h={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},f=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:e,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,h,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,h,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+f+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:e,contains:[{beginKeywords:["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"].join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,h],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:e,relevance:0,contains:[d,r,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},p]}}},92599:function(t){const e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],o=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();t.exports=function(t){const a=t.regex,s=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),l=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[s.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},s.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},s.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+r.join("|")+")"},{begin:":(:)?("+i.join("|")+")"}]},s.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[s.BLOCK_COMMENT,s.HEXCOLOR,s.IMPORTANT,s.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},s.FUNCTION_DISPATCH]},{begin:a.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:n.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,s.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+e.join("|")+")\\b"}]}}},28040:function(t){t.exports=function(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}},95482:function(t){t.exports=function(t){const e={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:e,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:t.C_NUMBER_RE+"[i]",relevance:1},t.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,illegal:/["']/}]}]}}},2332:function(t){t.exports=function(t){const e=t.regex;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(/[_A-Za-z][_0-9A-Za-z]*/,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}},40765:function(t){t.exports=function(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},o={className:"literal",begin:/\bon|off|true|false|yes|no\b/},a={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},s={begin:/\[/,end:/\]/,contains:[r,o,i,a,n,"self"],relevance:0},l=e.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:e.concat(l,"(\\s*\\.\\s*",l,")*",e.lookahead(/\s*=\s*[^#\s]/)),className:"attr",starts:{end:/$/,contains:[r,s,o,i,a,n]}}]}}},69599:function(t){var e="\\.([0-9](_*[0-9])*)",n="[0-9a-fA-F](_*[0-9a-fA-F])*",r={className:"number",variants:[{begin:`(\\b([0-9](_*[0-9])*)((${e})|\\.)?|(${e}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:`\\b([0-9](_*[0-9])*)((${e})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${e})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{begin:`\\b0[xX]((${n})\\.?|(${n})?\\.(${n}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${n})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function i(t,e,n){return-1===n?"":t.replace(e,(r=>i(t,e,n-1)))}t.exports=function(t){const e=t.regex,n="[\xc0-\u02b8a-zA-Z_$][\xc0-\u02b8a-zA-Z_$0-9]*",o=n+i("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),a={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},s={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},l={className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:a,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[l,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+o+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:a,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:a,relevance:0,contains:[s,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,r,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},r,s]}}},45523:function(t){const e="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],r=["true","false","null","undefined","NaN","Infinity"],i=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],o=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],a=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],s=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],l=[].concat(a,i,o);t.exports=function(t){const c=t.regex,u=e,d="<>",h="</>",f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},p={$pattern:e,keyword:n,literal:r,built_in:l,"variable.language":s},g="\\.([0-9](_?[0-9])*)",m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${m})((${g})|\\.)?|(${g}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(${m})\\b((${g})\\b|\\.)?|(${g})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},w={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},T={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:u+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,E,_,{match:/\$\d+/},v];y.contains=x.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(x)});const S=[].concat(T,y.contains),L=S.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(S)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:L},A={variants:[{match:[/class/,/\s+/,u,/\s+/,/extends/,/\s+/,c.concat(u,"(",c.concat(/\./,u),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,u],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:c.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...i,...o]}},R={variants:[{match:[/function/,/\s+/,u,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/},C={match:c.concat(/\b/,(I=[...a,"super","import"],c.concat("(?!",I.join("|"),")")),u,c.lookahead(/\(/)),className:"title.function",relevance:0};var I;const D={begin:c.concat(/\./,c.lookahead(c.concat(u,/(?![0-9A-Za-z$_(])/))),end:u,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,u,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},P="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,u,/\s*/,/=\s*/,/(async\s*)?/,c.lookahead(P)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:L,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,E,_,T,{match:/\$\d+/},v,O,{className:"attr",begin:u+c.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,t.REGEXP_MODE,{className:"function",begin:P,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:L}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d,end:h},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:u,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+u,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},A,N,{match:/\$[(.]/}]}}},39584:function(t){t.exports=function(t){const e=["true","false","null"],n={scope:"literal",beginKeywords:e.join(" ")};return{name:"JSON",keywords:{literal:e},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},t.QUOTE_STRING_MODE,n,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}},95309:function(t){var e="\\.([0-9](_*[0-9])*)",n="[0-9a-fA-F](_*[0-9a-fA-F])*",r={className:"number",variants:[{begin:`(\\b([0-9](_*[0-9])*)((${e})|\\.)?|(${e}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:`\\b([0-9](_*[0-9])*)((${e})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${e})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{begin:`\\b0[xX]((${n})\\.?|(${n})?\\.(${n}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${n})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};t.exports=function(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(a);const s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(a,{className:"string"}),"self"]}]},c=r,u=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),d={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},h=d;return h.variants[1].contains=[d],d.variants[1].contains=[h],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,u,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,s,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[d,t.C_LINE_COMMENT_MODE,u],relevance:0},t.C_LINE_COMMENT_MODE,u,s,l,a,t.C_NUMBER_MODE]},u]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,l]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},c]}}},46841:function(t){const e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],o=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),a=r.concat(i);t.exports=function(t){const s=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),l=a,c="([\\w-]+|@\\{[\\w-]+\\})",u=[],d=[],h=function(t){return{className:"string",begin:"~?"+t+".*?"+t}},f=function(t,e,n){return{className:t,begin:e,relevance:n}},p={$pattern:/[a-z-]+/,keyword:"and or not only",attribute:n.join(" ")},g={begin:"\\(",end:"\\)",contains:d,keywords:p,relevance:0};d.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,h("'"),h('"'),s.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},s.HEXCOLOR,g,f("variable","@@?[\\w-]+",10),f("variable","@\\{[\\w-]+\\}"),f("built_in","~?`[^`]*?`"),{className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0},s.IMPORTANT,{beginKeywords:"and not"},s.FUNCTION_DISPATCH);const m=d.concat({begin:/\{/,end:/\}/,contains:u}),v={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(d)},y={begin:c+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},s.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:d}}]},b={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:p,returnEnd:!0,contains:d,relevance:0}},w={className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:m}},E={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:c,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:"[<='$\"]",relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,v,f("keyword","all\\b"),f("variable","@\\{[\\w-]+\\}"),{begin:"\\b("+e.join("|")+")\\b",className:"selector-tag"},s.CSS_NUMBER_MODE,f("selector-tag",c,0),f("selector-id","#"+c),f("selector-class","\\."+c,0),f("selector-tag","&",0),s.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+i.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:m},{begin:"!important"},s.FUNCTION_DISPATCH]},_={begin:`[\\w-]+:(:)?(${l.join("|")})`,returnBegin:!0,contains:[E]};return u.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,b,w,_,y,E,v,s.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:u}}},55200:function(t){t.exports=function(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!\\[=*\\[)","$"),t.COMMENT("--\\[=*\\[",n,{contains:[r],relevance:10})];return{name:"Lua",keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}},69357:function(t){t.exports=function(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,{className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o]}}},71842:function(t){t.exports=function(t){const e={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},r={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},o=t.inherit(r,{contains:[]}),a=t.inherit(i,{contains:[]});r.contains.push(a),i.contains.push(o);let s=[e,n];return[r,i,o,a].forEach((t=>{t.contains=t.contains.concat(s)})),s=s.concat(r,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:s},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:s}]}]},e,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},r,i,{className:"quote",begin:"^>\\s+",contains:s,end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},n,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}},12248:function(t){t.exports=function(t){const e=/[a-zA-Z@][a-zA-Z0-9_]*/,n={$pattern:e,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:{"variable.language":["this","super"],$pattern:e,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},illegal:"</",contains:[{className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+n.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:n,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}},73331:function(t){t.exports=function(t){const e=t.regex,n=/[dualxmsipngr]{0,12}/,r={$pattern:/[\w.]+/,keyword:["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"].join(" ")},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:r},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},s=[t.BACKSLASH_ESCAPE,i,a],l=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(t,r,i="\\1")=>{const o="\\1"===i?i:e.concat(i,r);return e.concat(e.concat("(?:",t,")"),r,/(?:\\.|[^\\\/])*?/,o,/(?:\\.|[^\\\/])*?/,i,n)},u=(t,r,i)=>e.concat(e.concat("(?:",t,")"),r,/(?:\\.|[^\\\/])*?/,i,n),d=[a,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:s,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",e.either(...l,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:u("(?:m|qr)?",/\//,/\//)},{begin:u("m|qr",e.either(...l,{capture:!0}),/\1/)},{begin:u("m|qr",/\(/,/\)/)},{begin:u("m|qr",/\[/,/\]/)},{begin:u("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return i.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:r,contains:d}}},38968:function(t){t.exports=function(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}},33412:function(t){t.exports=function(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},s=t.inherit(t.APOS_STRING_MODE,{illegal:null}),l="[ \t\n]",c={scope:"string",variants:[t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(a)}),s,{begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(t,e)=>{e.data._beginMatch=t[1]||t[2]},"on:end":(t,e)=>{e.data._beginMatch!==t[1]&&e.ignoreMatch()}},t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/})]},u={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},d=["false","null","true"],h=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],f=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],p={keyword:h,literal:(t=>{const e=[];return t.forEach((t=>{e.push(t),t.toLowerCase()===t?e.push(t.toUpperCase()):e.push(t.toLowerCase())})),e})(d),built_in:f},g=t=>t.map((t=>t.replace(/\|\d+$/,""))),m={variants:[{match:[/new/,e.concat(l,"+"),e.concat("(?!",g(f).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},v=e.concat(r,"\\b(?!\\()"),y={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),v],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),v],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},b={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},w={relevance:0,begin:/\(/,end:/\)/,keywords:p,contains:[b,o,y,t.C_BLOCK_COMMENT_MODE,c,u,m]},E={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",g(h).join("\\b|"),"|",g(f).join("\\b|"),"\\b)"),r,e.concat(l,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[w]};w.contains.push(E);const _=[b,y,t.C_BLOCK_COMMENT_MODE,c,u,m];return{case_insensitive:!1,keywords:p,contains:[{begin:e.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:d,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:d,keyword:["new","array"]},contains:["self",..._]},..._,{scope:"meta",match:i}]},t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},o,E,y,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},m,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:p,contains:["self",o,y,t.C_BLOCK_COMMENT_MODE,c,u]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},c,u]}}},60763:function(t){t.exports=function(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}},53826:function(t){t.exports=function(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}},20077:function(t){t.exports=function(t){const e=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},o={className:"meta",begin:/^(>>>|\.\.\.) /},a={className:"subst",begin:/\{/,end:/\}/,keywords:i,illegal:/#/},s={begin:/\{\{/,relevance:0},l={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,o],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,o,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,o,s,a]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,s,a]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,s,a]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},c="[0-9](_?[0-9])*",u=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,d=`\\b|${r.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${c})|(${u}))[eE][+-]?(${c})[jJ]?(?=${d})`},{begin:`(${u})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${c})[jJ](?=${d})`}]},f={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:i,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,contains:["self",o,h,l,t.HASH_COMMENT_MODE]}]};return a.contains=[l,h,o],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,illegal:/(<\/|\?)|=>/,contains:[o,h,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},l,f,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,p,l]}]}}},8409:function(t){t.exports=function(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,o=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[o,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:o},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}},33818:function(t){t.exports=function(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},s={begin:"#<",end:">"},l=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:o},u={className:"string",contains:[t.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,c]})]}]},d="[0-9](_?[0-9])*",h={className:"number",relevance:0,variants:[{begin:`\\b([1-9](_?[0-9])*|0)(\\.(${d}))?([eE][+-]?(${d})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},f={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},p=[u,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[f]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[u,{begin:n}],relevance:0},h,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(s,l),relevance:0}].concat(s,l);c.contains=p,f.contains=p;const g=[{begin:/^\s*=>/,starts:{end:"$",contains:p}},{className:"meta.prompt",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",starts:{end:"$",keywords:o,contains:p}}];return l.unshift(s),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(g).concat(l).concat(p)}}},66264:function(t){t.exports=function(t){const e=t.regex,n={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,t.IDENT_RE,e.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],o=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:o,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,t.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,t.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:i,type:o}},{className:"punctuation",begin:"->"},n]}}},23322:function(t){const e=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],n=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],r=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],i=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],o=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();t.exports=function(t){const a=(t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}))(t),s=i,l=r,c="@[a-z-]+",u={className:"variable",begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,a.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},a.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+e.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+l.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+s.join("|")+")"},u,{begin:/\(/,end:/\)/,contains:[a.CSS_NUMBER_MODE]},a.CSS_VARIABLE,{className:"attribute",begin:"\\b("+o.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[a.BLOCK_COMMENT,u,a.HEXCOLOR,a.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,a.IMPORTANT,a.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:c,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:n.join(" ")},contains:[{begin:c,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},u,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,a.HEXCOLOR,a.CSS_NUMBER_MODE]},a.FUNCTION_DISPATCH]}}},80320:function(t){t.exports=function(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}},23709:function(t){t.exports=function(t){const e=t.regex,n=t.COMMENT("--","$"),r=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],o=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],a=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],s=o,l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((t=>!o.includes(t))),c={begin:e.concat(/\b/,e.either(...s),/\s*\(/),relevance:0,keywords:{built_in:s}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(t,{exceptions:e,when:n}={}){const r=n;return e=e||[],t.map((t=>t.match(/\|\d+$/)||e.includes(t)?t:r(t)?`${t}|0`:t))}(l,{when:t=>t.length<3}),literal:r,type:i,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:e.either(...a),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:l.concat(a),literal:r,type:i}},{className:"type",begin:e.either("double precision","large object","with timezone","without timezone")},c,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}}},33035:function(t){function e(t){return t?"string"===typeof t?t:t.source:null}function n(t){return r("(?=",t,")")}function r(...t){return t.map((t=>e(t))).join("")}function i(...t){const n=function(t){const e=t[t.length-1];return"object"===typeof e&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}(t);return"("+(n.capture?"":"?:")+t.map((t=>e(t))).join("|")+")"}const o=t=>r(/\b/,t,/\w$/.test(t)?/\b/:/\B/),a=["Protocol","Type"].map(o),s=["init","self"].map(o),l=["Any","Self"],c=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],u=["false","nil","true"],d=["assignment","associativity","higherThan","left","lowerThan","none","right"],h=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],f=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],p=i(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),g=i(p,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),m=r(p,g,"*"),v=i(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),y=i(v,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),b=r(v,y,"*"),w=r(/[A-Z]/,y,"*"),E=["attached","autoclosure",r(/convention\(/,i("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",r(/objc\(/,b,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],_=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];t.exports=function(t){const e={match:/\s+/,relevance:0},p=t.COMMENT("/\\*","\\*/",{contains:["self"]}),v=[t.C_LINE_COMMENT_MODE,p],T={match:[/\./,i(...a,...s)],className:{2:"keyword"}},x={match:r(/\./,i(...c)),relevance:0},S=c.filter((t=>"string"===typeof t)).concat(["_|0"]),L={variants:[{className:"keyword",match:i(...c.filter((t=>"string"!==typeof t)).concat(l).map(o),...s)}]},k={$pattern:i(/\b\w+/,/#\w+/),keyword:S.concat(h),literal:u},A=[T,x,L],O=[{match:r(/\./,i(...f)),relevance:0},{className:"built_in",match:r(/\b/,i(...f),/(?=\()/)}],R={match:/->/,relevance:0},C=[R,{className:"operator",relevance:0,variants:[{match:m},{match:`\\.(\\.|${g})+`}]}],I="([0-9a-fA-F]_*)+",D={className:"number",relevance:0,variants:[{match:"\\b(([0-9]_*)+)(\\.(([0-9]_*)+))?([eE][+-]?(([0-9]_*)+))?\\b"},{match:`\\b0x(${I})(\\.(${I}))?([pP][+-]?(([0-9]_*)+))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},N=(t="")=>({className:"subst",variants:[{match:r(/\\/,t,/[0\\tnr"']/)},{match:r(/\\/,t,/u\{[0-9a-fA-F]{1,8}\}/)}]}),P=(t="")=>({className:"subst",match:r(/\\/,t,/[\t ]*(?:[\r\n]|\r\n)/)}),M=(t="")=>({className:"subst",label:"interpol",begin:r(/\\/,t,/\(/),end:/\)/}),F=(t="")=>({begin:r(t,/"""/),end:r(/"""/,t),contains:[N(t),P(t),M(t)]}),B=(t="")=>({begin:r(t,/"/),end:r(/"/,t),contains:[N(t),M(t)]}),U={className:"string",variants:[F(),F("#"),F("##"),F("###"),B(),B("#"),B("##"),B("###")]},j=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],$={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:j},G=t=>{const e=r(t,/\//),n=r(/\//,t);return{begin:e,end:n,contains:[...j,{scope:"comment",begin:`#(?!.*${n})`,end:/$/}]}},H={scope:"regexp",variants:[G("###"),G("##"),G("#"),$]},K={match:r(/`/,b,/`/)},V=[K,{className:"variable",match:/\$\d+/},{className:"variable",match:`\\$${y}+`}],z=[{match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:_,contains:[...C,D,U]}]}},{scope:"keyword",match:r(/@/,i(...E))},{scope:"meta",match:r(/@/,b)}],Z={match:n(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:r(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,y,"+")},{className:"type",match:w,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:r(/\s+&\s+/,n(w)),relevance:0}]},q={begin:/</,end:/>/,keywords:k,contains:[...v,...A,...z,R,Z]};Z.contains.push(q);const W={begin:/\(/,end:/\)/,relevance:0,keywords:k,contains:["self",{match:r(b,/\s*:/),keywords:"_|0",relevance:0},...v,H,...A,...O,...C,D,U,...V,...z,Z]},Y={begin:/</,end:/>/,keywords:"repeat each",contains:[...v,Z]},X={begin:/\(/,end:/\)/,keywords:k,contains:[{begin:i(n(r(b,/\s*:/)),n(r(b,/\s+/,b,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:b}]},...v,...A,...C,D,U,...z,Z,W],endsParent:!0,illegal:/["']/},Q={match:[/(func|macro)/,/\s+/,i(K.match,b,m)],className:{1:"keyword",3:"title.function"},contains:[Y,X,e],illegal:[/\[/,/%/]},J={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[Y,X,e],illegal:/\[|%/},tt={match:[/operator/,/\s+/,m],className:{1:"keyword",3:"title"}},et={begin:[/precedencegroup/,/\s+/,w],className:{1:"keyword",3:"title"},contains:[Z],keywords:[...d,...u],end:/}/};for(const n of U.variants){const t=n.contains.find((t=>"interpol"===t.label));t.keywords=k;const e=[...A,...O,...C,D,U,...V];t.contains=[...e,{begin:/\(/,end:/\)/,contains:["self",...e]}]}return{name:"Swift",keywords:k,contains:[...v,Q,J,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:k,contains:[t.inherit(t.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...A]},tt,et,{beginKeywords:"import",end:/$/,contains:[...v],relevance:0},H,...A,...O,...C,D,U,...V,...z,Z,W]}}},99912:function(t){const e="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],r=["true","false","null","undefined","NaN","Infinity"],i=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],o=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],a=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],s=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],l=[].concat(a,i,o);function c(t){const c=t.regex,u=e,d="<>",h="</>",f={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(t,e)=>{const n=t[0].length+t.index,r=t.input[n];if("<"===r||","===r)return void e.ignoreMatch();let i;">"===r&&(((t,{after:e})=>{const n="</"+t[0].slice(1);return-1!==t.input.indexOf(n,e)})(t,{after:n})||e.ignoreMatch());const o=t.input.substring(n);((i=o.match(/^\s*=/))||(i=o.match(/^\s+extends\s+/))&&0===i.index)&&e.ignoreMatch()}},p={$pattern:e,keyword:n,literal:r,built_in:l,"variable.language":s},g="\\.([0-9](_?[0-9])*)",m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",v={className:"number",variants:[{begin:`(\\b(${m})((${g})|\\.)?|(${g}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{begin:`\\b(${m})\\b((${g})\\b|\\.)?|(${g})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},y={className:"subst",begin:"\\$\\{",end:"\\}",keywords:p,contains:[]},b={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"xml"}},w={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,y],subLanguage:"graphql"}},_={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,y]},T={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:u+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},x=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,E,_,{match:/\$\d+/},v];y.contains=x.concat({begin:/\{/,end:/\}/,keywords:p,contains:["self"].concat(x)});const S=[].concat(T,y.contains),L=S.concat([{begin:/\(/,end:/\)/,keywords:p,contains:["self"].concat(S)}]),k={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:L},A={variants:[{match:[/class/,/\s+/,u,/\s+/,/extends/,/\s+/,c.concat(u,"(",c.concat(/\./,u),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,u],scope:{1:"keyword",3:"title.class"}}]},O={relevance:0,match:c.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...i,...o]}},R={variants:[{match:[/function/,/\s+/,u,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[k],illegal:/%/};const C={match:c.concat(/\b/,(I=[...a,"super","import"],c.concat("(?!",I.join("|"),")")),u,c.lookahead(/\(/)),className:"title.function",relevance:0};var I;const D={begin:c.concat(/\./,c.lookahead(c.concat(u,/(?![0-9A-Za-z$_(])/))),end:u,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,u,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},k]},P="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",M={match:[/const|var|let/,/\s+/,u,/\s*/,/=\s*/,/(async\s*)?/,c.lookahead(P)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[k]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:p,exports:{PARAMS_CONTAINS:L,CLASS_REFERENCE:O},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,b,w,E,_,T,{match:/\$\d+/},v,O,{className:"attr",begin:u+c.lookahead(":"),relevance:0},M,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[T,t.REGEXP_MODE,{className:"function",begin:P,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:p,contains:L}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:d,end:h},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:f.begin,"on:begin":f.isTrulyOpeningTag,end:f.end}],subLanguage:"xml",contains:[{begin:f.begin,end:f.end,skip:!0,contains:["self"]}]}]},R,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[k,t.inherit(t.TITLE_MODE,{begin:u,className:"title.function"})]},{match:/\.\.\./,relevance:0},D,{match:"\\$"+u,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[k]},C,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},A,N,{match:/\$[(.]/}]}}t.exports=function(t){const i=c(t),o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[i.exports.CLASS_REFERENCE]},u={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[i.exports.CLASS_REFERENCE]},d={$pattern:e,keyword:n.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:r,built_in:l.concat(o),"variable.language":s},h={className:"meta",begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},f=(t,e,n)=>{const r=t.contains.findIndex((t=>t.label===e));if(-1===r)throw new Error("can not find mode to replace");t.contains.splice(r,1,n)};return Object.assign(i.keywords,d),i.exports.PARAMS_CONTAINS.push(h),i.contains=i.contains.concat([h,a,u]),f(i,"shebang",t.SHEBANG()),f(i,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),i.contains.find((t=>"func.def"===t.label)).relevance=0,Object.assign(i,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),i}},38524:function(t){t.exports=function(t){const e=t.regex,n=/\d{1,2}\/\d{1,2}\/\d{4}/,r=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,o=/\d{1,2}(:\d{1,2}){1,2}/,a={className:"literal",variants:[{begin:e.concat(/# */,e.either(r,n),/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,i,/ *#/)},{begin:e.concat(/# */,e.either(r,n),/ +/,e.either(i,o),/ *#/)}]},s=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),l=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},a,{className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{className:"label",begin:/^\w+:/},s,l,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[l]}]}}},89647:function(t){t.exports=function(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);return e.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]},contains:[t.COMMENT(/;;/,/$/),e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},t.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},{className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/},{className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/}]}}},95313:function(t){t.exports=function(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(i,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),s=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),l={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[i,s,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,o,s,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[s]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:l}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}},8425:function(t){t.exports=function(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=t.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),o={className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},a={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},s={begin:/\{/,end:/\}/,contains:[a],illegal:"\\n",relevance:0},l={begin:"\\[",end:"\\]",contains:[a],illegal:"\\n",relevance:0},c=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},o,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},s,l,r],u=[...c];return u.pop(),u.push(i),a.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:c}}},1793:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},27791:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,l,"next",t)}function l(t){r(a,i,o,s,l,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return i}})},22951:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{Z:function(){return r}})},91976:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,{Z:function(){return i}})},64649:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},65809:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(64013);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,e)||(0,r.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},30126:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(1793);var i=n(64013);function o(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,i.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},33940:function(t,e,n){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{Z:function(){return r}})},64013:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(1793);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},63006:function(t,e,n){"use strict";function r(t){return null!==t&&"object"===typeof t&&"constructor"in t&&t.constructor===Object}function i(t={},e={}){Object.keys(e).forEach((n=>{"undefined"===typeof t[n]?t[n]=e[n]:r(e[n])&&r(t[n])&&Object.keys(e[n]).length>0&&i(t[n],e[n])}))}n.d(e,{tl:function(){return rt},tq:function(){return et}});const o={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){const t="undefined"!==typeof document?document:{};return i(t,o),t}const s={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return"undefined"===typeof setTimeout?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){"undefined"!==typeof setTimeout&&clearTimeout(t)}};function l(){const t="undefined"!==typeof window?window:{};return i(t,s),t}class c extends Array{constructor(t){"number"===typeof t?super(t):(super(...t||[]),function(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(t){e.__proto__=t}})}(this))}}function u(t=[]){const e=[];return t.forEach((t=>{Array.isArray(t)?e.push(...u(t)):e.push(t)})),e}function d(t,e){return Array.prototype.filter.call(t,e)}function h(t,e){const n=l(),r=a();let i=[];if(!e&&t instanceof c)return t;if(!t)return new c(i);if("string"===typeof t){const n=t.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let t="div";0===n.indexOf("<li")&&(t="ul"),0===n.indexOf("<tr")&&(t="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(t="tr"),0===n.indexOf("<tbody")&&(t="table"),0===n.indexOf("<option")&&(t="select");const e=r.createElement(t);e.innerHTML=n;for(let n=0;n<e.childNodes.length;n+=1)i.push(e.childNodes[n])}else i=function(t,e){if("string"!==typeof t)return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof c)return t;i=t}return new c(function(t){const e=[];for(let n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(i))}h.fn=c.prototype;const f="resize scroll".split(" ");function p(t){return function(...e){if("undefined"===typeof e[0]){for(let e=0;e<this.length;e+=1)f.indexOf(t)<0&&(t in this[e]?this[e][t]():h(this[e]).trigger(t));return this}return this.on(t,...e)}}p("click"),p("blur"),p("focus"),p("focusin"),p("focusout"),p("keyup"),p("keydown"),p("keypress"),p("submit"),p("change"),p("mousedown"),p("mousemove"),p("mouseup"),p("mouseenter"),p("mouseleave"),p("mouseout"),p("mouseover"),p("touchstart"),p("touchend"),p("touchmove"),p("resize"),p("scroll");const g={addClass:function(...t){const e=u(t.map((t=>t.split(" "))));return this.forEach((t=>{t.classList.add(...e)})),this},removeClass:function(...t){const e=u(t.map((t=>t.split(" "))));return this.forEach((t=>{t.classList.remove(...e)})),this},hasClass:function(...t){const e=u(t.map((t=>t.split(" "))));return d(this,(t=>e.filter((e=>t.classList.contains(e))).length>0)).length>0},toggleClass:function(...t){const e=u(t.map((t=>t.split(" "))));this.forEach((t=>{e.forEach((e=>{t.classList.toggle(e)}))}))},attr:function(t,e){if(1===arguments.length&&"string"===typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(const e in t)this[n][e]=t[e],this[n].setAttribute(e,t[e]);return this},removeAttr:function(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this},transform:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this},transition:function(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!==typeof t?`${t}ms`:t;return this},on:function(...t){let[e,n,r,i]=t;function o(t){const e=t.target;if(!e)return;const i=t.target.dom7EventData||[];if(i.indexOf(t)<0&&i.unshift(t),h(e).is(n))r.apply(e,i);else{const t=h(e).parents();for(let e=0;e<t.length;e+=1)h(t[e]).is(n)&&r.apply(t[e],i)}}function a(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),r.apply(this,e)}"function"===typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const s=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const t=this[c];if(n)for(l=0;l<s.length;l+=1){const e=s[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:o}),t.addEventListener(e,o,i)}else for(l=0;l<s.length;l+=1){const e=s[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:a}),t.addEventListener(e,a,i)}}return this},off:function(...t){let[e,n,r,i]=t;"function"===typeof t[1]&&([e,r,i]=t,n=void 0),i||(i=!1);const o=e.split(" ");for(let a=0;a<o.length;a+=1){const t=o[a];for(let e=0;e<this.length;e+=1){const o=this[e];let a;if(!n&&o.dom7Listeners?a=o.dom7Listeners[t]:n&&o.dom7LiveListeners&&(a=o.dom7LiveListeners[t]),a&&a.length)for(let e=a.length-1;e>=0;e-=1){const n=a[e];r&&n.listener===r||r&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===r?(o.removeEventListener(t,n.proxyListener,i),a.splice(e,1)):r||(o.removeEventListener(t,n.proxyListener,i),a.splice(e,1))}}}return this},trigger:function(...t){const e=l(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const o=n[i];for(let n=0;n<this.length;n+=1){const i=this[n];if(e.CustomEvent){const n=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});i.dom7EventData=t.filter(((t,e)=>e>0)),i.dispatchEvent(n),i.dom7EventData=[],delete i.dom7EventData}}}return this},transitionEnd:function(t){const e=this;return t&&e.on("transitionend",(function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))})),this},outerWidth:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const t=l();return this[0]?t.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const t=l(),e=a(),n=this[0],r=n.getBoundingClientRect(),i=e.body,o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,c=n===t?t.scrollY:n.scrollTop,u=n===t?t.scrollX:n.scrollLeft;return{top:r.top+c-o,left:r.left+u-s}}return null},css:function(t,e){const n=l();let r;if(1===arguments.length){if("string"!==typeof t){for(r=0;r<this.length;r+=1)for(const e in t)this[r].style[e]=t[e];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"===typeof t){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this},each:function(t){return t?(this.forEach(((e,n)=>{t.apply(e,[e,n])})),this):this},html:function(t){if("undefined"===typeof t)return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this},text:function(t){if("undefined"===typeof t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this},is:function(t){const e=l(),n=a(),r=this[0];let i,o;if(!r||"undefined"===typeof t)return!1;if("string"===typeof t){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=h(t),o=0;o<i.length;o+=1)if(i[o]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof c){for(i=t.nodeType?[t]:t,o=0;o<i.length;o+=1)if(i[o]===r)return!0;return!1}return!1},index:function(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}},eq:function(t){if("undefined"===typeof t)return this;const e=this.length;if(t>e-1)return h([]);if(t<0){const n=e+t;return h(n<0?[]:[this[n]])}return h([this[t]])},append:function(...t){let e;const n=a();for(let r=0;r<t.length;r+=1){e=t[r];for(let t=0;t<this.length;t+=1)if("string"===typeof e){const r=n.createElement("div");for(r.innerHTML=e;r.firstChild;)this[t].appendChild(r.firstChild)}else if(e instanceof c)for(let n=0;n<e.length;n+=1)this[t].appendChild(e[n]);else this[t].appendChild(e)}return this},prepend:function(t){const e=a();let n,r;for(n=0;n<this.length;n+=1)if("string"===typeof t){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof c)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this},next:function(t){return this.length>0?t?this[0].nextElementSibling&&h(this[0].nextElementSibling).is(t)?h([this[0].nextElementSibling]):h([]):this[0].nextElementSibling?h([this[0].nextElementSibling]):h([]):h([])},nextAll:function(t){const e=[];let n=this[0];if(!n)return h([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?h(r).is(t)&&e.push(r):e.push(r),n=r}return h(e)},prev:function(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&h(e.previousElementSibling).is(t)?h([e.previousElementSibling]):h([]):e.previousElementSibling?h([e.previousElementSibling]):h([])}return h([])},prevAll:function(t){const e=[];let n=this[0];if(!n)return h([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?h(r).is(t)&&e.push(r):e.push(r),n=r}return h(e)},parent:function(t){const e=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?h(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return h(e)},parents:function(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?h(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return h(e)},closest:function(t){let e=this;return"undefined"===typeof t?h([]):(e.is(t)||(e=e.parents(t).eq(0)),e)},find:function(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let t=0;t<r.length;t+=1)e.push(r[t])}return h(e)},children:function(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let n=0;n<r.length;n+=1)t&&!h(r[n]).is(t)||e.push(r[n])}return h(e)},filter:function(t){return h(d(this,t))},remove:function(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}};Object.keys(g).forEach((t=>{Object.defineProperty(h.fn,t,{value:g[t],writable:!0})}));var m=h;function v(t,e){return void 0===e&&(e=0),setTimeout(t,e)}function y(){return Date.now()}function b(t,e){void 0===e&&(e="x");const n=l();let r,i,o;const a=function(t){const e=l();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}(t);return n.WebKitCSSMatrix?(i=a.transform||a.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map((t=>t.replace(",","."))).join(", ")),o=new n.WebKitCSSMatrix("none"===i?"":i)):(o=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),"x"===e&&(i=n.WebKitCSSMatrix?o.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===e&&(i=n.WebKitCSSMatrix?o.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),i||0}function w(t){return"object"===typeof t&&null!==t&&t.constructor&&"Object"===Object.prototype.toString.call(t).slice(8,-1)}function E(t){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?t instanceof HTMLElement:t&&(1===t.nodeType||11===t.nodeType)}function _(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!E(r)){const n=Object.keys(Object(r)).filter((t=>e.indexOf(t)<0));for(let e=0,i=n.length;e<i;e+=1){const i=n[e],o=Object.getOwnPropertyDescriptor(r,i);void 0!==o&&o.enumerable&&(w(t[i])&&w(r[i])?r[i].__swiper__?t[i]=r[i]:_(t[i],r[i]):!w(t[i])&&w(r[i])?(t[i]={},r[i].__swiper__?t[i]=r[i]:_(t[i],r[i])):t[i]=r[i])}}}return t}function T(t,e,n){t.style.setProperty(e,n)}function x(t){let{swiper:e,targetPosition:n,side:r}=t;const i=l(),o=-e.translate;let a,s=null;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=n>o?"next":"prev",d=(t,e)=>"next"===u&&t>=e||"prev"===u&&t<=e,h=()=>{a=(new Date).getTime(),null===s&&(s=a);const t=Math.max(Math.min((a-s)/c,1),0),l=.5-Math.cos(t*Math.PI)/2;let u=o+l*(n-o);if(d(u,n)&&(u=n),e.wrapperEl.scrollTo({[r]:u}),d(u,n))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout((()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:u})})),void i.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=i.requestAnimationFrame(h)};h()}let S,L,k;function A(){return S||(S=function(){const t=l(),e=a();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let e=!1;try{const n=Object.defineProperty({},"passive",{get(){e=!0}});t.addEventListener("testPassiveListener",null,n)}catch(n){}return e}(),gestures:"ongesturestart"in t}}()),S}function O(t){return void 0===t&&(t={}),L||(L=function(t){let{userAgent:e}=void 0===t?{}:t;const n=A(),r=l(),i=r.navigator.platform,o=e||r.navigator.userAgent,a={ios:!1,android:!1},s=r.screen.width,c=r.screen.height,u=o.match(/(Android);?[\s\/]+([\d.]+)?/);let d=o.match(/(iPad).*OS\s([\d_]+)/);const h=o.match(/(iPod)(.*OS\s([\d_]+))?/),f=!d&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===i;let g="MacIntel"===i;return!d&&g&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${s}x${c}`)>=0&&(d=o.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),g=!1),u&&!p&&(a.os="android",a.android=!0),(d||f||h)&&(a.os="ios",a.ios=!0),a}(t)),L}function R(){return k||(k=function(){const t=l();return{isSafari:function(){const e=t.navigator.userAgent.toLowerCase();return e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),k}var C={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof e)return r;const i=n?"unshift":"push";return t.split(" ").forEach((t=>{r.eventsListeners[t]||(r.eventsListeners[t]=[]),r.eventsListeners[t][i](e)})),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!==typeof e)return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof t)return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(t.split(" ").forEach((t=>{"undefined"===typeof e?n.eventsListeners[t]=[]:n.eventsListeners[t]&&n.eventsListeners[t].forEach(((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&n.eventsListeners[t].splice(i,1)}))})),n):n},emit(){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];"string"===typeof o[0]||Array.isArray(o[0])?(e=o[0],n=o.slice(1,o.length),r=t):(e=o[0].events,n=o[0].data,r=o[0].context||t),n.unshift(r);return(Array.isArray(e)?e:e.split(" ")).forEach((e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach((t=>{t.apply(r,[e,...n])})),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach((t=>{t.apply(r,n)}))})),t}};var I={updateSize:function(){const t=this;let e,n;const r=t.$el;e="undefined"!==typeof t.params.width&&null!==t.params.width?t.params.width:r[0].clientWidth,n="undefined"!==typeof t.params.height&&null!==t.params.height?t.params.height:r[0].clientHeight,0===e&&t.isHorizontal()||0===n&&t.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))},updateSlides:function(){const t=this;function e(e){return t.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}function n(t,n){return parseFloat(t.getPropertyValue(e(n))||0)}const r=t.params,{$wrapperEl:i,size:o,rtlTranslate:a,wrongRTL:s}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=i.children(`.${t.params.slideClass}`),d=l?t.virtual.slides.length:u.length;let h=[];const f=[],p=[];let g=r.slidesOffsetBefore;"function"===typeof g&&(g=r.slidesOffsetBefore.call(t));let m=r.slidesOffsetAfter;"function"===typeof m&&(m=r.slidesOffsetAfter.call(t));const v=t.snapGrid.length,y=t.slidesGrid.length;let b=r.spaceBetween,w=-g,E=0,_=0;if("undefined"===typeof o)return;"string"===typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*o),t.virtualSize=-b,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(T(t.wrapperEl,"--swiper-centered-offset-before",""),T(t.wrapperEl,"--swiper-centered-offset-after",""));const x=r.grid&&r.grid.rows>1&&t.grid;let S;x&&t.grid.initSlides(d);const L="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((t=>"undefined"!==typeof r.breakpoints[t].slidesPerView)).length>0;for(let T=0;T<d;T+=1){S=0;const i=u.eq(T);if(x&&t.grid.updateSlide(T,i,d,e),"none"!==i.css("display")){if("auto"===r.slidesPerView){L&&(u[T].style[e("width")]="");const o=getComputedStyle(i[0]),a=i[0].style.transform,s=i[0].style.webkitTransform;if(a&&(i[0].style.transform="none"),s&&(i[0].style.webkitTransform="none"),r.roundLengths)S=t.isHorizontal()?i.outerWidth(!0):i.outerHeight(!0);else{const t=n(o,"width"),e=n(o,"padding-left"),r=n(o,"padding-right"),a=n(o,"margin-left"),s=n(o,"margin-right"),l=o.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=t+a+s;else{const{clientWidth:n,offsetWidth:o}=i[0];S=t+e+r+a+s+(o-n)}}a&&(i[0].style.transform=a),s&&(i[0].style.webkitTransform=s),r.roundLengths&&(S=Math.floor(S))}else S=(o-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(S=Math.floor(S)),u[T]&&(u[T].style[e("width")]=`${S}px`);u[T]&&(u[T].swiperSlideSize=S),p.push(S),r.centeredSlides?(w=w+S/2+E/2+b,0===E&&0!==T&&(w=w-o/2-b),0===T&&(w=w-o/2-b),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),_%r.slidesPerGroup===0&&h.push(w),f.push(w)):(r.roundLengths&&(w=Math.floor(w)),(_-Math.min(t.params.slidesPerGroupSkip,_))%t.params.slidesPerGroup===0&&h.push(w),f.push(w),w=w+S+b),t.virtualSize+=S+b,E=S,_+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+m,a&&s&&("slide"===r.effect||"coverflow"===r.effect)&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),x&&t.grid.updateWrapperSize(S,h,e),!r.centeredSlides){const e=[];for(let n=0;n<h.length;n+=1){let i=h[n];r.roundLengths&&(i=Math.floor(i)),h[n]<=t.virtualSize-o&&e.push(i)}h=e,Math.floor(t.virtualSize-o)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-o)}if(0===h.length&&(h=[0]),0!==r.spaceBetween){const n=t.isHorizontal()&&a?"marginLeft":e("marginRight");u.filter(((t,e)=>!r.cssMode||e!==u.length-1)).css({[n]:`${b}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let t=0;p.forEach((e=>{t+=e+(r.spaceBetween?r.spaceBetween:0)})),t-=r.spaceBetween;const e=t-o;h=h.map((t=>t<0?-g:t>e?e+m:t))}if(r.centerInsufficientSlides){let t=0;if(p.forEach((e=>{t+=e+(r.spaceBetween?r.spaceBetween:0)})),t-=r.spaceBetween,t<o){const e=(o-t)/2;h.forEach(((t,n)=>{h[n]=t-e})),f.forEach(((t,n)=>{f[n]=t+e}))}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){T(t.wrapperEl,"--swiper-centered-offset-before",-h[0]+"px"),T(t.wrapperEl,"--swiper-centered-offset-after",t.size/2-p[p.length-1]/2+"px");const e=-t.snapGrid[0],n=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map((t=>t+e)),t.slidesGrid=t.slidesGrid.map((t=>t+n))}if(d!==c&&t.emit("slidesLengthChange"),h.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==y&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&("slide"===r.effect||"fade"===r.effect)){const e=`${r.containerModifierClass}backface-hidden`,n=t.$el.hasClass(e);d<=r.maxBackfaceHiddenSlides?n||t.$el.addClass(e):n&&t.$el.removeClass(e)}},updateAutoHeight:function(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i,o=0;"number"===typeof t?e.setTransition(t):!0===t&&e.setTransition(e.params.speed);const a=t=>r?e.slides.filter((e=>parseInt(e.getAttribute("data-swiper-slide-index"),10)===t))[0]:e.slides.eq(t)[0];if("auto"!==e.params.slidesPerView&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||m([])).each((t=>{n.push(t)}));else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const t=e.activeIndex+i;if(t>e.slides.length&&!r)break;n.push(a(t))}else n.push(a(e.activeIndex));for(i=0;i<n.length;i+=1)if("undefined"!==typeof n[i]){const t=n[i].offsetHeight;o=t>o?t:o}(o||0===o)&&e.$wrapperEl.css("height",`${o}px`)},updateSlidesOffset:function(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop},updateSlidesProgress:function(t){void 0===t&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(0===r.length)return;"undefined"===typeof r[0].swiperSlideOffset&&e.updateSlidesOffset();let a=-t;i&&(a=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let s=0;s<r.length;s+=1){const t=r[s];let l=t.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(l-=r[0].swiperSlideOffset);const c=(a+(n.centeredSlides?e.minTranslate():0)-l)/(t.swiperSlideSize+n.spaceBetween),u=(a-o[0]+(n.centeredSlides?e.minTranslate():0)-l)/(t.swiperSlideSize+n.spaceBetween),d=-(a-l),h=d+e.slidesSizesGrid[s];(d>=0&&d<e.size-1||h>1&&h<=e.size||d<=0&&h>=e.size)&&(e.visibleSlides.push(t),e.visibleSlidesIndexes.push(s),r.eq(s).addClass(n.slideVisibleClass)),t.progress=i?-c:c,t.originalProgress=i?-u:u}e.visibleSlides=m(e.visibleSlides)},updateProgress:function(t){const e=this;if("undefined"===typeof t){const n=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*n||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:a}=e;const s=o,l=a;0===r?(i=0,o=!0,a=!0):(i=(t-e.minTranslate())/r,o=i<=0,a=i>=1),Object.assign(e,{progress:i,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!s&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(s&&!o||l&&!a)&&e.emit("fromEdge"),e.emit("progress",i)},updateSlidesClasses:function(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:o}=t,a=t.virtual&&n.virtual.enabled;let s;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),s=a?t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):e.eq(i),s.addClass(n.slideActiveClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let l=s.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=s.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===c.length&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:o,activeIndex:a,realIndex:s,snapIndex:l}=e;let c,u=t;if("undefined"===typeof u){for(let t=0;t<r.length;t+=1)"undefined"!==typeof r[t+1]?n>=r[t]&&n<r[t+1]-(r[t+1]-r[t])/2?u=t:n>=r[t]&&n<r[t+1]&&(u=t+1):n>=r[t]&&(u=t);o.normalizeSlideIndex&&(u<0||"undefined"===typeof u)&&(u=0)}if(i.indexOf(n)>=0)c=i.indexOf(n);else{const t=Math.min(o.slidesPerGroupSkip,u);c=t+Math.floor((u-t)/o.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),u===a)return void(c!==l&&(e.snapIndex=c,e.emit("snapIndexChange")));const d=parseInt(e.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(e,{snapIndex:c,realIndex:d,previousIndex:a,activeIndex:u}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),s!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")},updateClickedSlide:function(t){const e=this,n=e.params,r=m(t).closest(`.${n.slideClass}`)[0];let i,o=!1;if(r)for(let a=0;a<e.slides.length;a+=1)if(e.slides[a]===r){o=!0,i=a;break}if(!r||!o)return e.clickedSlide=void 0,void(e.clickedIndex=void 0);e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(m(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i,n.slideToClickedSlide&&void 0!==e.clickedIndex&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}};var D={getTranslate:function(t){void 0===t&&(t=this.isHorizontal()?"x":"y");const{params:e,rtlTranslate:n,translate:r,$wrapperEl:i}=this;if(e.virtualTranslate)return n?-r:r;if(e.cssMode)return r;let o=b(i[0],t);return n&&(o=-o),o||0},setTranslate:function(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:o,wrapperEl:a,progress:s}=n;let l,c=0,u=0;n.isHorizontal()?c=r?-t:t:u=t,i.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),i.cssMode?a[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-c:-u:i.virtualTranslate||o.transform(`translate3d(${c}px, ${u}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?c:u;const d=n.maxTranslate()-n.minTranslate();l=0===d?0:(t-n.minTranslate())/d,l!==s&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(t,e,n,r,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);const o=this,{params:a,wrapperEl:s}=o;if(o.animating&&a.preventInteractionOnTransition)return!1;const l=o.minTranslate(),c=o.maxTranslate();let u;if(u=r&&t>l?l:r&&t<c?c:t,o.updateProgress(u),a.cssMode){const t=o.isHorizontal();if(0===e)s[t?"scrollLeft":"scrollTop"]=-u;else{if(!o.support.smoothScroll)return x({swiper:o,targetPosition:-u,side:t?"left":"top"}),!0;s.scrollTo({[t?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===e?(o.setTransition(0),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(u),n&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}};function N(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:o,previousIndex:a}=e;let s=r;if(s||(s=o>a?"next":o<a?"prev":"reset"),e.emit(`transition${i}`),n&&o!==a){if("reset"===s)return void e.emit(`slideResetTransition${i}`);e.emit(`slideChangeTransition${i}`),"next"===s?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}var P={slideTo:function(t,e,n,r,i){if(void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0),"number"!==typeof t&&"string"!==typeof t)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if("string"===typeof t){const e=parseInt(t,10);if(!isFinite(e))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=e}const o=this;let a=t;a<0&&(a=0);const{params:s,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=o;if(o.animating&&s.preventInteractionOnTransition||!p&&!r&&!i)return!1;const g=Math.min(o.params.slidesPerGroupSkip,a);let m=g+Math.floor((a-g)/o.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(d||s.initialSlide||0)===(u||0)&&n&&o.emit("beforeSlideChangeStart");const v=-l[m];if(o.updateProgress(v),s.normalizeSlideIndex)for(let b=0;b<c.length;b+=1){const t=-Math.floor(100*v),e=Math.floor(100*c[b]),n=Math.floor(100*c[b+1]);"undefined"!==typeof c[b+1]?t>=e&&t<n-(n-e)/2?a=b:t>=e&&t<n&&(a=b+1):t>=e&&(a=b)}if(o.initialized&&a!==d){if(!o.allowSlideNext&&v<o.translate&&v<o.minTranslate())return!1;if(!o.allowSlidePrev&&v>o.translate&&v>o.maxTranslate()&&(d||0)!==a)return!1}let y;if(y=a>d?"next":a<d?"prev":"reset",h&&-v===o.translate||!h&&v===o.translate)return o.updateActiveIndex(a),s.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==s.effect&&o.setTranslate(v),"reset"!==y&&(o.transitionStart(n,y),o.transitionEnd(n,y)),!1;if(s.cssMode){const t=o.isHorizontal(),n=h?v:-v;if(0===e){const e=o.virtual&&o.params.virtual.enabled;e&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),f[t?"scrollLeft":"scrollTop"]=n,e&&requestAnimationFrame((()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1}))}else{if(!o.support.smoothScroll)return x({swiper:o,targetPosition:n,side:t?"left":"top"}),!0;f.scrollTo({[t?"left":"top"]:n,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(v),o.updateActiveIndex(a),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,y),0===e?o.transitionEnd(n,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(t){o&&!o.destroyed&&t.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);const i=this;let o=t;return i.params.loop&&(o+=i.loopedSlides),i.slideTo(o,e,n,r)},slideNext:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const r=this,{animating:i,enabled:o,params:a}=r;if(!o)return r;let s=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(s=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:s;if(a.loop){if(i&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)},slidePrev:function(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);const r=this,{params:i,animating:o,snapGrid:a,slidesGrid:s,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(i.loop){if(o&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(t){return t<0?-Math.floor(Math.abs(t)):Math.floor(t)}const d=u(l?r.translate:-r.translate),h=a.map((t=>u(t)));let f=a[h.indexOf(d)-1];if("undefined"===typeof f&&i.cssMode){let t;a.forEach(((e,n)=>{d>=e&&(t=n)})),"undefined"!==typeof t&&(f=a[t>0?t-1:t])}let p=0;if("undefined"!==typeof f&&(p=s.indexOf(f),p<0&&(p=r.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(p=p-r.slidesPerViewDynamic("previous",!0)+1,p=Math.max(p,0))),i.rewind&&r.isBeginning){const i=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(i,t,e,n)}return r.slideTo(p,t,e,n)},slideReset:function(t,e,n){return void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),this.slideTo(this.activeIndex,t,e,n)},slideToClosest:function(t,e,n,r){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0),void 0===r&&(r=.5);const i=this;let o=i.activeIndex;const a=Math.min(i.params.slidesPerGroupSkip,o),s=a+Math.floor((o-a)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){const t=i.snapGrid[s];l-t>(i.snapGrid[s+1]-t)*r&&(o+=i.params.slidesPerGroup)}else{const t=i.snapGrid[s-1];l-t<=(i.snapGrid[s]-t)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,t,e,n)},slideToClickedSlide:function(){const t=this,{params:e,$wrapperEl:n}=t,r="auto"===e.slidesPerView?t.slidesPerViewDynamic():e.slidesPerView;let i,o=t.clickedIndex;if(e.loop){if(t.animating)return;i=parseInt(m(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?o<t.loopedSlides-r/2||o>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),o=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),v((()=>{t.slideTo(o)}))):t.slideTo(o):o>t.slides.length-r?(t.loopFix(),o=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),v((()=>{t.slideTo(o)}))):t.slideTo(o)}else t.slideTo(o)}};var M={loopCreate:function(){const t=this,e=a(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?m(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let o=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const t=n.slidesPerGroup-o.length%n.slidesPerGroup;if(t!==n.slidesPerGroup){for(let r=0;r<t;r+=1){const t=m(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(t)}o=i.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>o.length&&(t.loopedSlides=o.length);const s=[],l=[];o.each(((e,n)=>{const r=m(e);n<t.loopedSlides&&l.push(e),n<o.length&&n>=o.length-t.loopedSlides&&s.push(e),r.attr("data-swiper-slide-index",n)}));for(let a=0;a<l.length;a+=1)i.append(m(l[a].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let a=s.length-1;a>=0;a-=1)i.prepend(m(s[a].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:o,snapGrid:a,rtlTranslate:s}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const c=-a[e]-t.getTranslate();if(e<r){l=n.length-3*r+e,l+=r;t.slideTo(l,0,!1,!0)&&0!==c&&t.setTranslate((s?-t.translate:t.translate)-c)}else if(e>=n.length-r){l=-n.length+e+r,l+=r;t.slideTo(l,0,!1,!0)&&0!==c&&t.setTranslate((s?-t.translate:t.translate)-c)}t.allowSlidePrev=i,t.allowSlideNext=o,t.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:t,params:e,slides:n}=this;t.children(`.${e.slideClass}.${e.slideDuplicateClass},.${e.slideClass}.${e.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};function F(t){const e=this,n=a(),r=l(),i=e.touchEventsData,{params:o,touches:s,enabled:c}=e;if(!c)return;if(e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let u=t;u.originalEvent&&(u=u.originalEvent);let d=m(u.target);if("wrapper"===o.touchEventsTarget&&!d.closest(e.wrapperEl).length)return;if(i.isTouchEvent="touchstart"===u.type,!i.isTouchEvent&&"which"in u&&3===u.which)return;if(!i.isTouchEvent&&"button"in u&&u.button>0)return;if(i.isTouched&&i.isMoved)return;!!o.noSwipingClass&&""!==o.noSwipingClass&&u.target&&u.target.shadowRoot&&t.path&&t.path[0]&&(d=m(t.path[0]));const h=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,f=!(!u.target||!u.target.shadowRoot);if(o.noSwiping&&(f?function(t,e){return void 0===e&&(e=this),function e(n){if(!n||n===a()||n===l())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(t);return r||n.getRootNode?r||e(n.getRootNode().host):null}(e)}(h,d[0]):d.closest(h)[0]))return void(e.allowClick=!0);if(o.swipeHandler&&!d.closest(o.swipeHandler)[0])return;s.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,s.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const p=s.currentX,g=s.currentY,v=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,b=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(v&&(p<=b||p>=r.innerWidth-b)){if("prevent"!==v)return;t.preventDefault()}if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=p,s.startY=g,i.touchStartTime=y(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==u.type){let t=!0;d.is(i.focusableElements)&&(t=!1,"SELECT"===d[0].nodeName&&(i.isTouched=!1)),n.activeElement&&m(n.activeElement).is(i.focusableElements)&&n.activeElement!==d[0]&&n.activeElement.blur();const r=t&&e.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!r||d[0].isContentEditable||u.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",u)}function B(t){const e=a(),n=this,r=n.touchEventsData,{params:i,touches:o,rtlTranslate:s,enabled:l}=n;if(!l)return;let c=t;if(c.originalEvent&&(c=c.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c));if(r.isTouchEvent&&"touchmove"!==c.type)return;const u="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),d="touchmove"===c.type?u.pageX:c.pageX,h="touchmove"===c.type?u.pageY:c.pageY;if(c.preventedByNestedSwiper)return o.startX=d,void(o.startY=h);if(!n.allowTouchMove)return m(c.target).is(r.focusableElements)||(n.allowClick=!1),void(r.isTouched&&(Object.assign(o,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=y()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<o.startY&&n.translate<=n.maxTranslate()||h>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(d<o.startX&&n.translate<=n.maxTranslate()||d>o.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&e.activeElement&&c.target===e.activeElement&&m(c.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;o.currentX=d,o.currentY=h;const f=o.currentX-o.startX,p=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if("undefined"===typeof r.isScrolling){let t;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:f*f+p*p>=25&&(t=180*Math.atan2(Math.abs(p),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?t>i.touchAngle:90-t>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),"undefined"===typeof r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)),n.emit("sliderMove",c),r.isMoved=!0;let g=n.isHorizontal()?f:p;o.diff=g,g*=i.touchRatio,s&&(g=-g),n.swipeDirection=g>0?"prev":"next",r.currentTranslate=g+r.startTranslate;let v=!0,b=i.resistanceRatio;if(i.touchReleaseOnEdges&&(b=0),g>0&&r.currentTranslate>n.minTranslate()?(v=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**b)):g<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**b)),v&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(g)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function U(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:o,slidesGrid:a,enabled:s}=e;if(!s)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);const c=y(),u=c-n.touchStartTime;if(e.allowClick){const t=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(t&&t[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=y(),v((()=>{e.destroyed||(e.allowClick=!0)})),!n.isTouched||!n.isMoved||!e.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?o?e.translate:-e.translate:-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled)return void e.freeMode.onTouchEnd({currentPos:d});let h=0,f=e.slidesSizesGrid[0];for(let v=0;v<a.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof a[v+t]?d>=a[v]&&d<a[v+t]&&(h=v,f=a[v+t]-a[v]):d>=a[v]&&(h=v,f=a[a.length-1]-a[a.length-2])}let p=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const m=(d-a[h])/f,b=h<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(m>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?p:h+b):e.slideTo(h)),"prev"===e.swipeDirection&&(m>1-r.longSwipesRatio?e.slideTo(h+b):null!==g&&m<0&&Math.abs(m)>r.longSwipesRatio?e.slideTo(g):e.slideTo(h))}else{if(!r.shortSwipes)return void e.slideTo(e.activeIndex);e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(h+b):e.slideTo(h):("next"===e.swipeDirection&&e.slideTo(null!==p?p:h+b),"prev"===e.swipeDirection&&e.slideTo(null!==g?g:h))}}function j(){const t=this,{params:e,el:n}=t;if(n&&0===n.offsetWidth)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function $(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function G(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;let i;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,0===t.translate&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();const o=t.maxTranslate()-t.minTranslate();i=0===o?0:(t.translate-t.minTranslate())/o,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let H=!1;function K(){}const V=(t,e)=>{const n=a(),{params:r,touchEvents:i,el:o,wrapperEl:s,device:l,support:c}=t,u=!!r.nested,d="on"===e?"addEventListener":"removeEventListener",h=e;if(c.touch){const e=!("touchstart"!==i.start||!c.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};o[d](i.start,t.onTouchStart,e),o[d](i.move,t.onTouchMove,c.passiveListener?{passive:!1,capture:u}:u),o[d](i.end,t.onTouchEnd,e),i.cancel&&o[d](i.cancel,t.onTouchEnd,e)}else o[d](i.start,t.onTouchStart,!1),n[d](i.move,t.onTouchMove,u),n[d](i.end,t.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&o[d]("click",t.onClick,!0),r.cssMode&&s[d]("scroll",t.onScroll),r.updateOnWindowResize?t[h](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",j,!0):t[h]("observerUpdate",j,!0)};var z={attachEvents:function(){const t=this,e=a(),{params:n,support:r}=t;t.onTouchStart=F.bind(t),t.onTouchMove=B.bind(t),t.onTouchEnd=U.bind(t),n.cssMode&&(t.onScroll=G.bind(t)),t.onClick=$.bind(t),r.touch&&!H&&(e.addEventListener("touchstart",K),H=!0),V(t,"on")},detachEvents:function(){V(this,"off")}};const Z=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;var q={setBreakpoint:function(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:o}=t,a=i.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const s=t.getBreakpoint(a,t.params.breakpointsBase,t.el);if(!s||t.currentBreakpoint===s)return;const l=(s in a?a[s]:void 0)||t.originalParams,c=Z(t,i),u=Z(t,l),d=i.enabled;c&&!u?(o.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(o.addClass(`${i.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&o.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses());const h=l.direction&&l.direction!==i.direction,f=i.loop&&(l.slidesPerView!==i.slidesPerView||h);h&&n&&t.changeDirection(),_(t.params,l);const p=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!p?t.disable():!d&&p&&t.enable(),t.currentBreakpoint=s,t.emit("_beforeBreakpoint",l),f&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",l)},getBreakpoint:function(t,e,n){if(void 0===e&&(e="window"),!t||"container"===e&&!n)return;let r=!1;const i=l(),o="window"===e?i.innerHeight:n.clientHeight,a=Object.keys(t).map((t=>{if("string"===typeof t&&0===t.indexOf("@")){const e=parseFloat(t.substr(1));return{value:o*e,point:t}}return{value:t,point:t}}));a.sort(((t,e)=>parseInt(t.value,10)-parseInt(e.value,10)));for(let s=0;s<a.length;s+=1){const{point:t,value:o}=a[s];"window"===e?i.matchMedia(`(min-width: ${o}px)`).matches&&(r=t):o<=n.clientWidth&&(r=t)}return r||"max"}};var W={addClasses:function(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:o,support:a}=t,s=function(t,e){const n=[];return t.forEach((t=>{"object"===typeof t?Object.keys(t).forEach((r=>{t[r]&&n.push(e+r)})):"string"===typeof t&&n.push(e+t)})),n}(["initialized",n.direction,{"pointer-events":!a.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...s),i.addClass([...e].join(" ")),t.emitContainerClasses()},removeClasses:function(){const{$el:t,classNames:e}=this;t.removeClass(e.join(" ")),this.emitContainerClasses()}};var Y={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function X(t,e){return function(n){void 0===n&&(n={});const r=Object.keys(n)[0],i=n[r];"object"===typeof i&&null!==i?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===t[r]&&(t[r]={auto:!0}),r in t&&"enabled"in i?(!0===t[r]&&(t[r]={enabled:!0}),"object"!==typeof t[r]||"enabled"in t[r]||(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),_(e,n)):_(e,n)):_(e,n)}}const Q={eventsEmitter:C,update:I,translate:D,transition:{setTransition:function(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)},transitionStart:function(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),N({swiper:n,runCallbacks:t,direction:e,step:"Start"}))},transitionEnd:function(t,e){void 0===t&&(t=!0);const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),N({swiper:n,runCallbacks:t,direction:e,step:"End"}))}},slide:P,loop:M,grabCursor:{setGrabCursor:function(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n="container"===e.params.touchEventsTarget?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"},unsetGrabCursor:function(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t["container"===t.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:z,breakpoints:q,checkOverflow:{checkOverflow:function(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const e=t.slides.length-1,n=t.slidesGrid[e]+t.slidesSizesGrid[e]+2*r;t.isLocked=t.size>n}else t.isLocked=1===t.snapGrid.length;!0===n.allowSlideNext&&(t.allowSlideNext=!t.isLocked),!0===n.allowSlidePrev&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}},classes:W,images:{loadImage:function(t,e,n,r,i,o){const a=l();let s;function c(){o&&o()}m(t).parent("picture")[0]||t.complete&&i?c():e?(s=new a.Image,s.onload=c,s.onerror=c,r&&(s.sizes=r),n&&(s.srcset=n),e&&(s.src=e)):c()},preloadImages:function(){const t=this;function e(){"undefined"!==typeof t&&null!==t&&t&&!t.destroyed&&(void 0!==t.imagesLoaded&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}t.imagesToLoad=t.$el.find("img");for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}}},J={};class tt{constructor(){let t,e;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?e=r[0]:[t,e]=r,e||(e={}),e=_({},e),t&&!e.el&&(e.el=t),e.el&&m(e.el).length>1){const t=[];return m(e.el).each((n=>{const r=_({},e,{el:n});t.push(new tt(r))})),t}const o=this;o.__swiper__=!0,o.support=A(),o.device=O({userAgent:e.userAgent}),o.browser=R(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],e.modules&&Array.isArray(e.modules)&&o.modules.push(...e.modules);const a={};o.modules.forEach((t=>{t({swiper:o,extendParams:X(e,a),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const s=_({},Y,a);return o.params=_({},s,J,e),o.originalParams=_({},o.params),o.passedParams=_({},e),o.params&&o.params.on&&Object.keys(o.params.on).forEach((t=>{o.on(t,o.params.on[t])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),o.$=m,Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:m(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return"horizontal"===o.params.direction},isVertical(){return"vertical"===o.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEvents:function(){const t=["touchstart","touchmove","touchend","touchcancel"],e=["pointerdown","pointermove","pointerup"];return o.touchEventsTouch={start:t[0],move:t[1],end:t[2],cancel:t[3]},o.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},o.support.touch||!o.params.simulateTouch?o.touchEventsTouch:o.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:y(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}enable(){const t=this;t.enabled||(t.enabled=!0,t.params.grabCursor&&t.setGrabCursor(),t.emit("enable"))}disable(){const t=this;t.enabled&&(t.enabled=!1,t.params.grabCursor&&t.unsetGrabCursor(),t.emit("disable"))}setProgress(t,e){const n=this;t=Math.min(Math.max(t,0),1);const r=n.minTranslate(),i=(n.maxTranslate()-r)*t+r;n.translateTo(i,"undefined"===typeof e?0:e),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=t.el.className.split(" ").filter((e=>0===e.indexOf("swiper")||0===e.indexOf(t.params.containerModifierClass)));t.emit("_containerClasses",e.join(" "))}getSlideClasses(t){const e=this;return e.destroyed?"":t.className.split(" ").filter((t=>0===t.indexOf("swiper-slide")||0===t.indexOf(e.params.slideClass))).join(" ")}emitSlidesClasses(){const t=this;if(!t.params._emitClasses||!t.el)return;const e=[];t.slides.each((n=>{const r=t.getSlideClasses(n);e.push({slideEl:n,classNames:r}),t.emit("_slideClass",n,r)})),t.emit("_slideClasses",e)}slidesPerViewDynamic(t,e){void 0===t&&(t="current"),void 0===e&&(e=!1);const{params:n,slides:r,slidesGrid:i,slidesSizesGrid:o,size:a,activeIndex:s}=this;let l=1;if(n.centeredSlides){let t,e=r[s].swiperSlideSize;for(let n=s+1;n<r.length;n+=1)r[n]&&!t&&(e+=r[n].swiperSlideSize,l+=1,e>a&&(t=!0));for(let n=s-1;n>=0;n-=1)r[n]&&!t&&(e+=r[n].swiperSlideSize,l+=1,e>a&&(t=!0))}else if("current"===t)for(let c=s+1;c<r.length;c+=1){(e?i[c]+o[c]-i[s]<a:i[c]-i[s]<a)&&(l+=1)}else for(let c=s-1;c>=0;c-=1){i[s]-i[c]<a&&(l+=1)}return l}update(){const t=this;if(!t||t.destroyed)return;const{snapGrid:e,params:n}=t;function r(){const e=t.rtlTranslate?-1*t.translate:t.translate,n=Math.min(Math.max(e,t.maxTranslate()),t.minTranslate());t.setTranslate(n),t.updateActiveIndex(),t.updateSlidesClasses()}let i;n.breakpoints&&t.setBreakpoint(),t.updateSize(),t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.params.freeMode&&t.params.freeMode.enabled?(r(),t.params.autoHeight&&t.updateAutoHeight()):(i=("auto"===t.params.slidesPerView||t.params.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),i||r()),n.watchOverflow&&e!==t.snapGrid&&t.checkOverflow(),t.emit("update")}changeDirection(t,e){void 0===e&&(e=!0);const n=this,r=n.params.direction;return t||(t="horizontal"===r?"vertical":"horizontal"),t===r||"horizontal"!==t&&"vertical"!==t||(n.$el.removeClass(`${n.params.containerModifierClass}${r}`).addClass(`${n.params.containerModifierClass}${t}`),n.emitContainerClasses(),n.params.direction=t,n.slides.each((e=>{"vertical"===t?e.style.width="":e.style.height=""})),n.emit("changeDirection"),e&&n.update()),n}mount(t){const e=this;if(e.mounted)return!0;const n=m(t||e.params.el);if(!(t=n[0]))return!1;t.swiper=e;const r=()=>`.${(e.params.wrapperClass||"").trim().split(" ").join(".")}`;let i=(()=>{if(t&&t.shadowRoot&&t.shadowRoot.querySelector){const e=m(t.shadowRoot.querySelector(r()));return e.children=t=>n.children(t),e}return n.children?n.children(r()):m(n).children(r())})();if(0===i.length&&e.params.createElements){const t=a().createElement("div");i=m(t),t.className=e.params.wrapperClass,n.append(t),n.children(`.${e.params.slideClass}`).each((t=>{i.append(t)}))}return Object.assign(e,{$el:n,el:t,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===e.params.direction&&("rtl"===t.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0}init(t){const e=this;if(e.initialized)return e;return!1===e.mount(t)||(e.emit("beforeInit"),e.params.breakpoints&&e.setBreakpoint(),e.addClasses(),e.params.loop&&e.loopCreate(),e.updateSize(),e.updateSlides(),e.params.watchOverflow&&e.checkOverflow(),e.params.grabCursor&&e.enabled&&e.setGrabCursor(),e.params.preloadImages&&e.preloadImages(),e.params.loop?e.slideTo(e.params.initialSlide+e.loopedSlides,0,e.params.runCallbacksOnInit,!1,!0):e.slideTo(e.params.initialSlide,0,e.params.runCallbacksOnInit,!1,!0),e.attachEvents(),e.initialized=!0,e.emit("init"),e.emit("afterInit")),e}destroy(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);const n=this,{params:r,$el:i,$wrapperEl:o,slides:a}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),e&&(n.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((t=>{n.off(t)})),!1!==t&&(n.$el[0].swiper=null,function(t){const e=t;Object.keys(e).forEach((t=>{try{e[t]=null}catch(n){}try{delete e[t]}catch(n){}}))}(n)),n.destroyed=!0),null}static extendDefaults(t){_(J,t)}static get extendedDefaults(){return J}static get defaults(){return Y}static installModule(t){tt.prototype.__modules__||(tt.prototype.__modules__=[]);const e=tt.prototype.__modules__;"function"===typeof t&&e.indexOf(t)<0&&e.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>tt.installModule(t))),tt):(tt.installModule(t),tt)}}Object.keys(Q).forEach((t=>{Object.keys(Q[t]).forEach((e=>{tt.prototype[e]=Q[t][e]}))})),tt.use([function(t){let{swiper:e,on:n,emit:r}=t;const i=l();let o=null,a=null;const s=()=>{e&&!e.destroyed&&e.initialized&&(r("beforeResize"),r("resize"))},c=()=>{e&&!e.destroyed&&e.initialized&&r("orientationchange")};n("init",(()=>{e.params.resizeObserver&&"undefined"!==typeof i.ResizeObserver?e&&!e.destroyed&&e.initialized&&(o=new ResizeObserver((t=>{a=i.requestAnimationFrame((()=>{const{width:n,height:r}=e;let i=n,o=r;t.forEach((t=>{let{contentBoxSize:n,contentRect:r,target:a}=t;a&&a!==e.el||(i=r?r.width:(n[0]||n).inlineSize,o=r?r.height:(n[0]||n).blockSize)})),i===n&&o===r||s()}))})),o.observe(e.el)):(i.addEventListener("resize",s),i.addEventListener("orientationchange",c))})),n("destroy",(()=>{a&&i.cancelAnimationFrame(a),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null),i.removeEventListener("resize",s),i.removeEventListener("orientationchange",c)}))},function(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o=[],a=l(),s=function(t,e){void 0===e&&(e={});const n=new(a.MutationObserver||a.WebkitMutationObserver)((t=>{if(1===t.length)return void i("observerUpdate",t[0]);const e=function(){i("observerUpdate",t[0])};a.requestAnimationFrame?a.requestAnimationFrame(e):a.setTimeout(e,0)}));n.observe(t,{attributes:"undefined"===typeof e.attributes||e.attributes,childList:"undefined"===typeof e.childList||e.childList,characterData:"undefined"===typeof e.characterData||e.characterData}),o.push(n)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)s(t[e])}s(e.$el[0],{childList:e.params.observeSlideChildren}),s(e.$wrapperEl[0],{attributes:!1})}})),r("destroy",(()=>{o.forEach((t=>{t.disconnect()})),o.splice(0,o.length)}))}]);var et=tt;function nt(t){return void 0===t&&(t=""),`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function rt(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const o="swiper-pagination";let s;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:t=>t,formatFractionTotal:t=>t,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`}}),e.pagination={el:null,$el:null,bullets:[]};let l=0;function c(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function u(t,n){const{bulletActiveClass:r}=e.params.pagination;t[n]().addClass(`${r}-${n}`)[n]().addClass(`${r}-${n}-${n}`)}function d(){const t=e.rtl,n=e.params.pagination;if(c())return;const r=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,o=e.pagination.$el;let a;const d=e.params.loop?Math.ceil((r-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(a=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),a>r-1-2*e.loopedSlides&&(a-=r-2*e.loopedSlides),a>d-1&&(a-=d),a<0&&"bullets"!==e.params.paginationType&&(a=d+a)):a="undefined"!==typeof e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const r=e.pagination.bullets;let i,c,d;if(n.dynamicBullets&&(s=r.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),o.css(e.isHorizontal()?"width":"height",s*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(l+=a-(e.previousIndex-e.loopedSlides||0),l>n.dynamicMainBullets-1?l=n.dynamicMainBullets-1:l<0&&(l=0)),i=Math.max(a-l,0),c=i+(Math.min(r.length,n.dynamicMainBullets)-1),d=(c+i)/2),r.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((t=>`${n.bulletActiveClass}${t}`)).join(" ")),o.length>1)r.each((t=>{const e=m(t),r=e.index();r===a&&e.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=i&&r<=c&&e.addClass(`${n.bulletActiveClass}-main`),r===i&&u(e,"prev"),r===c&&u(e,"next"))}));else{const t=r.eq(a),o=t.index();if(t.addClass(n.bulletActiveClass),n.dynamicBullets){const t=r.eq(i),a=r.eq(c);for(let e=i;e<=c;e+=1)r.eq(e).addClass(`${n.bulletActiveClass}-main`);if(e.params.loop)if(o>=r.length){for(let t=n.dynamicMainBullets;t>=0;t-=1)r.eq(r.length-t).addClass(`${n.bulletActiveClass}-main`);r.eq(r.length-n.dynamicMainBullets-1).addClass(`${n.bulletActiveClass}-prev`)}else u(t,"prev"),u(a,"next");else u(t,"prev"),u(a,"next")}}if(n.dynamicBullets){const i=Math.min(r.length,n.dynamicMainBullets+4),o=(s*i-s)/2-d*s,a=t?"right":"left";r.css(e.isHorizontal()?a:"top",`${o}px`)}}if("fraction"===n.type&&(o.find(nt(n.currentClass)).text(n.formatFractionCurrent(a+1)),o.find(nt(n.totalClass)).text(n.formatFractionTotal(d))),"progressbar"===n.type){let t;t=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const r=(a+1)/d;let i=1,s=1;"horizontal"===t?i=r:s=r,o.find(nt(n.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${i}) scaleY(${s})`).transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(o.html(n.renderCustom(e,a+1,d)),i("paginationRender",o[0])):i("paginationUpdate",o[0]),e.params.watchOverflow&&e.enabled&&o[e.isLocked?"addClass":"removeClass"](n.lockClass)}function h(){const t=e.params.pagination;if(c())return;const n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el;let o="";if("bullets"===t.type){let i=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&i>n&&(i=n);for(let n=0;n<i;n+=1)t.renderBullet?o+=t.renderBullet.call(e,n,t.bulletClass):o+=`<${t.bulletElement} class="${t.bulletClass}"></${t.bulletElement}>`;r.html(o),e.pagination.bullets=r.find(nt(t.bulletClass))}"fraction"===t.type&&(o=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):`<span class="${t.currentClass}"></span> / <span class="${t.totalClass}"></span>`,r.html(o)),"progressbar"===t.type&&(o=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):`<span class="${t.progressbarFillClass}"></span>`,r.html(o)),"custom"!==t.type&&i("paginationRender",e.pagination.$el[0])}function f(){e.params.pagination=function(t,e,n,r){const i=a();return t.params.createElements&&Object.keys(r).forEach((o=>{if(!n[o]&&!0===n.auto){let a=t.$el.children(`.${r[o]}`)[0];a||(a=i.createElement("div"),a.className=r[o],t.$el.append(a)),n[o]=a,e[o]=a}})),n}(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let n=m(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"===typeof t.el&&n.length>1&&(n=e.$el.find(t.el),n.length>1&&(n=n.filter((t=>m(t).parents(".swiper")[0]===e.el)))),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),n.addClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(`${t.modifierClass}${t.type}-dynamic`),l=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click",nt(t.bulletClass),(function(t){t.preventDefault();let n=m(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),Object.assign(e.pagination,{$el:n,el:n[0]}),e.enabled||n.addClass(t.lockClass))}function p(){const t=e.params.pagination;if(c())return;const n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),n.removeClass(e.isHorizontal()?t.horizontalClass:t.verticalClass),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click",nt(t.bulletClass))}r("init",(()=>{f(),h(),d()})),r("activeIndexChange",(()=>{(e.params.loop||"undefined"===typeof e.snapIndex)&&d()})),r("snapIndexChange",(()=>{e.params.loop||d()})),r("slidesLengthChange",(()=>{e.params.loop&&(h(),d())})),r("snapGridLengthChange",(()=>{e.params.loop||(h(),d())})),r("destroy",(()=>{p()})),r("enable disable",(()=>{const{$el:t}=e.pagination;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)})),r("lock unlock",(()=>{d()})),r("click",((t,n)=>{const r=n.target,{$el:o}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&o.length>0&&!m(r).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&r===e.navigation.nextEl||e.navigation.prevEl&&r===e.navigation.prevEl))return;const t=o.hasClass(e.params.pagination.hiddenClass);i(!0===t?"paginationShow":"paginationHide"),o.toggleClass(e.params.pagination.hiddenClass)}})),Object.assign(e.pagination,{render:h,update:d,init:f,destroy:p})}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))},n.u=function(t){return"static/article/js/"+t+"."+{65:"a27df316",201:"cd9e8d82",333:"7b8ed6ae",369:"0d029f79",387:"2cf1fdad",476:"c1ff94c4",530:"e101f1ce",640:"2978ff33",739:"f30a7b17",770:"0a9cfde2",874:"8b803ea1",918:"56b027c1",956:"bfe639d1"}[t]+".chunk.js"},n.miniCssF=function(t){return"static/article/css/"+t+"."+{387:"0a0066a3",770:"d5aaf9e3",874:"88090712",918:"d8cd6ef9"}[t]+".chunk.css"},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={};n.l=function(e,r,i,o){if(t[e])t[e].push(r);else{var a,s;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==e){a=u;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.src=e),t[e]=[r];var d=function(n,r){a.onerror=a.onload=null,clearTimeout(h);var i=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(t){return t(r)})),n)return n(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),s&&document.head.appendChild(a)}}}(),n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},n.p="https://static.ws.126.net/163/wap/f2e/hbs/",function(){var t=function(t){return new Promise((function(e,r){var i=n.miniCssF(t),o=n.p+i;if(function(t,e){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===t||i===e))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===t||i===e)return a}}(i,o))return e();!function(t,e,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var a=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,i.parentNode.removeChild(i),r(l)}},i.href=e,document.head.appendChild(i)}(t,o,e,r)}))},e={179:0};n.f.miniCss=function(n,r){e[n]?r.push(e[n]):0!==e[n]&&{387:1,770:1,874:1,918:1}[n]&&r.push(e[n]=t(n).then((function(){e[n]=0}),(function(t){throw delete e[n],t})))}}(),function(){var t={179:0};n.f.j=function(e,r){var i=n.o(t,e)?t[e]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=t[e]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(e),s=new Error;n.l(a,(function(r){if(n.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+e,e)}};var e=function(e,r){var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(e&&e(r);c<a.length;c++)o=a[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}(),function(){"use strict";n(17827),n(95983);var t=n(79588);(0,t.jQ)({enforceActions:"observed",useProxies:"never"});n(24034);var e=n(9659),r=n(61429),i=n.p+"static/media/reload.96ba70bfcf3e516a1621.svg",o=n.p+"static/media/loading.6bcb9cc87f966d02b173.png",a=n(48638),s=n(91976),l=n(22951),c=n(33940),u=n(27791),d=n(64649),h=n(34384),f=n(17611),p=n(46090),g=function(){return(0,p.U)({apiName:"loc-locByIp"}).get("/locate/api/getLocByIp",{baseURL:f.Ko}).then((function(t){return t.data}))};function m(){m=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(A){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(A){return{type:"throw",arg:A}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&n.call(y,i)&&(g=y);var b=p.prototype=h.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function E(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=p,s(b,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(E.prototype),s(E.prototype,o,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(b),s(b,a,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var v=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{city:"",country:"",county:"",ip:"",la:"",lo:"",operators:"",otherinfo:"",province:""}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"isfirstTierCity",value:function(){var e=this;return new Promise((function(n){e.request(),(0,t.gx)((function(){return e.status===h.L.OK||e.status===h.L.ERROR}),(function(){var t=e.data.city;n(-1!==["\u5317\u4eac","\u4e0a\u6d77","\u5e7f\u5dde","\u6df1\u5733","\u676d\u5dde","\u6210\u90fd","\u91cd\u5e86","\u6b66\u6c49","\u82cf\u5dde","\u897f\u5b89","\u5357\u4eac","\u957f\u6c99","\u5929\u6d25","\u90d1\u5dde","\u4e1c\u839e","\u9752\u5c9b","\u6606\u660e","\u5b81\u6ce2","\u5408\u80a5"].indexOf(t))}))}))}},{key:"request",value:function(){var e=(0,u.Z)(m().mark((function e(){var n,r=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===h.L.INITIAL){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,g();case 6:n=e.sent,(0,t.z)((function(){200===n.status?(r.data=n.result,r.status=h.L.OK):r.status=h.L.ERROR})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){r.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=n(18630),b=function(t){var e=t.id||t.docId||t.docid,n=t.type||t.skipType||function(t){return/^[A-Z0-9]{16}$/.test(t)?"doc":9===t.length?"video":t.includes("|")?"photoset":""}(e)||"doc";return{docId:t.docid||t.docId||"",replyCount:t.commentCount||t.replyCount,source:t.source||"",title:t.title||"",imgsrc:t.imgsrc||"",ptime:t.ptime||t.publishTime||"",type:n,playCount:t.playCount||0,audioTime:t.audioTime||0,extraLinkUrl:t.extraLinkUrl||"",specialID:t.specialID||"",photosetID:t.photosetID||""}},w=function(t,e,n){return(0,p.U)({apiName:"recommend-articleRecommend"}).get("/touch/reconstruct/article/list/".concat(t,"/").concat((e-1)*n,"-").concat(n,".html"),{baseURL:f.os}).then((function(e){return{code:200,data:{list:(JSON.parse(e.data.trim().slice(9,-1))[t]||[]).map(b)},msg:""}}))},E=function(t,e){return(0,p.U)({apiName:"recommend-hotNews"}).get("/fe/api/hot/news/combine",{baseURL:f.os,params:{pageNo:t,pageSize:e}}).then((function(t){var e=t.data,n=e.code,r=e.data,i=e.msg;return 200===t.data.code?{code:200,data:{list:(r.list||[]).map(b)},msg:""}:{code:n,data:{list:[]},msg:i}}))},_=function(t,e,n){return(0,p.U)({apiName:"recommend-articleLocalRecommend"}).get("/touch/jsonp/article/local/".concat(t,"/").concat((e-1)*n,"-").concat(n,".html"),{baseURL:f.os}).then((function(e){return{code:200,data:{list:(JSON.parse(e.data.trim().slice(9,-1))[t]||[]).map(b)},msg:""}}))},T=function(t){return(0,p.U)({apiName:"recommend-vipRecommend"}).get("/touch/api/paid-article/vip-rec-list",{baseURL:f.os,params:{size:t}}).then((function(t){return t.data}))},x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,p.U)({apiName:"recommend-vipRecommendForFree"}).get("/touch/api/paid-article/well-chosen-rec-list",{baseURL:f.os,params:{size:t,filter:e}}).then((function(t){return t.data}))},S=function(){return(0,p.U)({apiName:"recommend-rankRecommend"}).get("/touch/api/paid-article/pay-rank-list",{baseURL:f.os}).then((function(t){return t.data}))},L=function(){return(0,p.U)({apiName:"recommend-rankRecommendV2"}).get("/nc/api/v1/paid-rank/rank-list?listType=knowledge&tab=hot",{baseURL:f.zc}).then((function(t){var e=(t.data.data||{}).items;return{code:0,data:{items:(void 0===e?[]:e).map((function(t){var e=t.paidInfo;return{docid:t.contentId,title:t.title,imgsrc:t.img,paidInfo:{price:e.price,purchaseType:e.purchaseType,buyCount:e.buyCount},source:"",skipType:t.type,skipID:t.contentId}}))}}}))},k=function(t,e){return(0,y.Fs)().then((function(n){return(0,p.U)({apiName:"recommend-zxbRecommend"}).get("/rec/novel/sug/v1/list",{baseURL:"https://zxb.3g.163.com/",params:{docid:t,size:e,uid:n}}).then((function(t){return t.data}))}))},A=function(t,e){return(0,y.Fs)().then((function(n){return(0,p.U)({apiName:"recommend-zxbRecommend"}).get("/rec/novel/sug/list",{baseURL:"https://zxb.3g.163.com/",params:{docid:t,size:e,uid:n}}).then((function(t){return t.data}))}))},O=function(t){return(0,p.U)({apiName:"recommend-paidRecommend"}).get("/touch/api/paid-article/recommend-list",{baseURL:f.os,params:{size:t}}).then((function(t){return t.data}))},R=function(t,e){return(0,p.U)({apiName:"recommend-vipRecommendForFree"}).get("/touch/api/paid-article/category-list",{baseURL:f.os,params:{size:t,category:e}}).then((function(t){return t.data}))};function C(){C=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N=function(){function e(n){var r=this;(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,d.Z)(this,"params",{topicId:"",channel:"",pageNo:0,pageSize:15}),(0,d.Z)(this,"inited",!1),(0,d.Z)(this,"pool",[]),(0,d.Z)(this,"docIdMap",{}),(0,d.Z)(this,"getDocIdMap",(function(){return r.docIdMap})),this.root=n,(0,t.ky)(this)}return(0,s.Z)(e,[{key:"init",value:function(e){var n=this,r=e.topicId,i=void 0===r?"":r,o=e.channel,a=void 0===o?"":o,s=e.recommendList;this.params=D(D({},this.params),{},{topicId:i,channel:a}),s&&s.forEach((function(t){n.docIdMap[t.docId]=!0})),"local"===a&&this.root.loc.request(),s&&0===s.length?(this.next(10),(0,t.gx)((function(){return n.status!==h.L.PENDING}),(function(){setTimeout((function(){n.next(10),(0,t.gx)((function(){return n.status!==h.L.PENDING}),(function(){(0,t.z)((function(){n.inited=!0}))}))}),0)}))):this.inited=!0}},{key:"hasMore",get:function(){return!(this.status===h.L.OK&&0===this.data.list.length)}},{key:"getLocalTopicId",value:function(){var e=this;return new Promise((function(n){(0,t.gx)((function(){return e.root.loc.status!==h.L.PENDING}),(function(){var t=e.root.loc.data,r=t.province,i=t.city;n(r&&i?"".concat(r,"_").concat(i):"\u5317\u4eac_\u5317\u4eac")}))}))}},{key:"next",value:function(){var e=(0,u.Z)(C().mark((function e(){var n,r,i,o,a,s,l,c,u,d=this,f=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>0&&void 0!==f[0]?f[0]:8,this.status!==h.L.PENDING){e.next=3;break}return e.abrupt("return");case 3:r=this.params,i=r.topicId,o=r.channel,a=r.pageSize,s=this.params.pageNo,this.status=h.L.PENDING,this.data={list:[]},this.code=0,s++,e.t0=o,e.next="dy"===e.t0?12:"local"===e.t0?14:19;break;case 12:return l=E(s,a),e.abrupt("break",21);case 14:return e.next=16,this.getLocalTopicId();case 16:return c=e.sent,l=_(c,s,a),e.abrupt("break",21);case 19:return l=w(i,s,a),e.abrupt("break",21);case 21:return e.prev=21,e.next=24,l;case 24:u=e.sent,(0,t.z)((function(){200===u.code?(d.params=D(D({},d.params),{},{pageNo:s}),u.data.list.forEach((function(t){var e=t.docId;d.docIdMap[e]||(d.docIdMap[e]=!0,d.pool.push(t))})),d.data={list:d.pool.splice(0,n)},d.status=h.L.OK):(d.code=u.code,d.status=h.L.ERROR)})),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(21),(0,t.z)((function(){d.status=h.L.ERROR}));case 31:case"end":return e.stop()}}),e,this,[[21,28]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),P=function(){return(0,p.U)({apiName:"search-rollingWord"}).get("/search/api/v1/pc-wap/rolling-word",{baseURL:f.zc}).then((function(t){return t.data}))};function M(){M=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var F=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(M().mark((function e(){var n,r=this;return M().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===h.L.INITIAL){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,P();case 6:n=e.sent,(0,t.z)((function(){0===n.code?(r.data={list:n.data.rollHotWordList||[]},r.status=h.L.OK):r.status=h.L.ERROR})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){r.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),B=function(t,e,n,r){return(0,p.U)({apiName:"comment-newList"}).get("/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/".concat(t,"/comments/newList"),{baseURL:f.lL,params:{offset:0,limit:e,headLimit:n,tailLimit:r,ibc:"newswap"}}).then((function(t){return t.data}))},U=function(t,e,n,r){return(0,p.U)({apiName:"comment-hotList"}).get("/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/".concat(t,"/comments/hotList"),{baseURL:f.lL,params:{offset:0,limit:e,headLimit:n,tailLimit:r,ibc:"newswap"}}).then((function(t){return t.data}))},j=function(t){return(0,p.U)({apiName:"comment-info"}).get("/api/v1/products/a2869674571f77b5a0867c3d71db5856/threads/".concat(t),{baseURL:f.lL,params:{ibc:"newswap"}}).then((function(t){return t.data}))};function $(){$=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var G=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{commentIds:[],comments:{}}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"length",get:function(){return this.data.commentIds.length}},{key:"commentList",get:function(){var t=this,e=[];return this.data.commentIds.forEach((function(n){var r=n.split(","),i=r[r.length-1],o=t.data.comments[i];o&&e.push(o)})),e}},{key:"request",value:function(){var e=(0,u.Z)($().mark((function e(n,r,i,o){var a,s=this;return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.status=h.L.PENDING,e.prev=1,e.next=4,U(n,r,i,o);case 4:a=e.sent,(0,t.z)((function(){a?(s.data=a,s.status=h.L.OK):s.status=h.L.ERROR})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,t.z)((function(){s.status=h.L.ERROR}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}();function H(){H=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var K=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{commentIds:[],comments:{}}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"length",get:function(){return this.data.commentIds.length}},{key:"commentList",get:function(){var t=this,e=[];return this.data.commentIds.forEach((function(n){var r=n.split(","),i=r[r.length-1],o=t.data.comments[i];o&&e.push(o)})),e}},{key:"request",value:function(){var e=(0,u.Z)(H().mark((function e(n,r,i,o){var a,s=this;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.status=h.L.PENDING,e.prev=1,e.next=4,B(n,r,i,o);case 4:a=e.sent,(0,t.z)((function(){a?(s.data=a,s.status=h.L.OK):s.status=h.L.ERROR})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,t.z)((function(){s.status=h.L.ERROR}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),V=n(33907);function z(){z=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Z=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"displayCount",get:function(){return this.data?(0,V.N)(null!=this.data.cmtCount?+this.data.cmtCount:+this.data.rcount+ +this.data.cmtVote+ +this.data.cmtAgainst):"0"}},{key:"isClosed",get:function(){return this.data&&this.data.status&&"off"==this.data.status.app}},{key:"request",value:function(){var e=(0,u.Z)(z().mark((function e(n){var r,i=this;return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.status=h.L.PENDING,e.prev=1,e.next=4,j(n);case 4:r=e.sent,(0,t.z)((function(){r?(i.data=r,i.status=h.L.OK):i.status=h.L.ERROR})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,t.z)((function(){i.status=h.L.ERROR}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),q=(0,s.Z)((function e(){(0,l.Z)(this,e);var n=window.__INITIAL_STATE__||{},r=n.hideAd,i=void 0!==r&&r,o=n.channel,a=void 0===o?"":o,s=n.topicId,c=void 0===s?"":s,u=n.docId,d=void 0===u?"":u,h=n.recommendList,f=void 0===h?[]:h,p=n.articlePhotoList,g=void 0===p?[]:p,m=n.articlePhotoSetList,v=void 0===m?[]:m,y=n.articleLiveList,b=void 0===y?[]:y,w=n.articleVideoList,E=void 0===w?[]:w,_=n.category,T=void 0===_?"":_,x=n.isPaid,S=void 0!==x&&x,L=n.aliasDocId,k=void 0===L?"":L,A=n.furtherReadingId,O=void 0===A?"":A,R=n.furtherReadingType,C=void 0===R?"":R,I=n.keywords,D=void 0===I?"":I;this.hideAd=i,this.channel=a,this.docId=d,this.topicId=c||"BBM54PGAwangning",this.recommendList=f,this.articlePhotoList=g,this.articlePhotoSetList=v,this.articleLiveList=b,this.articleVideoList=E,this.category=T,this.isPaid=S,this.aliasDocId=k,this.furtherReadingId=O,this.furtherReadingType=C,this.keywords=D,(0,t.ky)(this)})),W=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"backflow";return(0,p.U)({apiName:"topContent-topContent"}).get("/fe/api/topcontent/".concat(t),{baseURL:f.os}).then((function(t){return t.data}))},Y=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"backflow";return(0,p.U)({apiName:"topContent-topContentLast"}).get("/fe/api/topcontent/".concat(t,"/last"),{baseURL:f.os}).then((function(t){return t.data}))},X=function(t){return(0,p.U)({apiName:"topContent-paidContentDy"}).get("/fe/api/paidcontent/dy",{baseURL:f.os,params:{size:t}}).then((function(t){return t.data}))},Q=function(t){return(0,p.U)({apiName:"topContent-paidContentRec"}).get("/fe/api/paidcontent/rec",{baseURL:f.os,params:{size:t}}).then((function(t){return t.data}))},J=n(35875);function tt(){tt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var et=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"shuffleList",get:function(){return(0,J.T)(this.data.list)}},{key:"request",value:function(){var e=(0,u.Z)(tt().mark((function e(n){var r,i,o,a=this,s=arguments;return tt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]&&s[1],this.status=h.L.PENDING,e.prev=2,i=r?Y:W,e.next=6,i(n);case 6:o=e.sent,(0,t.z)((function(){200===o.code?(a.data=o.data,a.status=h.L.OK):a.status=h.L.ERROR})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),(0,t.z)((function(){a.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),nt=function(t){var e=f.zc,n="/nc/3g/article/".concat(t,"/full.html");return(0,y.Fs)().then((function(r){return(0,p.U)({apiName:"article-fullContent"}).get(n,{baseURL:e,withCredentials:!0,headers:{"User-Uuid":r}}).then((function(e){return e.data[t]}))}))},rt=n(65809),it=Object.keys,ot=n(44779),at=n.n(ot),st=n(61482),lt=n.n(st),ct=n(49630),ut=n.n(ct),dt=n(68973),ht=n.n(dt),ft=n(77589),pt=n.n(ft),gt=n(6822),mt=n.n(gt),vt=n(47245),yt=n.n(vt),bt=n(54461),wt=n.n(bt),Et=n(17597),_t=n.n(Et),Tt=n(63738),xt=n.n(Tt),St=n(14084),Lt=n.n(St),kt=n(94530),At=n.n(kt),Ot=n(31294),Rt=n.n(Ot),Ct=n(30870),It=n.n(Ct);function Dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Pt=function(){function t(e){var n=this;(0,l.Z)(this,t),(0,d.Z)(this,"photoList",[]),(0,d.Z)(this,"photoSetList",[]),(0,d.Z)(this,"liveList",[]),(0,d.Z)(this,"videoList",[]),(0,d.Z)(this,"parsePhotoSet",(function(e,r){return e&&e.length>0&&e.forEach((function(e,i){var o=e.photosetID,a=void 0===o?"":o,s=e.src,l=e.pixel,c=a.split("|"),u=(0,rt.Z)(c,2),d=u[0],h=u[1],f="/photo/photoview/".concat(d,"/").concat(h,".html");n.body=n.body.replace(e.ref,t.photoSetTpl(Nt(Nt({},e),{},{link:f,docId:r,src:s,thumbnail:"750",index:i,position:i+1}))),n.photoSetList.push({src:s,pixel:l})})),n})),(0,d.Z)(this,"parseVideoAndAudio",(function(e,r){if(e&&e.length>0){var i=1;e.forEach((function(e){var o=e.cover,a=e.url_mp4,s=e.ref,l=e.alt,c=e.videoRatio,u=e.m3u8_url,d=e.mp4_url;/\.(mp3|wav|8svx|aac|cdda|flac|m4a|mp2|ogg|opus|w64|wma)/i.test(e.url_mp4||"")?n.body=n.body.replace(s,t.audioTpl({audioSrc:a,alt:l})):(n.body=n.body.replace(s,t.videoTpl({alt:l,cover:o,thumbnail:"750",docId:r,position:i,index:i-1})),n.videoList.push({mp4:d||"",m3u8:u||"",cover:o,videoRatio:c}),i++)}))}return n})),(0,d.Z)(this,"voteIds",[]),(0,d.Z)(this,"parseVote",(function(e,r){return e&&e.length>0&&e.forEach((function(e){var i=e.ref,o=e.voteid,a=e.question,s=e.voteitem,l=e.endTime,c=e.sumnum,u=e.date_type;if(s)if(/pk/i.test(i)){var d=(0,rt.Z)(s,2),h=d[0],f=d[1];n.body=n.body.replace(i,t.pkTpl({voteid:o,question:a,red:h,blue:f,endTime:l.split(" ")[0],sumnum:c,progress:"".concat(h.num/c*100,"%"),isOver:1===+u,docId:r}))}else{var p=e.ref,g=e.question,m=e.voteitem,v=e.endTime,y=e.sumnum,b=e.date_type,w=e.option_type,E=e.voteid,_=m.map((function(t){var e=100*t.num/y;return Nt(Nt({},t),{},{rateStr:"".concat(e.toFixed(0),"%")})}));n.body=n.body.replace(p,t.voteTpl({voteid:E,question:g,options:_,endTime:v.split(" ")[0],isOver:1===+b,sumnum:y,isRadio:1!==+w,docId:r}))}})),n})),(0,d.Z)(this,"parseSpinfo",(function(e){return e&&e.length>0&&e.forEach((function(e){var r=e.ref,i=e.spcontent,o=e.sptype;n.body=n.body.replace(r,t.spinfoTpl({sptype:o,spcontent:i}))})),n})),(0,d.Z)(this,"parseLiveCard",(function(e){return e&&e.length>0&&e.forEach((function(e,r){var i=e.ref,o=e.liveId,a=e.title;n.liveList.push({liveId:o,container:".js-liveCard-".concat(r)}),n.body=n.body.replace(i,t.liveCardTpl({index:r,title:a,link:"/touch/live.html?roomid=".concat(o)}))})),n})),(0,d.Z)(this,"parseVariousTalks",(function(e){return e&&e.length>0&&e.forEach((function(e){var r=e.ref,i=e.variousTalk,o=(void 0===i?[]:i).map((function(t){return Nt(Nt({},t),{},{thumbnail:"64x64",isRed:1===+t.standpoint})}));n.body=n.body.replace(r,t.variousTalksTpl({list:o}))})),n})),(0,d.Z)(this,"parseTimeline",(function(e){return e&&e.length>0&&e.forEach((function(e){var r=e.ref,i=e.timeline;n.body=n.body.replace(r,t.timelineTpl({list:i}))})),n})),this.body=e}return(0,s.Z)(t,[{key:"parseEmpty",value:function(){this.body=this.body.replace("<p>\x3c!--viewpoint--\x3e</p>","");return this.body=this.body.replace(/(<br\/?>)*\s*(<(\/)?p[^<]*>)\s*(<br\/?>)*/g,"$2"),this.body=this.body.replace(/<object[^(</object>)]*application\/x-shockwave-flash[^(</object>)]*>/gi,"").replace(/<object[^>]*application\/x-shockwave-flash[^>]*>/gi,""),this.body=this.body.replace(/<\s*a[^>]*href=(["'])?([^\s]+)\1[^>]*>.+?<\s*\/a\s*>/g,(function(t,e,n){return"".concat(n)})),this}},{key:"parseLink",value:function(e){var n=this;return e&&e.length&&e.forEach((function(e){var r=e.href,i=e.title,o=e.type,a=e.digest,s=e.imgsrc,l=void 0===s?"":s;n.body="linkCard"===o?n.body.replace(e.ref,t.linkCardTpl({href:r,title:i,digest:a||"\u70b9\u51fb\u8df3\u8f6c",imgsrc:l,thumbnail:"102"})):n.body.replace(e.ref,t.linkTpl({href:r,title:i}))})),this}},{key:"parseSectionTitle",value:function(e){var n=this;return e&&e.length>0&&e.forEach((function(e){n.body=n.body.replace(e.ref,t.sectionTitleTpl(e))})),this}},{key:"parsePhoto",value:function(e,n){var r=this;return e&&e.length>0&&e.forEach((function(e,i){r.photoList.push({src:e.src,pixel:e.pixel}),r.body=r.body.replace(e.ref,t.photoTpl(Nt(Nt({},e),{},{docId:n,src:e.src,thumbnail:"750",index:i,position:i+1})))})),this}},{key:"parseByArticleDetial",value:function(t){try{var e=[],n=[];(t.img||[]).forEach((function(t){t.photosetID?n.push(t):e.push(t)})),this.parseLink(t.link).parseSectionTitle(t.sectionTitle).parsePhoto(e,t.docid).parsePhotoSet(n,t.docid).parseVideoAndAudio(t.video,t.docid).parseVote(t.votes,t.docid).parseSpinfo(t.spinfo).parseLiveCard(t.liveRoom).parseVariousTalks(t.variousTalks).parseTimeline(t.timelines)}catch(r){}}},{key:"parseKeywordAnchor",value:function(e){try{var n=new RegExp("".concat(e.map((function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})).join("|"),"(?!([^<]*>)|([^<]*</a>))"),"g"),r=this.body.match(n)||[];if(r.length>0){var i={},o={},a={};r.forEach((function(t,e){var n=i[t]||0;n<=1&&(i[t]=n+1,o[t]=e)})),it(o).forEach((function(t){a[o[t]]=!0}));var s=0;this.body=this.body.replace(n,(function(e){var n=e;return a[s]&&(n=t.keywordAnchorTpl({keyword:e,href:"https://news.163.com/news/search?keyword=".concat(encodeURIComponent(e))})),s++,n}))}}catch(l){}return this}}]),t}();(0,d.Z)(Pt,"linkTpl",at()),(0,d.Z)(Pt,"linkCardTpl",lt()),(0,d.Z)(Pt,"sectionTitleTpl",ut()),(0,d.Z)(Pt,"photoTpl",ht()),(0,d.Z)(Pt,"photoSetTpl",pt()),(0,d.Z)(Pt,"audioTpl",mt()),(0,d.Z)(Pt,"videoTpl",yt()),(0,d.Z)(Pt,"voteTpl",wt()),(0,d.Z)(Pt,"spinfoTpl",_t()),(0,d.Z)(Pt,"liveCardTpl",xt()),(0,d.Z)(Pt,"variousTalksTpl",Lt()),(0,d.Z)(Pt,"timelineTpl",At()),(0,d.Z)(Pt,"keywordAnchorTpl",Rt()),(0,d.Z)(Pt,"pkTpl",It());function Mt(){Mt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ft=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"parser",get:function(){var t=(this.data||{}).body,e=function(t){return new Pt(t)}(void 0===t?"":t);return this.data&&(e.parseEmpty(),e.parseByArticleDetial(this.data)),e}},{key:"isPurchased",get:function(){var t=((this.data||{}).payInfo||{}).payStatus,e=void 0===t?-1:t;return 1===e||2===e}},{key:"isFreeUnlock",get:function(){var t=(this.data||{}).payInfo||{},e=t.price,n=t.purchaseType;return 0===e&&(2===n||3===n||5===n)}},{key:"request",value:function(){var e=(0,u.Z)(Mt().mark((function e(n){var r,i=this;return Mt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,nt(n);case 6:(r=e.sent)?(0,t.z)((function(){i.data=r,i.status=h.L.OK})):(this.msg="data is null",this.status=h.L.ERROR),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){i.msg=e.t0 instanceof Error?e.t0.toString():"unknown error",i.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Bt=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"contentAdStatus",0),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"contentAdMayRender",value:function(){this.contentAdStatus=1}}]),e}(),Ut=n(82744),jt=n(4475),$t=n.n(jt);var Gt=function(){var t;return(null===(t=$t().navigator)||void 0===t?void 0:t.userAgent)||""},Ht=/VivoBrowser/i.test(Gt()),Kt=/HuaweiBrowser/i.test(Gt()),Vt=/HeyTapBrowser/i.test(Gt()),zt=/MiuiBrowser/i.test(Gt());const Zt="function"===typeof btoa,qt="function"===typeof Buffer,Wt=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),Yt=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Xt=((t=>{let e={};t.forEach(((t,n)=>e[t]=n))})(Yt),String.fromCharCode.bind(String)),Qt=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),t=>t.replace(/=/g,"").replace(/[+\/]/g,(t=>"+"==t?"-":"_"))),Jt=t=>{let e,n,r,i,o="";const a=t.length%3;for(let s=0;s<t.length;){if((n=t.charCodeAt(s++))>255||(r=t.charCodeAt(s++))>255||(i=t.charCodeAt(s++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,o+=Yt[e>>18&63]+Yt[e>>12&63]+Yt[e>>6&63]+Yt[63&e]}return a?o.slice(0,a-3)+"===".substring(a):o},te=Zt?t=>btoa(t):qt?t=>Buffer.from(t,"binary").toString("base64"):Jt,ee=qt?t=>Buffer.from(t).toString("base64"):t=>{let e=[];for(let n=0,r=t.length;n<r;n+=4096)e.push(Xt.apply(null,t.subarray(n,n+4096)));return te(e.join(""))},ne=t=>{if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?Xt(192|e>>>6)+Xt(128|63&e):Xt(224|e>>>12&15)+Xt(128|e>>>6&63)+Xt(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return Xt(240|e>>>18&7)+Xt(128|e>>>12&63)+Xt(128|e>>>6&63)+Xt(128|63&e)},re=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ie=t=>t.replace(re,ne),oe=qt?t=>Buffer.from(t,"utf8").toString("base64"):Wt?t=>ee(Wt.encode(t)):t=>te(ie(t)),ae=(t,e=!1)=>e?Qt(oe(t)):oe(t);var se=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n="",r=(0,Ut.Z)(),i=r.token,o=void 0===i?"":i,a=r.spss,s=void 0===a?"":a;t=t||"".concat(s),o?n="ad":t&&"adap_pc"!==t&&"adap_pc_suitable"!==t?n="spss_".concat(t):(n=window._REFER_VAL||"")||(n=e.IX?"baidu":e.L7?"toutiao":e.zS?"quark":e.FO?"weixin":e.dw?"weibo":e.GP?"qq":Ht?"vivo":Kt?"huawei":Vt?"oppo":zt?"xiaomi":e.fo?"uc":"other");var l="";try{l=ae("m_".concat(n),!0)}catch(c){}return l||"bV9vdGhlcg"},le=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.requestFrom="wap";var r=(0,Ut.Z)(),i=r.search_channel_id;return e.channelId=i||"",(0,y.Fs)().then((function(r){return(0,p.U)({apiName:"pay-createOrder"}).post("/commons-user-main/api/v1/commons/main/pay/order/biz/create",{businessType:t,params:e},{baseURL:f.zc,withCredentials:!0,headers:{"User-Uuid":r,"User-C":se(n)}}).then((function(t){return t.data}))}))},ce=function(t,e){return(0,p.U)({apiName:"pay-getOrderInfo"}).post("/commons-user-main/api/v1/commons/main/pay/order/biz/query",{businessType:t,orderNo:e},{baseURL:f.zc,withCredentials:!0}).then((function(t){return t.data}))},ue=function(){return(0,y.Fs)().then((function(t){return(0,p.U)({apiName:"pay-purchasedSync"}).post("/commons-user-main/api/v1/commons/main/content-pay/purchased/sync/user-uuid",{},{baseURL:f.zc,withCredentials:!0,headers:{"User-Uuid":t}}).then((function(t){return t.data}))}))},de=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return(0,p.U)({apiName:"pay-vipGoodsList"}).get("/commons-user-vip/api/v2/commons/vip/h5/membership",{baseURL:f.zc,withCredentials:!0,params:{productLevel:t}}).then((function(t){return t.data}))};function he(){he=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var fe,pe=function(){function e(n){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),this.root=n,(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(he().mark((function e(n,r){var i,o,a,s=this,l=arguments;return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:"",this.status!==h.L.PENDING){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,this.status=h.L.PENDING,this.code=0,e.next=8,le(n,r,i);case 8:o=e.sent,(0,t.z)((function(){if(0===o.code)s.code=o.code,s.data=o.data,s.status=h.L.OK;else{s.code=o.code,s.status=h.L.ERROR,s.msg=o.message||"\u8bf7\u6c42\u5931\u8d25";var t="";if(1010309===s.code){var e,n,r=((null===(e=s.root)||void 0===e||null===(n=e.articleDetial)||void 0===n?void 0:n.data)||{}).payInfo,i=void 0===r?{}:r;try{t=","+JSON.stringify(i)}catch(a){t=", error"}}(0,y.j)({val_act:"bizOrder_create_fail",val_nm:y.QJ.other,info:{msg:"code: ".concat(s.code,", msg: ").concat(s.msg)+t}})}})),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),(0,t.z)((function(){s.status=h.L.ERROR,s.msg="\u8bf7\u6c42\u5931\u8d25"})),a=e.t0 instanceof Error?e.t0.toString():"unknown error",(0,y.j)({val_act:"bizOrder_create_fail",val_nm:y.QJ.other,info:{msg:a}});case 17:case"end":return e.stop()}}),e,this,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();!function(t){t[t.INITIAL=0]="INITIAL",t[t.LOGINED=1]="LOGINED",t[t.NOT_LOGIN=2]="NOT_LOGIN"}(fe||(fe={}));var ge=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"loginStatus",fe.INITIAL),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"isLogin",get:function(){return this.loginStatus===fe.LOGINED}},{key:"logout",value:function(){window.location.href="https://reg.163.com/Logout.jsp?url=".concat(encodeURIComponent(window.location.href)),this.loginStatus=fe.NOT_LOGIN}},{key:"loginSuccess",value:function(){this.loginStatus=fe.LOGINED}},{key:"loginFail",value:function(){this.loginStatus=fe.NOT_LOGIN}}]),e}();function me(){me=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var ve=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(me().mark((function e(){var n,r,i,o,a,s,l,c=this;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,this.status=h.L.PENDING,(0,y.j)({val_act:"purchased_sync",val_nm:y.QJ.other}),e.next=7,ue();case 7:(n=e.sent)&&0===n.code?((0,y.j)({val_act:"purchased_sync_success",val_nm:y.QJ.other}),(0,t.z)((function(){c.status=h.L.OK}))):(i=(r=n||{}).code,o=void 0===i?-1:i,a=r.message,s=void 0===a?"unknown error":a,(0,y.j)({val_act:"purchased_sync_fail",val_nm:y.QJ.other,info:{msg:"code: ".concat(o,", msg: ").concat(s)}}),(0,t.z)((function(){c.status=h.L.ERROR}))),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),l=e.t0 instanceof Error?e.t0.toString():"unknown error",(0,y.j)({val_act:"purchased_sync_fail",val_nm:y.QJ.other,info:{msg:l}}),(0,t.z)((function(){c.status=h.L.ERROR}));case 16:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ye=n(7886),be=function(){return(0,y.Fs)().then((function(t){return(0,ye.R)("https://m.163.com/touch/nc/api/jsonp/oauth/common/info.do",{callbackQuery:"callback",params:{uuid:t}})}))},we=function(){return(0,p.U)({apiName:"user-distributorInfo"}).get("/commons-user-main/api/v1/commons/main/content-pay/distribution/user/profile",{baseURL:f.zc,withCredentials:!0}).then((function(t){return t.data}))};function Ee(){Ee=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var _e={"@163.com":{read:1,name:"163",url:"https://mail.163.com/entry/cgi/ntesdoor?t=1&verifycookie=1&lightweight=1&style=11&df=3g_163"},"@126.com":{read:1,name:"126",url:"https://mail.126.com/entry/cgi/ntesdoor?t=1&verifycookie=1&lightweight=1&style=11&df=3g_163"},"@yeah.net":{read:1,name:"yeah",url:"https://mail.yeah.net/entry/cgi/ntesdoor?t=1&verifycookie=1&lightweight=1&style=11&df=3g_163"},"@188.com":{read:0,name:"188",url:"http://reg.mail.188.com/servlet/enter"},"@vip.126.com":{read:0,name:"vip",url:"http://reg.vip.126.com/enterMail.m"},"@vip.163.com":{read:0,name:"vip",url:"http://reg.vip.163.com/enterMail.m?enterVip=true"},default:{read:0,name:"default",url:"https://email.163.com/m/?df=3g_163"}},Te=function(){function e(n){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),this.root=n,(0,t.ky)(this)}return(0,s.Z)(e,[{key:"isVip",get:function(){var t=(this.data||{}).vipStatus;return 1===(void 0===t?0:t)}},{key:"isSubscription",get:function(){var t=(this.data||{}).renewalStatus;return 1===(void 0===t?0:t)}},{key:"mailUrl",get:function(){var t=(this.data||{}).mail,e=(void 0===t?"":t).match(/@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/),n=e?e[0]:"@163.com";return _e[n]?_e[n].url:_e.default.url}},{key:"request",value:function(){var e=(0,u.Z)(Ee().mark((function e(){var n,r,i=this,o=arguments;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.length>0&&void 0!==o[0]&&o[0],this.status!==h.L.PENDING){e.next=3;break}return e.abrupt("return");case 3:return this.status=h.L.PENDING,e.prev=4,e.next=7,be();case 7:if(!(n=e.sent)||200!==n.code){e.next=12;break}return e.next=11,this.root.purchasedSync.request();case 11:this.root.purchasedSync.status!==h.L.OK&&setTimeout((0,u.Z)(Ee().mark((function t(){return Ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.root.purchasedSync.request();case 2:i.root.purchasedSync.status!==h.L.OK&&setTimeout((0,u.Z)(Ee().mark((function t(){return Ee().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.root.purchasedSync.request();case 2:case"end":return t.stop()}}),t)}))),3e3);case 3:case"end":return t.stop()}}),t)}))),3e3);case 12:(0,t.z)((function(){200===n.code?(i.code=200,i.data=n.data,i.status=h.L.OK,i.root.login.loginSuccess(),i.isVip&&window.localStorage.setItem("NEWAP_history_info",JSON.stringify({isVip:!0}))):(i.status=h.L.ERROR,i.code=n.code,i.root.login.loginFail(),401!==n.code&&(0,y.j)({val_act:"simple_user_info_fail",val_nm:y.QJ.other,info:{msg:"code: ".concat(n.code)}}))})),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(4),r=e.t0 instanceof Error?e.t0.toString():"unknown error",(0,y.j)({val_act:"simple_user_info_fail",val_nm:y.QJ.other,info:{msg:r}}),(0,t.z)((function(){i.status=h.L.ERROR,i.root.login.loginFail()}));case 20:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function xe(){xe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Se=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(xe().mark((function e(n){var r,i=this;return xe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,T(n);case 6:r=e.sent,(0,t.z)((function(){0===r.code?(i.data={list:r.data.items},i.status=h.L.OK):i.status=h.L.ERROR})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){i.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Le(){Le=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var ke=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{productList:[],remainTime:0,activityEndTime:""}),(0,d.Z)(this,"params",{productLevel:1}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"hasCoupon",get:function(){var t=!1;if(this.data&&this.data.productList&&this.data.productList.length>0){var e=this.data.productList[0].productType;t=1===this.params.productLevel&&"rvipm"===e}return t}},{key:"minDayPrice",get:function(){var t="";if(this.data&&this.data.productList&&this.data.productList.length>0){var e=this.data.productList[0],n=e.discountTextVo,r=e.discountPrice,i=e.productType,o=(n||{}).unit,a=r;1===this.params.productLevel&&"rvipm"===i&&(a-=8),t=(a/o).toFixed(2)}return t||"0.9"}},{key:"request",value:function(){var e=(0,u.Z)(Le().mark((function e(){var n,r,i,o,a,s=this;return Le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status===h.L.INITIAL){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,Promise.all([(0,y.zY)(["9"]),(0,y.zY)(["5"])]).then((function(t){var e=(0,rt.Z)(t,2),n=e[0],r=e[1];return n?2:r?3:1}));case 6:return n=e.sent,this.params={productLevel:n},e.next=10,de(n);case 10:return r=e.sent,e.next=13,(0,y.zY)(["6"]);case 13:i=e.sent,0===r.code&&r.data&&(i?(o={vipm:3,vipq:1,vipy:2},(r.data.productList||[]).sort((function(t,e){return(o[t.productType]||0)>(o[e.productType]||0)?1:-1}))):3!==n&&(a=[],(r.data.productList||[]).forEach((function(t){"rvipm"!==t.productType&&a.push(t)})),r.data.productList=a)),(0,t.z)((function(){0===r.code?(s.data=r.data,s.status=h.L.OK):s.status=h.L.ERROR})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),(0,t.z)((function(){s.status=h.L.ERROR}));case 21:case"end":return e.stop()}}),e,this,[[3,18]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ae(){Ae=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Oe=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(Ae().mark((function e(n){var r,i,o,a,s=this,l=arguments;return Ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:0,i=l.length>2?l[2]:void 0,this.status!==h.L.PENDING){e.next=4;break}return e.abrupt("return");case 4:return this.status=h.L.PENDING,e.prev=5,o=i?R(n,i):x(n,r),e.next=9,o;case 9:a=e.sent,(0,t.z)((function(){0===a.code?(s.data={list:a.data.items},s.status=h.L.OK):s.status=h.L.ERROR})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),(0,t.z)((function(){s.status=h.L.ERROR}));case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Re(){Re=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ce=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(Re().mark((function e(){var n,r,i,o=this,a=arguments;return Re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:1,this.status!==h.L.PENDING){e.next=3;break}return e.abrupt("return");case 3:return this.status=h.L.PENDING,e.prev=4,r=1===n?S:L,e.next=8,r();case 8:i=e.sent,(0,t.z)((function(){0===i.code?(o.data={list:i.data.items},o.status=h.L.OK):o.status=h.L.ERROR})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),(0,t.z)((function(){o.status=h.L.ERROR}));case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ie=n(60928);function De(){De=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ne=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(De().mark((function e(n,r){var i,o,a,s=this,l=arguments;return De().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>2&&void 0!==l[2]?l[2]:0,this.status!==h.L.PENDING){e.next=3;break}return e.abrupt("return");case 3:return this.status=h.L.PENDING,e.prev=4,o=1===i?k:A,e.next=8,o(n,r);case 8:a=e.sent,(0,t.z)((function(){(0,Ie.Z)(a.data)?(s.data={list:a.data},s.status=h.L.OK):s.status=h.L.ERROR})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),(0,t.z)((function(){s.status=h.L.ERROR}));case 15:case"end":return e.stop()}}),e,this,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Pe(){Pe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Me=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(Pe().mark((function e(n){var r,i=this;return Pe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,O(n);case 6:r=e.sent,(0,t.z)((function(){0===r.code?(i.data={list:r.data.items},i.status=h.L.OK):i.status=h.L.ERROR})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){i.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fe(){Fe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Be=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,d.Z)(this,"activateStatus",h.L.INITIAL),(0,d.Z)(this,"activateCode",0),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"isActivited",get:function(){return 2===(this.data||{}).status}},{key:"request",value:function(){var e=(0,u.Z)(Fe().mark((function e(){var n,r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return this.status=h.L.PENDING,e.prev=3,e.next=6,we();case 6:n=e.sent,(0,t.z)((function(){0===n.code?(r.code=n.code,r.data=n.data.userInfo,r.status=h.L.OK):(r.code=n.code,r.status=h.L.ERROR)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){r.code=-1,r.status=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"activate",value:function(){var e=(0,u.Z)(Fe().mark((function e(){var n,r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activateStatus!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return this.activateStatus=h.L.PENDING,e.prev=3,e.next=6,(0,p.U)({apiName:"user-distributorActivate"}).post("/commons-user-main/api/v1/commons/main/content-pay/distribution/user/activate",{},{baseURL:f.zc,withCredentials:!0}).then((function(t){return t.data}));case 6:n=e.sent,(0,t.z)((function(){0===n.code?(r.activateCode=n.code,r.data=n.data.userInfo,r.activateStatus=h.L.OK):(r.activateCode=n.code,r.activateStatus=h.L.ERROR)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),(0,t.z)((function(){r.activateCode=-1,r.activateStatus=h.L.ERROR}));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ue=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"data",{}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"getDistributorId",value:function(t){return(0,Ut.Z)().did||this.data[t]||""}},{key:"save",value:function(t){}}]),e}();function je(){je=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var $e=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"shuffleList",get:function(){return(0,J.T)(this.data.list)}},{key:"request",value:function(){var e=(0,u.Z)(je().mark((function e(){var n,r,i=this,o=arguments;return je().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:20,this.status=h.L.PENDING,e.prev=2,e.next=5,X(n);case 5:r=e.sent,(0,t.z)((function(){200===r.code?(i.data=r.data,i.status=h.L.OK):i.status=h.L.ERROR})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),(0,t.z)((function(){i.status=h.L.ERROR}));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ge(){Ge=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var He=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",{list:[]}),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"shuffleList",get:function(){return(0,J.T)(this.data.list)}},{key:"request",value:function(){var e=(0,u.Z)(Ge().mark((function e(){var n,r,i=this,o=arguments;return Ge().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:20,this.status=h.L.PENDING,e.prev=2,e.next=5,Q(n);case 5:r=e.sent,(0,t.z)((function(){200===r.code?(i.data=r.data,i.status=h.L.OK):i.status=h.L.ERROR})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),(0,t.z)((function(){i.status=h.L.ERROR}));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Ke=new((0,s.Z)((function t(){(0,l.Z)(this,t),this.ui=new q,this.loc=new v,this.articleRecommend=new N(this),this.rollingWord=new F,this.commentHotList=new G,this.commentNewList=new K,this.commentInfo=new Z,this.topContent=new et,this.articleDetial=new Ft,this.adStatus=new Bt,this.order=new pe(this),this.login=new ge,this.purchasedSync=new ve,this.simpleUserInfo=new Te(this),this.vipRecommend=new Se,this.vipGoods=new ke,this.vipRecommendForFree=new Oe,this.rankRecommend=new Ce,this.zxbRecommend=new Ne,this.paidRecommend=new Me,this.distributorInfo=new Be,this.distributorManager=new Ue,this.paidDyRecommend=new $e,this.paidRecRecommend=new He}))),Ve=n(54085),ze=(0,s.Z)((function t(e){(0,l.Z)(this,t),(0,d.Z)(this,"createHtml",(function(t){var e=t.docId,n=t.trackData;return'\n      <div>\n        <div \n          class="backflow-floating js-open-app"\n          data-param="'.concat(e,'"\n          data-channel="').concat(n.channel,'"\n          data-mod="').concat(n.mod,'"\n          data-act="').concat(n.val_act,'"\n        >\n          <i></i>\n          App\u5185\u6253\u5f00\n        </div>\n      </div>\n    ')}));var n=this.createHtml(e);document.body.appendChild((0,Ve.a)(n))})),Ze=n(13756),qe=function(t){return(0,ye.R)("//data.live.126.net/liveAll/".concat(t,".json"),{callbackQuery:"callback"})};function We(){We=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(k){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(k){return{type:"throw",arg:k}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Ye=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)(We().mark((function e(n){var r,i=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.status=h.L.PENDING,e.prev=1,e.next=4,qe(n);case 4:r=e.sent,(0,t.z)((function(){i.data=r,i.status=h.L.OK})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),(0,t.z)((function(){i.status=h.L.ERROR}));case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xe=(0,s.Z)((function e(n){var r=this;(0,l.Z)(this,e),(0,d.Z)(this,"render",(function(){var t,e=r.options.param.container,n=(r.live.data||{}).liveStatus,i="\u76f4\u64ad\u5df2\u7ed3\u675f";0===n?i="\u76f4\u64ad\u672a\u5f00\u59cb":1===n&&(i="\u76f4\u64ad\u8fdb\u884c\u4e2d");var o=null===(t=document.querySelector(e))||void 0===t?void 0:t.querySelector(".js-liveCard-status");o&&(o.innerHTML=i)})),this.options=n;var i=n.param.liveId;this.live=new Ye,this.live.request(i),(0,t.gx)((function(){return r.live.status===h.L.OK}),this.render)})),Qe=n(63006),Je=n(58955),tn=n.n(Je),en=(n(99996),n(21341)),nn=(0,s.Z)((function t(e){var n=this;(0,l.Z)(this,t),(0,d.Z)(this,"gifLoadFlag",{}),(0,d.Z)(this,"createPreview",(function(){var t=n.options.imgList.map((function(t){return{src:(0,en.Z)({src:t.src,width:375})}}));document.body.append((0,Ve.a)(tn()({list:t}))),n.swiper=new Qe.tq(".js-photoPreview",{modules:[Qe.tl],loop:!0,pagination:{el:".swiper-pagination",type:"fraction"}}),n.swiper.on("click",(function(){setTimeout((function(){n.onClose()}),50)})),(0,r.c)({type:"click",selector:".js-photoPreview-close",callback:n.onClose})})),(0,d.Z)(this,"onClose",(function(){var t;null===(t=document.querySelector(".js-photoPreview"))||void 0===t||t.classList.add("hide"),document.documentElement.style.overflow="auto"})),(0,d.Z)(this,"onArticlePhoto",(function(t,e){var r,i,o=parseInt(e.dataset.index||"0",10);if(n.gifLoadFlag[o]){var s=e.querySelector("img");return e.classList.remove("gif-photo"),e.classList.add("gif-photo-loading"),s&&(s.dataset.gif="show",s.classList.add("image-lazy"),(0,a.X)()),void(n.gifLoadFlag[o]=!1)}(n.swiper||n.createPreview(),"number"===typeof o)&&(null===(i=n.swiper)||void 0===i||i.slideTo(o+1,0));null===(r=document.querySelector(".js-photoPreview"))||void 0===r||r.classList.remove("hide"),document.documentElement.style.overflow="hidden",(0,y.j)({val_act:"article_body_photoPreview",val_nm:y.QJ.click,info:{position:o+1}})})),this.options=e;var i=e.imgList;(0,r.c)({type:"click",selector:".js-article-photo",callback:this.onArticlePhoto});var o=document.querySelectorAll(".js-article-photo");i.forEach((function(t,e){var r=o[e];if(r){r.dataset.index=e+"";var i=((t.src.split("?")[0].match(/\.(\w+)$/)||[])[1]||"png").toLowerCase();/^gif$/i.test(i)&&(r.classList.add("gif-photo"),n.gifLoadFlag[e]=!0)}}))}));function rn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var on,an={exports:{}};on=an,function(t){var e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,r){if(r=r||{},t=t.trim(),!(e=e.trim())){if(!r.alwaysNormalize)return t;var i=o.parseURL(t);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return r.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=n.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(d)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=r.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(t){var n=e.exec(t);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(i,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};on.exports=o}();var sn=an.exports;function ln(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){dn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function un(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function dn(t,e,n){return(e=un(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hn(){return hn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hn.apply(this,arguments)}const fn=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},pn=Number.isSafeInteger||function(t){return"number"===typeof t&&Math.abs(t)<=gn},gn=Number.MAX_SAFE_INTEGER||9007199254740991;let mn=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),vn=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),yn=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const bn=function(){},wn={trace:bn,debug:bn,log:bn,warn:bn,info:bn,error:bn};let En=wn;function _n(t,...e){e.forEach((function(e){En[e]=t[e]?t[e].bind(t):function(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):bn}(e)}))}const Tn=En,xn=/^(\d+)x(\d+)$/,Sn=/(.+?)=(".*?"|.*?)(?:,|$)/g;class Ln{constructor(t){"string"===typeof t&&(t=Ln.parseAttrList(t)),hn(this,t)}get clientAttrs(){return Object.keys(this).filter((t=>"X-"===t.substring(0,2)))}decimalInteger(t){const e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}hexadecimalInteger(t){if(this[t]){let e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;const n=new Uint8Array(e.length/2);for(let t=0;t<e.length/2;t++)n[t]=parseInt(e.slice(2*t,2*t+2),16);return n}return null}hexadecimalIntegerAsNumber(t){const e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}decimalFloatingPoint(t){return parseFloat(this[t])}optionalFloat(t,e){const n=this[t];return n?parseFloat(n):e}enumeratedString(t){return this[t]}bool(t){return"YES"===this[t]}decimalResolution(t){const e=xn.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}static parseAttrList(t){let e;const n={};for(Sn.lastIndex=0;null!==(e=Sn.exec(t));){let t=e[2];0===t.indexOf('"')&&t.lastIndexOf('"')===t.length-1&&(t=t.slice(1,-1));n[e[1].trim()]=t}return n}}function kn(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t}class An{constructor(t,e){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,e){const n=e.attr;for(const e in n)if(Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]){Tn.warn(`DATERANGE tag attribute: "${e}" does not match for tags with ID: "${t.ID}"`),this._badValueForSameId=e;break}t=hn(new Ln({}),n,t)}if(this.attr=t,this._startDate=new Date(t["START-DATE"]),"END-DATE"in this.attr){const t=new Date(this.attr["END-DATE"]);fn(t.getTime())&&(this._endDate=t)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const t=this.duration;return null!==t?new Date(this._startDate.getTime()+1e3*t):null}get duration(){if("DURATION"in this.attr){const t=this.attr.decimalFloatingPoint("DURATION");if(fn(t))return t}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&fn(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class On{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Rn="audio",Cn="video",In="audiovideo";class Dn{constructor(t){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Rn]:null,[Cn]:null,[In]:null},this.baseurl=t}setByteRange(t,e){const n=t.split("@",2);let r;r=1===n.length?(null==e?void 0:e.byteRangeEndOffset)||0:parseInt(n[1]),this._byteRange=[r,parseInt(n[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=sn.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(t){this._url=t}}class Nn extends Dn{constructor(t,e){super(e),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new On,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=t}get decryptdata(){const{levelkeys:t}=this;if(!t&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const t=Object.keys(this.levelkeys);if(1===t.length)return this._decryptdata=this.levelkeys[t[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(null===this.programDateTime)return null;if(!fn(this.programDateTime))return null;const t=fn(this.duration)?this.duration:0;return this.programDateTime+1e3*t}get encrypted(){var t;if(null!=(t=this._decryptdata)&&t.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),e=t.length;if(e>1||1===e&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(t){if(this.levelkeys){const e=this.levelkeys[t];e&&!this._decryptdata&&(this._decryptdata=e.getDecryptData(this.sn))}}abortRequests(){var t,e;null==(t=this.loader)||t.abort(),null==(e=this.keyLoader)||e.abort()}setElementaryStreamInfo(t,e,n,r,i,o=!1){const{elementaryStreams:a}=this,s=a[t];s?(s.startPTS=Math.min(s.startPTS,e),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[t]={startPTS:e,endPTS:n,startDTS:r,endDTS:i,partial:o}}clearElementaryStreamInfo(){const{elementaryStreams:t}=this;t[Rn]=null,t[Cn]=null,t[In]=null}}class Pn extends Dn{constructor(t,e,n,r,i){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new On,this.duration=t.decimalFloatingPoint("DURATION"),this.gap=t.bool("GAP"),this.independent=t.bool("INDEPENDENT"),this.relurl=t.enumeratedString("URI"),this.fragment=e,this.index=r;const o=t.enumeratedString("BYTERANGE");o&&this.setByteRange(o,i),i&&(this.fragOffset=i.fragOffset+i.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:t}=this;return!!(t.audio||t.video||t.audiovideo)}}class Mn{constructor(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}reloaded(t){if(!t)return this.advanced=!0,void(this.updated=!0);const e=this.lastPartSn-t.lastPartSn,n=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!n||!!e||!this.live,this.advanced=this.endSN>t.endSN||e>0||0===e&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1,this.availabilityDelay=t.availabilityDelay}get hasProgramDateTime(){return!!this.fragments.length&&fn(this.fragments[this.fragments.length-1].programDateTime)}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||10}get drift(){const t=this.driftEndTime-this.driftStartTime;if(t>0){return 1e3*(this.driftEnd-this.driftStart)/t}return 1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Fn(t){return Uint8Array.from(atob(t),(t=>t.charCodeAt(0)))}function Bn(t){const e=t.split(":");let n=null;if("data"===e[0]&&2===e.length){const t=e[1].split(";"),r=t[t.length-1].split(",");if(2===r.length){const e="base64"===r[0],i=r[1];e?(t.splice(-1,1),n=Fn(i)):n=function(t){const e=Un(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}(i)}}return n}function Un(t){return Uint8Array.from(unescape(encodeURIComponent(t)),(t=>t.charCodeAt(0)))}const jn="undefined"!==typeof self?self:void 0;var $n={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Gn="org.w3.clearkey",Hn="com.apple.streamingkeydelivery",Kn="com.microsoft.playready",Vn="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";function zn(t){switch(t){case Hn:return $n.FAIRPLAY;case Kn:return $n.PLAYREADY;case Vn:return $n.WIDEVINE;case Gn:return $n.CLEARKEY}}var Zn="edef8ba979d64acea3c827dcd51d21ed";function qn(t){switch(t){case $n.FAIRPLAY:return Hn;case $n.PLAYREADY:return Kn;case $n.WIDEVINE:return Vn;case $n.CLEARKEY:return Gn}}function Wn(t){const{drmSystems:e,widevineLicenseUrl:n}=t,r=e?[$n.FAIRPLAY,$n.WIDEVINE,$n.PLAYREADY,$n.CLEARKEY].filter((t=>!!e[t])):[];return!r[$n.WIDEVINE]&&n&&r.push($n.WIDEVINE),r}const Yn=null!=jn&&null!=(Xn=jn.navigator)&&Xn.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null;var Xn;function Qn(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const Jn=(t,e)=>e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,tr=(t,e)=>e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,er=(t,e)=>{const n=e;let r=0;for(;Jn(t,e);){r+=10;r+=nr(t,e+6),tr(t,e+10)&&(r+=10),e+=r}if(r>0)return t.subarray(n,n+r)},nr=(t,e)=>{let n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n},rr=(t,e)=>Jn(t,e)&&nr(t,e+6)+10<=t.length-e,ir=t=>{const e=sr(t);for(let n=0;n<e.length;n++){const t=e[n];if(or(t))return hr(t)}},or=t=>t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info,ar=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=nr(t,4);return{type:e,size:n,data:t.subarray(10,10+n)}},sr=t=>{let e=0;const n=[];for(;Jn(t,e);){const r=nr(t,e+6);e+=10;const i=e+r;for(;e+8<i;){const r=ar(t.subarray(e)),i=lr(r);i&&n.push(i),e+=r.size+10}tr(t,e)&&(e+=10)}return n},lr=t=>"PRIV"===t.type?cr(t):"W"===t.type[0]?dr(t):ur(t),cr=t=>{if(t.size<2)return;const e=fr(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},ur=t=>{if(t.size<2)return;if("TXXX"===t.type){let e=1;const n=fr(t.data.subarray(e),!0);e+=n.length+1;const r=fr(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=fr(t.data.subarray(1));return{key:t.type,data:e}},dr=t=>{if("WXXX"===t.type){if(t.size<2)return;let e=1;const n=fr(t.data.subarray(e),!0);e+=n.length+1;const r=fr(t.data.subarray(e));return{key:t.type,info:n,data:r}}const e=fr(t.data);return{key:t.type,data:e}},hr=t=>{if(8===t.data.byteLength){const e=new Uint8Array(t.data),n=1&e[3];let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},fr=(t,e=!1)=>{const n=gr();if(n){const r=n.decode(t);if(e){const t=r.indexOf("\0");return-1!==t?r.substring(0,t):r}return r.replace(/\0/g,"")}const r=t.length;let i,o,a,s="",l=0;for(;l<r;){if(i=t[l++],0===i&&e)return s;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(i);break;case 12:case 13:o=t[l++],s+=String.fromCharCode((31&i)<<6|63&o);break;case 14:o=t[l++],a=t[l++],s+=String.fromCharCode((15&i)<<12|(63&o)<<6|(63&a)<<0)}}return s};let pr;function gr(){if(!navigator.userAgent.includes("PlayStation 4"))return pr||"undefined"===typeof self.TextDecoder||(pr=new self.TextDecoder("utf-8")),pr}const mr=function(t){let e="";for(let n=0;n<t.length;n++){let r=t[n].toString(16);r.length<2&&(r="0"+r),e+=r}return e},vr=Math.pow(2,32)-1,yr=[].push,br={video:1,audio:2,id3:3,text:4};function wr(t){return String.fromCharCode.apply(null,t)}function Er(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function _r(t,e){const n=xr(t,e);return n<0?4294967296+n:n}function Tr(t,e){let n=_r(t,e);return n*=Math.pow(2,32),n+=_r(t,e+4),n}function xr(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function Sr(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n}function Lr(t,e){const n=[];if(!e.length)return n;const r=t.byteLength;for(let i=0;i<r;){const o=_r(t,i),a=o>1?i+o:r;if(wr(t.subarray(i+4,i+8))===e[0])if(1===e.length)n.push(t.subarray(i+8,a));else{const r=Lr(t.subarray(i+8,a),e.slice(1));r.length&&yr.apply(n,r)}i=a}return n}function kr(t){const e=[],n=t[0];let r=8;const i=_r(t,r);r+=4;let o=0,a=0;0===n?(o=_r(t,r),a=_r(t,r+4),r+=8):(o=Tr(t,r),a=Tr(t,r+8),r+=16),r+=2;let s=t.length+a;const l=Er(t,r);r+=2;for(let c=0;c<l;c++){let n=r;const o=_r(t,n);n+=4;const a=2147483647&o;if(1===(2147483648&o)>>>31)return Tn.warn("SIDX has hierarchical references (not supported)"),null;const l=_r(t,n);n+=4,e.push({referenceSize:a,subsegmentDuration:l,info:{duration:l/i,start:s,end:s+a-1}}),s+=a,n+=4,r=n}return{earliestPresentationTime:o,timescale:i,version:n,referencesCount:l,references:e}}function Ar(t){const e=[],n=Lr(t,["moov","trak"]);for(let r=0;r<n.length;r++){const t=n[r],i=Lr(t,["tkhd"])[0];if(i){let n=i[0];const r=_r(i,0===n?12:20),o=Lr(t,["mdia","mdhd"])[0];if(o){n=o[0];const i=_r(o,0===n?12:20),a=Lr(t,["mdia","hdlr"])[0];if(a){const n=wr(a.subarray(8,12)),o={soun:Rn,vide:Cn}[n];if(o){const n=Or(Lr(t,["mdia","minf","stbl","stsd"])[0]);e[r]={timescale:i,type:o},e[o]=cn({timescale:i,id:r},n)}}}}}return Lr(t,["moov","mvex","trex"]).forEach((t=>{const n=_r(t,4),r=e[n];r&&(r.default={duration:_r(t,12),flags:_r(t,20)})})),e}function Or(t){const e=t.subarray(8),n=e.subarray(86),r=wr(e.subarray(4,8));let i=r;const o="enca"===r||"encv"===r;if(o){const t=Lr(e,[r])[0];Lr(t.subarray("enca"===r?28:78),["sinf"]).forEach((t=>{const e=Lr(t,["schm"])[0];if(e){const n=wr(e.subarray(4,8));if("cbcs"===n||"cenc"===n){const e=Lr(t,["frma"])[0];e&&(i=wr(e))}}}))}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const t=Lr(n,["avcC"])[0];i+="."+Cr(t[1])+Cr(t[2])+Cr(t[3]);break}case"mp4a":{const t=Lr(e,[r])[0],n=Lr(t.subarray(28),["esds"])[0];if(n&&n.length>12){let t=4;if(3!==n[t++])break;t=Rr(n,t),t+=2;const e=n[t++];if(128&e&&(t+=2),64&e&&(t+=n[t++]),4!==n[t++])break;t=Rr(n,t);const r=n[t++];if(64!==r)break;if(i+="."+Cr(r),t+=12,5!==n[t++])break;t=Rr(n,t);const o=n[t++];let a=(248&o)>>3;31===a&&(a+=1+((7&o)<<3)+((224&n[t])>>5)),i+="."+a}break}case"hvc1":case"hev1":{const t=Lr(n,["hvcC"])[0],e=t[1],r=["","A","B","C"][e>>6],o=31&e,a=_r(t,2),s=(32&e)>>5?"H":"L",l=t[12],c=t.subarray(6,12);i+="."+r+o,i+="."+a.toString(16).toUpperCase(),i+="."+s+l;let u="";for(let n=c.length;n--;){const t=c[n];if(t||u){u="."+t.toString(16).toUpperCase()+u}}i+=u;break}case"dvh1":case"dvhe":{const t=Lr(n,["dvcC"])[0],e=t[2]>>1&127,r=t[2]<<5&32|t[3]>>3&31;i+="."+Ir(e)+"."+Ir(r);break}case"vp09":{const t=Lr(n,["vpcC"])[0],e=t[4],r=t[5],o=t[6]>>4&15;i+="."+Ir(e)+"."+Ir(r)+"."+Ir(o);break}case"av01":{const t=Lr(n,["av1C"])[0],e=t[1]>>>5,r=31&t[1],o=t[2]>>>7?"H":"M",a=(64&t[2])>>6,s=(32&t[2])>>5,l=2===e&&a?s?12:10:a?10:8,c=(16&t[2])>>4,u=(8&t[2])>>3,d=(4&t[2])>>2,h=3&t[2],f=1,p=1,g=1,m=0;i+="."+e+"."+Ir(r)+o+"."+Ir(l)+"."+c+"."+u+d+h+"."+Ir(f)+"."+Ir(p)+"."+Ir(g)+"."+m;break}}return{codec:i,encrypted:o}}function Rr(t,e){const n=e+5;for(;128&t[e++]&&e<n;);return e}function Cr(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Ir(t){return(t<10?"0":"")+t}function Dr(t){const e=Lr(t,["schm"])[0];if(e){const n=wr(e.subarray(4,8));if("cbcs"===n||"cenc"===n)return Lr(t,["schi","tenc"])[0]}return Tn.error("[eme] missing 'schm' box"),null}function Nr(t){const e=_r(t,0);let n=8;1&e&&(n+=4),4&e&&(n+=4);let r=0;const i=_r(t,4);for(let o=0;o<i;o++){if(256&e){r+=_r(t,n),n+=4}512&e&&(n+=4),1024&e&&(n+=4),2048&e&&(n+=4)}return r}function Pr(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function Mr(t,e){const n=[],r=e.samples,i=e.timescale,o=e.id;let a=!1;return Lr(r,["moof"]).map((s=>{const l=s.byteOffset-8;Lr(s,["traf"]).map((s=>{const c=Lr(s,["tfdt"]).map((t=>{const e=t[0];let n=_r(t,4);return 1===e&&(n*=Math.pow(2,32),n+=_r(t,8)),n/i}))[0];return void 0!==c&&(t=c),Lr(s,["tfhd"]).map((c=>{const u=_r(c,4),d=16777215&_r(c,0);let h=0;const f=0!==(16&d);let p=0;const g=0!==(32&d);let m=8;u===o&&(0!==(1&d)&&(m+=8),0!==(2&d)&&(m+=4),0!==(8&d)&&(h=_r(c,m),m+=4),f&&(p=_r(c,m),m+=4),g&&(m+=4),"video"===e.type&&(a=function(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(e.codec)),Lr(s,["trun"]).map((o=>{const s=o[0],c=16777215&_r(o,0),u=0!==(1&c);let d=0;const f=0!==(4&c),g=0!==(256&c);let m=0;const v=0!==(512&c);let y=0;const b=0!==(1024&c),w=0!==(2048&c);let E=0;const _=_r(o,4);let T=8;u&&(d=_r(o,T),T+=4),f&&(T+=4);let x=d+l;for(let l=0;l<_;l++){if(g?(m=_r(o,T),T+=4):m=h,v?(y=_r(o,T),T+=4):y=p,b&&(T+=4),w&&(E=0===s?_r(o,T):xr(o,T),T+=4),e.type===Cn){let e=0;for(;e<y;){const o=_r(r,x);if(x+=4,Fr(a,r[x])){Br(r.subarray(x,x+o),a?2:1,t+E/i,n)}x+=o,e+=o+4}}t+=m/i}})))}))}))})),n}function Fr(t,e){if(t){const t=e>>1&63;return 39===t||40===t}return 6===(31&e)}function Br(t,e,n,r){const i=Ur(t);let o=0;o+=e;let a=0,s=0,l=0;for(;o<i.length;){a=0;do{if(o>=i.length)break;l=i[o++],a+=l}while(255===l);s=0;do{if(o>=i.length)break;l=i[o++],s+=l}while(255===l);const t=i.length-o;let e=o;if(s<t)o+=s;else if(s>t){Tn.error(`Malformed SEI payload. ${s} is too small, only ${t} bytes left to parse.`);break}if(4===a){if(181===i[e++]){const t=Er(i,e);if(e+=2,49===t){const t=_r(i,e);if(e+=4,1195456820===t){const t=i[e++];if(3===t){const o=i[e++],s=31&o,l=64&o,c=l?2+3*s:0,u=new Uint8Array(c);if(l){u[0]=o;for(let t=1;t<c;t++)u[t]=i[e++]}r.push({type:t,payloadType:a,pts:n,bytes:u})}}}}}else if(5===a&&s>16){const t=[];for(let n=0;n<16;n++){const r=i[e++].toString(16);t.push(1==r.length?"0"+r:r),3!==n&&5!==n&&7!==n&&9!==n||t.push("-")}const o=s-16,l=new Uint8Array(o);for(let n=0;n<o;n++)l[n]=i[e++];r.push({payloadType:a,pts:n,uuid:t.join(""),userData:fr(l),userDataBytes:l})}}}function Ur(t){const e=t.byteLength,n=[];let r=1;for(;r<e-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;const i=e-n.length,o=new Uint8Array(i);let a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=t[a];return o}function jr(t,e,n){if(16!==t.byteLength)throw new RangeError("Invalid system id");let r,i,o;if(e){r=1,i=new Uint8Array(16*e.length);for(let t=0;t<e.length;t++){const n=e[t];if(16!==n.byteLength)throw new RangeError("Invalid key");i.set(n,16*t)}}else r=0,i=new Uint8Array;r>0?(o=new Uint8Array(4),e.length>0&&new DataView(o.buffer).setUint32(0,e.length,!1)):o=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),function(t,...e){const n=e.length;let r=8,i=n;for(;i--;)r+=e[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=255&r,o.set(t,4),i=0,r=8;i<n;i++)o.set(e[i],r),r+=e[i].byteLength;return o}([112,115,115,104],new Uint8Array([r,0,0,0]),t,o,i,a,n||new Uint8Array)}let $r={};class Gr{static clearKeyUriToKeyIdMap(){$r={}}constructor(t,e,n,r=[1],i=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=e,this.keyFormat=n,this.keyFormatVersions=r,this.iv=i,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&"AES-128"!==t}isSupported(){if(this.method){if("AES-128"===this.method||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method;switch(this.keyFormat){case Hn:case Vn:case Kn:case Gn:return-1!==["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)}}return!1}getDecryptData(t){if(!this.encrypted||!this.uri)return null;if("AES-128"===this.method&&this.uri&&!this.iv){"number"!==typeof t&&("AES-128"!==this.method||this.iv||Tn.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),t=0);const e=function(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}(t);return new Gr(this.method,this.uri,"identity",this.keyFormatVersions,e)}const e=Bn(this.uri);if(e)switch(this.keyFormat){case Vn:this.pssh=e,e.length>=22&&(this.keyId=e.subarray(e.length-22,e.length-6));break;case Kn:{const t=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=jr(t,null,e);const n=new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),r=String.fromCharCode.apply(null,Array.from(n)),i=r.substring(r.indexOf("<"),r.length),o=(new DOMParser).parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(o){const t=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(t){const e=Fn(t).subarray(0,16);!function(t){const e=function(t,e,n){const r=t[e];t[e]=t[n],t[n]=r};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}(e),this.keyId=e}}break}default:{let t=e.subarray(0,16);if(16!==t.length){const e=new Uint8Array(16);e.set(t,16-t.length),t=e}this.keyId=t;break}}if(!this.keyId||16!==this.keyId.byteLength){let t=$r[this.uri];if(!t){const e=Object.keys($r).length%Number.MAX_SAFE_INTEGER;t=new Uint8Array(16);new DataView(t.buffer,12,4).setUint32(0,e),$r[this.uri]=t}this.keyId=t}return this}}const Hr=/\{\$([a-zA-Z0-9-_]+)\}/g;function Kr(t){return Hr.test(t)}function Vr(t,e,n){if(null!==t.variableList||t.hasVariableRefs)for(let r=n.length;r--;){const i=n[r],o=e[i];o&&(e[i]=zr(t,o))}}function zr(t,e){if(null!==t.variableList||t.hasVariableRefs){const n=t.variableList;return e.replace(Hr,(e=>{const r=e.substring(2,e.length-1),i=null==n?void 0:n[r];return void 0===i?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),e):i}))}return e}function Zr(t,e,n){let r,i,o=t.variableList;if(o||(t.variableList=o={}),"QUERYPARAM"in e){r=e.QUERYPARAM;try{const t=new self.URL(n).searchParams;if(!t.has(r))throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`);i=t.get(r)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else r=e.NAME,i=e.VALUE;r in o?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):o[r]=i||""}function qr(t,e,n){const r=e.IMPORT;if(n&&r in n){let e=t.variableList;e||(t.variableList=e={}),e[r]=n[r]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function Wr(t=!0){if("undefined"===typeof self)return;return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}const Yr={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Xr(t,e,n=!0){return!t.split(",").some((t=>!Qr(t,e,n)))}function Qr(t,e,n=!0){var r;const i=Wr(n);return null!=(r=null==i?void 0:i.isTypeSupported(Jr(t,e)))&&r}function Jr(t,e){return`${e}/mp4;codecs="${t}"`}function ti(t){if(t){const e=t.substring(0,4);return Yr.video[e]}return 2}function ei(t){return t.split(",").reduce(((t,e)=>{const n=Yr.video[e];return n?(2*n+t)/(t?3:2):(Yr.audio[e]+t)/(t?2:1)}),0)}const ni={};const ri=/flac|opus/i;function ii(t,e=!0){return t.replace(ri,(t=>function(t,e=!0){if(ni[t])return ni[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let r=0;r<n.length;r++)if(Qr(n[r],"audio",e))return ni[t]=n[r],n[r];return t}(t.toLowerCase(),e)))}function oi(t,e){return t&&"mp4a"!==t?t:e}const ai=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,si=/#EXT-X-MEDIA:(.*)/g,li=/^#EXT(?:INF|-X-TARGETDURATION):/m,ci=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),ui=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class di{static findGroup(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.id===e)return r}}static resolve(t,e){return sn.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}static isMediaPlaylist(t){return li.test(t)}static parseMasterPlaylist(t,e){const n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:Kr(t)},r=[];let i;for(ai.lastIndex=0;null!=(i=ai.exec(t));)if(i[1]){var o;const t=new Ln(i[1]);Vr(n,t,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const a=zr(n,i[2]),s={attrs:t,bitrate:t.decimalInteger("BANDWIDTH")||t.decimalInteger("AVERAGE-BANDWIDTH"),name:t.NAME,url:di.resolve(a,e)},l=t.decimalResolution("RESOLUTION");l&&(s.width=l.width,s.height=l.height),pi(t.CODECS,s),null!=(o=s.unknownCodecs)&&o.length||r.push(s),n.levels.push(s)}else if(i[3]){const t=i[3],r=i[4];switch(t){case"SESSION-DATA":{const t=new Ln(r);Vr(n,t,["DATA-ID","LANGUAGE","VALUE","URI"]);const e=t["DATA-ID"];e&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[e]=t);break}case"SESSION-KEY":{const t=hi(r,e,n);t.encrypted&&t.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(t)):Tn.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${r}"`);break}case"DEFINE":{const t=new Ln(r);Vr(n,t,["NAME","VALUE","QUERYPARAM"]),Zr(n,t,e)}break;case"CONTENT-STEERING":{const t=new Ln(r);Vr(n,t,["SERVER-URI","PATHWAY-ID"]),n.contentSteering={uri:di.resolve(t["SERVER-URI"],e),pathwayId:t["PATHWAY-ID"]||"."};break}case"START":n.startTimeOffset=fi(r)}}const a=r.length>0&&r.length<n.levels.length;return n.levels=a?r:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n}static parseMasterPlaylistMedia(t,e,n){let r;const i={},o=n.levels,a={AUDIO:o.map((t=>({id:t.attrs.AUDIO,audioCodec:t.audioCodec}))),SUBTITLES:o.map((t=>({id:t.attrs.SUBTITLES,textCodec:t.textCodec}))),"CLOSED-CAPTIONS":[]};let s=0;for(si.lastIndex=0;null!==(r=si.exec(t));){const t=new Ln(r[1]),o=t.TYPE;if(o){const r=a[o],l=i[o]||[];i[o]=l,Vr(n,t,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const c=t.LANGUAGE,u=t["ASSOC-LANGUAGE"],d=t.CHANNELS,h=t.CHARACTERISTICS,f=t["INSTREAM-ID"],p={attrs:t,bitrate:0,id:s++,groupId:t["GROUP-ID"]||"",name:t.NAME||c||"",type:o,default:t.bool("DEFAULT"),autoselect:t.bool("AUTOSELECT"),forced:t.bool("FORCED"),lang:c,url:t.URI?di.resolve(t.URI,e):""};if(u&&(p.assocLang=u),d&&(p.channels=d),h&&(p.characteristics=h),f&&(p.instreamId=f),null!=r&&r.length){const t=di.findGroup(r,p.groupId)||r[0];gi(p,t,"audioCodec"),gi(p,t,"textCodec")}l.push(p)}}return i}static parseLevelPlaylist(t,e,n,r,i,o){const a=new Mn(e),s=a.fragments;let l,c,u,d=null,h=0,f=0,p=0,g=0,m=null,v=new Nn(r,e),y=-1,b=!1,w=null;for(ci.lastIndex=0,a.m3u8=t,a.hasVariableRefs=Kr(t);null!==(l=ci.exec(t));){b&&(b=!1,v=new Nn(r,e),v.start=p,v.sn=h,v.cc=g,v.level=n,d&&(v.initSegment=d,v.rawProgramDateTime=d.rawProgramDateTime,d.rawProgramDateTime=null,w&&(v.setByteRange(w),w=null)));const t=l[1];if(t){v.duration=parseFloat(t);const e=(" "+l[2]).slice(1);v.title=e||null,v.tagList.push(e?["INF",t,e]:["INF",t])}else if(l[3]){if(fn(v.duration)){v.start=p,u&&yi(v,u,a),v.sn=h,v.level=n,v.cc=g,s.push(v);const t=(" "+l[3]).slice(1);v.relurl=zr(a,t),mi(v,m),m=v,p+=v.duration,h++,f=0,b=!0}}else if(l[4]){const t=(" "+l[4]).slice(1);m?v.setByteRange(t,m):v.setByteRange(t)}else if(l[5])v.rawProgramDateTime=(" "+l[5]).slice(1),v.tagList.push(["PROGRAM-DATE-TIME",v.rawProgramDateTime]),-1===y&&(y=s.length);else{if(l=l[0].match(ui),!l){Tn.warn("No matches on slow regex match for level playlist!");continue}for(c=1;c<l.length&&"undefined"===typeof l[c];c++);const t=(" "+l[c]).slice(1),i=(" "+l[c+1]).slice(1),p=l[c+2]?(" "+l[c+2]).slice(1):"";switch(t){case"PLAYLIST-TYPE":a.type=i.toUpperCase();break;case"MEDIA-SEQUENCE":h=a.startSN=parseInt(i);break;case"SKIP":{const t=new Ln(i);Vr(a,t,["RECENTLY-REMOVED-DATERANGES"]);const e=t.decimalInteger("SKIPPED-SEGMENTS");if(fn(e)){a.skippedSegments=e;for(let t=e;t--;)s.unshift(null);h+=e}const n=t.enumeratedString("RECENTLY-REMOVED-DATERANGES");n&&(a.recentlyRemovedDateranges=n.split("\t"));break}case"TARGETDURATION":a.targetduration=Math.max(parseInt(i),1);break;case"VERSION":a.version=parseInt(i);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":a.live=!1;break;case"#":(i||p)&&v.tagList.push(p?[i,p]:[i]);break;case"DISCONTINUITY":g++,v.tagList.push(["DIS"]);break;case"GAP":v.gap=!0,v.tagList.push([t]);break;case"BITRATE":v.tagList.push([t,i]);break;case"DATERANGE":{const t=new Ln(i);Vr(a,t,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Vr(a,t,t.clientAttrs);const e=new An(t,a.dateRanges[t.ID]);e.isValid||a.skippedSegments?a.dateRanges[e.id]=e:Tn.warn(`Ignoring invalid DATERANGE tag: "${i}"`),v.tagList.push(["EXT-X-DATERANGE",i]);break}case"DEFINE":{const t=new Ln(i);Vr(a,t,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in t?qr(a,t,o):Zr(a,t,e)}break;case"DISCONTINUITY-SEQUENCE":g=parseInt(i);break;case"KEY":{const t=hi(i,e,a);if(t.isSupported()){if("NONE"===t.method){u=void 0;break}u||(u={}),u[t.keyFormat]&&(u=hn({},u)),u[t.keyFormat]=t}else Tn.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${i}"`);break}case"START":a.startTimeOffset=fi(i);break;case"MAP":{const t=new Ln(i);if(Vr(a,t,["BYTERANGE","URI"]),v.duration){const i=new Nn(r,e);vi(i,t,n,u),d=i,v.initSegment=d,d.rawProgramDateTime&&!v.rawProgramDateTime&&(v.rawProgramDateTime=d.rawProgramDateTime)}else{const e=v.byteRangeEndOffset;if(e){const t=v.byteRangeStartOffset;w=`${e-t}@${t}`}else w=null;vi(v,t,n,u),d=v,b=!0}break}case"SERVER-CONTROL":{const t=new Ln(i);a.canBlockReload=t.bool("CAN-BLOCK-RELOAD"),a.canSkipUntil=t.optionalFloat("CAN-SKIP-UNTIL",0),a.canSkipDateRanges=a.canSkipUntil>0&&t.bool("CAN-SKIP-DATERANGES"),a.partHoldBack=t.optionalFloat("PART-HOLD-BACK",0),a.holdBack=t.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const t=new Ln(i);a.partTarget=t.decimalFloatingPoint("PART-TARGET");break}case"PART":{let t=a.partList;t||(t=a.partList=[]);const n=f>0?t[t.length-1]:void 0,r=f++,o=new Ln(i);Vr(a,o,["BYTERANGE","URI"]);const s=new Pn(o,v,e,r,n);t.push(s),v.duration+=s.duration;break}case"PRELOAD-HINT":{const t=new Ln(i);Vr(a,t,["URI"]),a.preloadHint=t;break}case"RENDITION-REPORT":{const t=new Ln(i);Vr(a,t,["URI"]),a.renditionReports=a.renditionReports||[],a.renditionReports.push(t);break}default:Tn.warn(`line parsed but not handled: ${l}`)}}}m&&!m.relurl?(s.pop(),p-=m.duration,a.partList&&(a.fragmentHint=m)):a.partList&&(mi(v,m),v.cc=g,a.fragmentHint=v,u&&yi(v,u,a));const E=s.length,_=s[0],T=s[E-1];if(p+=a.skippedSegments*a.targetduration,p>0&&E&&T){a.averagetargetduration=p/E;const t=T.sn;a.endSN="initSegment"!==t?t:0,a.live||(T.endList=!0),_&&(a.startCC=_.cc)}else a.endSN=0,a.startCC=0;return a.fragmentHint&&(p+=a.fragmentHint.duration),a.totalduration=p,a.endCC=g,y>0&&function(t,e){let n=t[e];for(let r=e;r--;){const e=t[r];if(!e)return;e.programDateTime=n.programDateTime-1e3*e.duration,n=e}}(s,y),a}}function hi(t,e,n){var r,i;const o=new Ln(t);Vr(n,o,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=null!=(r=o.METHOD)?r:"",s=o.URI,l=o.hexadecimalInteger("IV"),c=o.KEYFORMATVERSIONS,u=null!=(i=o.KEYFORMAT)?i:"identity";s&&o.IV&&!l&&Tn.error(`Invalid IV: ${o.IV}`);const d=s?di.resolve(s,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new Gr(a,d,u,h,l)}function fi(t){const e=new Ln(t).decimalFloatingPoint("TIME-OFFSET");return fn(e)?e:null}function pi(t,e){let n=(t||"").split(/[ ,]+/).filter((t=>t));["video","audio","text"].forEach((t=>{const r=n.filter((e=>function(t,e){const n=Yr[e];return!!n&&!!n[t.slice(0,4)]}(e,t)));r.length&&(e[`${t}Codec`]=r.join(","),n=n.filter((t=>-1===r.indexOf(t))))})),e.unknownCodecs=n}function gi(t,e,n){const r=e[n];r&&(t[n]=r)}function mi(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):null!=e&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),fn(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function vi(t,e,n,r){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",r&&(t.levelkeys=r),t.initSegment=null}function yi(t,e,n){t.levelkeys=e;const{encryptedFragments:r}=n;r.length&&r[r.length-1].levelkeys===e||!Object.keys(e).some((t=>e[t].isCommonEncryption))||r.push(t)}var bi="manifest",wi="level",Ei="audioTrack",_i="subtitleTrack",Ti="main",xi="audio",Si="subtitle";function Li(t){const{type:e}=t;switch(e){case Ei:return xi;case _i:return Si;default:return Ti}}function ki(t,e){let n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n}class Ai{constructor(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=t,this.registerListeners()}startLoad(t){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:t}=this;t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.LEVEL_LOADING,this.onLevelLoading,this),t.on(mn.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(mn.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:t}=this;t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.LEVEL_LOADING,this.onLevelLoading,this),t.off(mn.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(mn.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(t){const e=this.hls.config,n=e.pLoader,r=e.loader,i=new(n||r)(e);return this.loaders[t.type]=i,i}getInternalLoader(t){return this.loaders[t.type]}resetInternalLoader(t){this.loaders[t]&&delete this.loaders[t]}destroyInternalLoaders(){for(const t in this.loaders){const e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(t,e){const{url:n}=e;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:bi,url:n,deliveryDirectives:null})}onLevelLoading(t,e){const{id:n,level:r,pathwayId:i,url:o,deliveryDirectives:a}=e;this.load({id:n,level:r,pathwayId:i,responseType:"text",type:wi,url:o,deliveryDirectives:a})}onAudioTrackLoading(t,e){const{id:n,groupId:r,url:i,deliveryDirectives:o}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:Ei,url:i,deliveryDirectives:o})}onSubtitleTrackLoading(t,e){const{id:n,groupId:r,url:i,deliveryDirectives:o}=e;this.load({id:n,groupId:r,level:null,responseType:"text",type:_i,url:i,deliveryDirectives:o})}load(t){var e;const n=this.hls.config;let r,i=this.getInternalLoader(t);if(i){const e=i.context;if(e&&e.url===t.url&&e.level===t.level)return void Tn.trace("[playlist-loader]: playlist request ongoing");Tn.log(`[playlist-loader]: aborting previous loader for type: ${t.type}`),i.abort()}if(r=t.type===bi?n.manifestLoadPolicy.default:hn({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(t),fn(null==(e=t.deliveryDirectives)?void 0:e.part)){let e;if(t.type===wi&&null!==t.level?e=this.hls.levels[t.level].details:t.type===Ei&&null!==t.id?e=this.hls.audioTracks[t.id].details:t.type===_i&&null!==t.id&&(e=this.hls.subtitleTracks[t.id].details),e){const t=e.partTarget,n=e.targetduration;if(t&&n){const e=1e3*Math.max(3*t,.8*n);r=hn({},r,{maxTimeToFirstByteMs:Math.min(e,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(e,r.maxTimeToFirstByteMs)})}}}const o=r.errorRetry||r.timeoutRetry||{},a={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},s={onSuccess:(t,e,n,r)=>{const i=this.getInternalLoader(n);this.resetInternalLoader(n.type);const o=t.data;0===o.indexOf("#EXTM3U")?(e.parsing.start=performance.now(),di.isMediaPlaylist(o)?this.handleTrackOrLevelPlaylist(t,e,n,r||null,i):this.handleMasterPlaylist(t,e,n,r)):this.handleManifestParsingError(t,n,new Error("no EXTM3U delimiter"),r||null,e)},onError:(t,e,n,r)=>{this.handleNetworkError(e,n,!1,t,r)},onTimeout:(t,e,n)=>{this.handleNetworkError(e,n,!0,void 0,t)}};i.load(t,a,s)}handleMasterPlaylist(t,e,n,r){const i=this.hls,o=t.data,a=ki(t,n),s=di.parseMasterPlaylist(o,a);if(s.playlistParsingError)return void this.handleManifestParsingError(t,n,s.playlistParsingError,r,e);const{contentSteering:l,levels:c,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f}=s;this.variableList=f;const{AUDIO:p=[],SUBTITLES:g,"CLOSED-CAPTIONS":m}=di.parseMasterPlaylistMedia(o,a,s);if(p.length){p.some((t=>!t.url))||!c[0].audioCodec||c[0].attrs.AUDIO||(Tn.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new Ln({}),bitrate:0,url:""}))}i.trigger(mn.MANIFEST_LOADED,{levels:c,audioTracks:p,subtitles:g,captions:m,contentSteering:l,url:a,stats:e,networkDetails:r,sessionData:u,sessionKeys:d,startTimeOffset:h,variableList:f})}handleTrackOrLevelPlaylist(t,e,n,r,i){const o=this.hls,{id:a,level:s,type:l}=n,c=ki(t,n),u=fn(s)?s:fn(a)?a:0,d=Li(n),h=di.parseLevelPlaylist(t.data,c,u,d,0,this.variableList);if(l===bi){const t={attrs:new Ln({}),bitrate:0,details:h,name:"",url:c};o.trigger(mn.MANIFEST_LOADED,{levels:[t],audioTracks:[],url:c,stats:e,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}e.parsing.end=performance.now(),n.levelDetails=h,this.handlePlaylistLoaded(h,t,e,n,r,i)}handleManifestParsingError(t,e,n,r,i){this.hls.trigger(mn.ERROR,{type:vn.NETWORK_ERROR,details:yn.MANIFEST_PARSING_ERROR,fatal:e.type===bi,url:t.url,err:n,error:n,reason:n.message,response:t,context:e,networkDetails:r,stats:i})}handleNetworkError(t,e,n=!1,r,i){let o=`A network ${n?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${t.type}`;t.type===wi?o+=`: ${t.level} id: ${t.id}`:t.type!==Ei&&t.type!==_i||(o+=` id: ${t.id} group-id: "${t.groupId}"`);const a=new Error(o);Tn.warn(`[playlist-loader]: ${o}`);let s=yn.UNKNOWN,l=!1;const c=this.getInternalLoader(t);switch(t.type){case bi:s=n?yn.MANIFEST_LOAD_TIMEOUT:yn.MANIFEST_LOAD_ERROR,l=!0;break;case wi:s=n?yn.LEVEL_LOAD_TIMEOUT:yn.LEVEL_LOAD_ERROR,l=!1;break;case Ei:s=n?yn.AUDIO_TRACK_LOAD_TIMEOUT:yn.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case _i:s=n?yn.SUBTITLE_TRACK_LOAD_TIMEOUT:yn.SUBTITLE_LOAD_ERROR,l=!1}c&&this.resetInternalLoader(t.type);const u={type:vn.NETWORK_ERROR,details:s,fatal:l,url:t.url,loader:c,context:t,error:a,networkDetails:e,stats:i};if(r){const n=(null==e?void 0:e.url)||t.url;u.response=cn({url:n,data:void 0},r)}this.hls.trigger(mn.ERROR,u)}handlePlaylistLoaded(t,e,n,r,i,o){const a=this.hls,{type:s,level:l,id:c,groupId:u,deliveryDirectives:d}=r,h=ki(e,r),f=Li(r),p="number"===typeof r.level&&f===Ti?l:void 0;if(!t.fragments.length){const t=new Error("No Segments found in Playlist");return void a.trigger(mn.ERROR,{type:vn.NETWORK_ERROR,details:yn.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:t,reason:t.message,response:e,context:r,level:p,parent:f,networkDetails:i,stats:n})}t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));const g=t.playlistParsingError;if(g)a.trigger(mn.ERROR,{type:vn.NETWORK_ERROR,details:yn.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:e,context:r,level:p,parent:f,networkDetails:i,stats:n});else switch(t.live&&o&&(o.getCacheAge&&(t.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),s){case bi:case wi:a.trigger(mn.LEVEL_LOADED,{details:t,level:p||0,id:c||0,stats:n,networkDetails:i,deliveryDirectives:d});break;case Ei:a.trigger(mn.AUDIO_TRACK_LOADED,{details:t,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d});break;case _i:a.trigger(mn.SUBTITLE_TRACK_LOADED,{details:t,id:c||0,groupId:u||"",stats:n,networkDetails:i,deliveryDirectives:d})}}}function Oi(t,e){let n;try{n=new Event("addtrack")}catch(r){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function Ri(t,e){const n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){Tn.debug(`[texttrack-utils]: ${r}`);try{const n=new self.TextTrackCue(e.startTime,e.endTime,e.text);n.id=e.id,t.addCue(n)}catch(i){Tn.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}"disabled"===n&&(t.mode=n)}function Ci(t){const e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);"disabled"===e&&(t.mode=e)}function Ii(t,e,n,r){const i=t.mode;if("disabled"===i&&(t.mode="hidden"),t.cues&&t.cues.length>0){const i=function(t,e,n){const r=[],i=function(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let r=0,i=n;for(;r<=i;){const o=Math.floor((i+r)/2);if(e<t[o].startTime)i=o-1;else{if(!(e>t[o].startTime&&r<n))return o;r=o+1}}return t[r].startTime-e<e-t[i].startTime?r:i}(t,e);if(i>-1)for(let o=i,a=t.length;o<a;o++){const i=t[o];if(i.startTime>=e&&i.endTime<=n)r.push(i);else if(i.startTime>n)return r}return r}(t.cues,e,n);for(let e=0;e<i.length;e++)r&&!r(i[e])||t.removeCue(i[e])}"disabled"===i&&(t.mode=i)}function Di(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];"subtitles"!==r.kind&&"captions"!==r.kind||!r.label||e.push(t[n])}return e}var Ni="org.id3",Pi="com.apple.quicktime.HLS",Mi="https://aomedia.org/emsg/ID3";function Fi(){if("undefined"!==typeof self)return self.VTTCue||self.TextTrackCue}function Bi(t,e,n,r,i){let o=new t(e,n,"");try{o.value=r,i&&(o.type=i)}catch(a){o=new t(e,n,JSON.stringify(i?cn({type:i},r):r))}return o}const Ui=(()=>{const t=Fi();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(e){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function ji(t,e){return t.getTime()/1e3-e}class $i{constructor(t){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=t,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(t,e){this.media=e.media}onMediaDetaching(){this.id3Track&&(Ci(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(t){const e=this.getID3Track(t.textTracks);return e.mode="hidden",e}getID3Track(t){if(this.media){for(let e=0;e<t.length;e++){const n=t[e];if("metadata"===n.kind&&"id3"===n.label)return Oi(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(t,e){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:r}}}=this;if(!n&&!r)return;const{samples:i}=e;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=Fi();if(o)for(let a=0;a<i.length;a++){const t=i[a].type;if(t===Mi&&!n||!r)continue;const e=sr(i[a].data);if(e){const n=i[a].pts;let r=n+i[a].duration;r>Ui&&(r=Ui);r-n<=0&&(r=n+.25);for(let i=0;i<e.length;i++){const a=e[i];if(!or(a)){this.updateId3CueEnds(n,t);const e=Bi(o,n,r,a,t);e&&this.id3Track.addCue(e)}}}}}updateId3CueEnds(t,e){var n;const r=null==(n=this.id3Track)?void 0:n.cues;if(r)for(let i=r.length;i--;){const n=r[i];n.type===e&&n.startTime<t&&n.endTime===Ui&&(n.endTime=t)}}onBufferFlushing(t,{startOffset:e,endOffset:n,type:r}){const{id3Track:i,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:a,enableID3MetadataCues:s}}=o;if(i&&(a||s)){let t;t="audio"===r?t=>t.type===Ni&&s:"video"===r?t=>t.type===Mi&&a:t=>t.type===Ni&&s||t.type===Mi&&a,Ii(i,e,n,t)}}onLevelUpdated(t,{details:e}){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:r}=this,{dateRanges:i}=e,o=Object.keys(i);if(r){const t=Object.keys(n).filter((t=>!o.includes(t)));for(let e=t.length;e--;){const i=t[e];Object.keys(n[i].cues).forEach((t=>{r.removeCue(n[i].cues[t])})),delete n[i]}}const a=e.fragments[e.fragments.length-1];if(0===o.length||!fn(null==a?void 0:a.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=a.programDateTime/1e3-a.start,l=Fi();for(let d=0;d<o.length;d++){const t=o[d],e=i[t],r=ji(e.startDate,s),a=n[t],h=(null==a?void 0:a.cues)||{};let f=(null==a?void 0:a.durationKnown)||!1,p=Ui;const g=e.endDate;if(g)p=ji(g,s),f=!0;else if(e.endOnNext&&!f){const t=o.reduce(((t,n)=>{if(n!==e.id){const r=i[n];if(r.class===e.class&&r.startDate>e.startDate&&(!t||e.startDate<t.startDate))return r}return t}),null);t&&(p=ji(t.startDate,s),f=!0)}const m=Object.keys(e.attr);for(let n=0;n<m.length;n++){const i=m[n];if("ID"===(u=i)||"CLASS"===u||"START-DATE"===u||"DURATION"===u||"END-DATE"===u||"END-ON-NEXT"===u)continue;const o=h[i];if(o)f&&!a.durationKnown&&(o.endTime=p);else if(l){let n=e.attr[i];kn(i)&&(c=n,n=Uint8Array.from(c.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer);const o=Bi(l,r,p,{key:i,data:n},Pi);o&&(o.id=t,this.id3Track.addCue(o),h[i]=o)}}n[t]={cues:h,dateRange:e,durationKnown:f}}var c,u}}class Gi{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=t,this.config=t.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:t,levelDetails:e}=this;return void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:e?t.liveMaxLatencyDurationCount*e.targetduration:0}get targetLatency(){const{levelDetails:t}=this;if(null===t)return null;const{holdBack:e,partHoldBack:n,targetduration:r}=t,{liveSyncDuration:i,liveSyncDurationCount:o,lowLatencyMode:a}=this.config,s=this.hls.userConfig;let l=a&&n||e;(s.liveSyncDuration||s.liveSyncDurationCount||0===l)&&(l=void 0!==i?i:o*r);const c=r;return l+Math.min(1*this.stallCount,c)}get liveSyncPosition(){const t=this.estimateLiveEdge(),e=this.targetLatency,n=this.levelDetails;if(null===t||null===e||null===n)return null;const r=n.edge,i=t-e-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}get drift(){const{levelDetails:t}=this;return null===t?1:t.drift}get edgeStalled(){const{levelDetails:t}=this;if(null===t)return 0;const e=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-e,0)}get forwardBufferLength(){const{media:t,levelDetails:e}=this;if(!t||!e)return 0;const n=t.buffered.length;return(n?t.buffered.end(n-1):e.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(mn.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(mn.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(t,{details:e}){this.levelDetails=e,e.advanced&&this.timeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(t,e){var n;e.details===yn.BUFFER_STALLED_ERROR&&(this.stallCount++,null!=(n=this.levelDetails)&&n.live&&Tn.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:t,levelDetails:e}=this;if(!t||!e)return;this.currentTime=t.currentTime;const n=this.computeLatency();if(null===n)return;this._latency=n;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:i}=this.config;if(!r||1===i||!e.live)return;const o=this.targetLatency;if(null===o)return;const a=n-o;if(a<Math.min(this.maxLatency,o+e.targetduration)&&a>.05&&this.forwardBufferLength>1){const e=Math.min(2,Math.max(1,i)),n=Math.round(2/(1+Math.exp(-.75*a-this.edgeStalled))*20)/20;t.playbackRate=Math.min(e,Math.max(1,n))}else 1!==t.playbackRate&&0!==t.playbackRate&&(t.playbackRate=1)}estimateLiveEdge(){const{levelDetails:t}=this;return null===t?null:t.edge+t.age}computeLatency(){const t=this.estimateLiveEdge();return null===t?null:t-this.currentTime}}const Hi=["NONE","TYPE-0","TYPE-1",null];const Ki=["SDR","PQ","HLG"];var Vi="",zi="YES",Zi="v2";class qi{constructor(t,e,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=e,this.skip=n}addDirectives(t){const e=new self.URL(t);return void 0!==this.msn&&e.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&e.searchParams.set("_HLS_part",this.part.toString()),this.skip&&e.searchParams.set("_HLS_skip",this.skip),e.href}}class Wi{constructor(t){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[t.url],this._attrs=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((t=>!!t)).map((t=>t.substring(0,4))).join(","),this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(t){return Yi(this._audioGroups,t)}hasSubtitleGroup(t){return Yi(this._subtitleGroups,t)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(t,e){if(e)if("audio"===t){let t=this._audioGroups;t||(t=this._audioGroups=[]),-1===t.indexOf(e)&&t.push(e)}else if("text"===t){let t=this._subtitleGroups;t||(t=this._subtitleGroups=[]),-1===t.indexOf(e)&&t.push(e)}}get urlId(){return 0}set urlId(t){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var t;return null==(t=this.audioGroups)?void 0:t[0]}get textGroupId(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}addFallback(){}}function Yi(t,e){return!(!e||!t)&&-1!==t.indexOf(e)}function Xi(t,e){const n=e.startPTS;if(fn(n)){let r,i=0;e.sn>t.sn?(i=n-t.start,r=t):(i=t.start-n,r=e),r.duration!==i&&(r.duration=i)}else if(e.sn>t.sn){t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration}else e.start=Math.max(t.start-e.duration,0)}function Qi(t,e,n,r,i,o){r-n<=0&&(Tn.warn("Fragment should have a positive duration",e),r=n+e.duration,o=i+e.duration);let a=n,s=r;const l=e.startPTS,c=e.endPTS;if(fn(l)){const t=Math.abs(l-n);fn(e.deltaPTS)?e.deltaPTS=Math.max(t,e.deltaPTS):e.deltaPTS=t,a=Math.max(n,l),n=Math.min(n,l),i=Math.min(i,e.startDTS),s=Math.min(r,c),r=Math.max(r,c),o=Math.max(o,e.endDTS)}const u=n-e.start;0!==e.start&&(e.start=n),e.duration=r-e.start,e.startPTS=n,e.maxStartPTS=a,e.startDTS=i,e.endPTS=r,e.minEndPTS=s,e.endDTS=o;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let h;const f=d-t.startSN,p=t.fragments;for(p[f]=e,h=f;h>0;h--)Xi(p[h],p[h-1]);for(h=f;h<p.length-1;h++)Xi(p[h],p[h+1]);return t.fragmentHint&&Xi(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,u}function Ji(t,e){let n=null;const r=t.fragments;for(let l=r.length-1;l>=0;l--){const t=r[l].initSegment;if(t){n=t;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i,o=0;if(function(t,e,n){const r=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,o=(t.fragmentHint?1:0)+(r?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,s=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=i;c<=o;c++){const t=l[a+c];let i=s[c];r&&!i&&c<r&&(i=e.fragments[c]=t),t&&i&&n(t,i)}}(t,e,((t,r)=>{t.relurl&&(o=t.cc-r.cc),fn(t.startPTS)&&fn(t.endPTS)&&(r.start=r.startPTS=t.startPTS,r.startDTS=t.startDTS,r.maxStartPTS=t.maxStartPTS,r.endPTS=t.endPTS,r.endDTS=t.endDTS,r.minEndPTS=t.minEndPTS,r.duration=t.endPTS-t.startPTS,r.duration&&(i=r),e.PTSKnown=e.alignedSliding=!0),r.elementaryStreams=t.elementaryStreams,r.loader=t.loader,r.stats=t.stats,t.initSegment&&(r.initSegment=t.initSegment,n=t.initSegment)})),n){(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach((t=>{var e;!t||t.initSegment&&t.initSegment.relurl!==(null==(e=n)?void 0:e.relurl)||(t.initSegment=n)}))}if(e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some((t=>!t)),e.deltaUpdateFailed){Tn.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let t=e.skippedSegments;t--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=function(t,e,n){const r=hn({},t);n&&n.forEach((t=>{delete r[t]}));return Object.keys(e).forEach((t=>{const n=new An(e[t].attr,r[t]);n.isValid?r[t]=n:Tn.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[t].attr)}"`)})),r}(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(o){Tn.warn("discontinuity sliding from playlist, take drift into account");for(let t=0;t<a.length;t++)a[t].cc+=o}e.skippedSegments&&(e.startCC=e.fragments[0].cc),function(t,e,n){if(t&&e){let r=0;for(let i=0,o=t.length;i<=o;i++){const o=t[i],a=e[i+r];o&&a&&o.index===a.index&&o.fragment.sn===a.fragment.sn?n(o,a):r--}}}(t.partList,e.partList,((t,e)=>{e.elementaryStreams=t.elementaryStreams,e.stats=t.stats})),i?Qi(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):to(t,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const s=e.advancedDateTime;if(e.advanced&&s){const t=e.edge;e.driftStart||(e.driftStartTime=s,e.driftStart=t),e.driftEndTime=s,e.driftEnd=t}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function to(t,e){const n=e.startSN+e.skippedSegments-t.startSN,r=t.fragments;n<0||n>=r.length||eo(e,r[n].start)}function eo(t,e){if(e){const n=t.fragments;for(let r=t.skippedSegments;r<n.length;r++)n[r].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function no(t,e,n){var r;return null!=t&&t.details?ro(null==(r=t.details)?void 0:r.partList,e,n):null}function ro(t,e,n){if(t)for(let r=t.length;r--;){const i=t[r];if(i.index===n&&i.fragment.sn===e)return i}return null}function io(t){t.forEach(((t,e)=>{const{details:n}=t;null!=n&&n.fragments&&n.fragments.forEach((t=>{t.level=e}))}))}function oo(t){switch(t.details){case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_TIMEOUT:case yn.LEVEL_LOAD_TIMEOUT:case yn.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function ao(t,e){const n=oo(e);return t.default[(n?"timeout":"error")+"Retry"]}function so(t,e){const n="linear"===t.backoff?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function lo(t){return cn(cn({},t),{errorRetry:null,timeoutRetry:null})}function co(t,e,n,r){if(!t)return!1;const i=null==r?void 0:r.code,o=e<t.maxNumRetry&&(function(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}(i)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,r,o):o}const uo=function(t,e){let n=0,r=t.length-1,i=null,o=null;for(;n<=r;){i=(n+r)/2|0,o=t[i];const a=e(o);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null};function ho(t,e,n=0,r=0){let i=null;if(t){i=e[t.sn-e[0].sn+1]||null;const r=t.endDTS-n;r>0&&r<15e-7&&(n+=15e-7)}else 0===n&&0===e[0].start&&(i=e[0]);if(i&&(!t||t.level===i.level)&&0===fo(n,r,i))return i;const o=uo(e,fo.bind(null,n,r));return!o||o===t&&i?i:o}function fo(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const r=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=t?1:n.start-r>t&&n.start?-1:0}function po(t,e,n){const r=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>t}var go=0,mo=2,vo=3,yo=5,bo=0,wo=1,Eo=2;class _o{constructor(t,e){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=Tn.log.bind(Tn,`${e}:`),this.warn=Tn.warn.bind(Tn,`${e}:`),this.hls=t}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(t,e){const n=null==e?void 0:e.renditionReports;if(n){let i=-1;for(let o=0;o<n.length;o++){const a=n[o];let s;try{s=new self.URL(a.URI,e.url).href}catch(r){Tn.warn(`Could not construct new URL for Rendition Report: ${r}`),s=a.URI||""}if(s===t){i=o;break}s===t.substring(0,s.length)&&(i=o)}if(-1!==i){const t=n[i],r=parseInt(t["LAST-MSN"])||(null==e?void 0:e.lastPartSn);let o=parseInt(t["LAST-PART"])||(null==e?void 0:e.lastPartIndex);if(this.hls.config.lowLatencyMode){const t=Math.min(e.age-e.partTarget,e.targetduration);o>=0&&t>e.partTarget&&(o+=1)}return new qi(r,o>=0?o:void 0,Vi)}}}loadPlaylist(t){-1===this.requestScheduled&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)}shouldReloadPlaylist(t){return-1===this.timer&&-1===this.requestScheduled&&this.shouldLoadPlaylist(t)}playlistLoaded(t,e,n){const{details:r,stats:i}=e,o=self.performance.now(),a=i.loading.first?Math.max(0,o-i.loading.first):0;if(r.advancedDateTime=Date.now()-a,r.live||null!=n&&n.live){if(r.reloaded(n),n&&this.log(`live playlist ${t} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),n&&r.fragments.length>0&&Ji(n,r),!this.canLoad||!r.live)return;let a,s,l;if(r.canBlockReload&&r.endSN&&r.advanced){const t=this.hls.config.lowLatencyMode,i=r.lastPartSn,o=r.endSN,c=r.lastPartIndex,u=i===o,d=t?0:c;-1!==c?(s=u?o+1:i,l=u?d:c+1):s=o+1;const h=r.age,f=h+r.ageHeader;let p=Math.min(f-r.partTarget,1.5*r.targetduration);if(p>0){if(n&&p>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${p} with playlist age: ${r.age}`),p=0;else{const t=Math.floor(p/r.targetduration);if(s+=t,void 0!==l){l+=Math.round(p%r.targetduration/r.partTarget)}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${h.toFixed(2)}s goal: ${p} skip sn ${t} to part ${l}`)}r.tuneInGoal=p}if(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,l),t||!u)return void this.loadPlaylist(a)}else(r.canBlockReload||r.canSkipUntil)&&(a=this.getDeliveryDirectives(r,e.deliveryDirectives,s,l));const c=this.hls.mainForwardBufferInfo,u=c?c.end-c.len:0,d=function(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const r=t.fragments,i=4;if(r.length&&n*i>e){const t=1e3*r[r.length-1].duration;t<n&&(n=t)}}else n/=2;return Math.round(n)}(r,1e3*(r.edge-u));r.updated&&o>this.requestScheduled+d&&(this.requestScheduled=i.loading.start),void 0!==s&&r.canBlockReload?this.requestScheduled=i.loading.first+d-(1e3*r.partTarget||1e3):-1===this.requestScheduled||this.requestScheduled+d<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=d);let h=this.requestScheduled-o;h=Math.max(0,h),this.log(`reload live playlist ${t} in ${Math.round(h)} ms`),this.timer=self.setTimeout((()=>this.loadPlaylist(a)),h)}else this.clearTimer()}getDeliveryDirectives(t,e,n,r){let i=function(t,e){const{canSkipUntil:n,canSkipDateRanges:r,endSN:i}=t;return n&&(void 0!==e?e-i:0)<n?r?Zi:zi:Vi}(t,n);return null!=e&&e.skip&&t.deltaUpdateFailed&&(n=e.msn,r=e.part,i=Vi),new qi(n,r,i)}checkRetry(t){const e=t.details,n=oo(t),r=t.errorAction,{action:i,retryCount:o=0,retryConfig:a}=r||{},s=!!r&&!!a&&(i===yo||!r.resolved&&i===mo);if(s){var l;if(this.requestScheduled=-1,o>=a.maxNumRetry)return!1;if(n&&null!=(l=t.context)&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${e}" without delivery-directives`),this.loadPlaylist();else{const t=so(a,o);this.timer=self.setTimeout((()=>this.loadPlaylist()),t),this.warn(`Retrying playlist loading ${o+1}/${a.maxNumRetry} after "${e}" in ${t}ms`)}t.levelRetry=!0,r.resolved=!0}return s}}class To{constructor(t,e=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=e,this.totalWeight_=n}sample(t,e){const n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_}}class xo{constructor(t,e,n,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new To(t),this.fast_=new To(e),this.defaultTTFB_=r,this.ttfb_=new To(t)}update(t,e){const{slow_:n,fast_:r,ttfb_:i}=this;n.halfLife!==t&&(this.slow_=new To(t,n.getEstimate(),n.getTotalWeight())),r.halfLife!==e&&(this.fast_=new To(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.ttfb_=new To(t,i.getEstimate(),i.getTotalWeight()))}sample(t,e){const n=(t=Math.max(t,this.minDelayMs_))/1e3,r=8*e/n;this.fast_.sample(n,r),this.slow_.sample(n,r)}sampleTTFB(t){const e=t/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(e,2)/2);this.ttfb_.sample(n,Math.max(t,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const So={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},Lo={};function ko(t,e,n,r,i,o){const a=t.audioCodec?t.audioGroups:null,s=null==o?void 0:o.audioCodec,l=null==o?void 0:o.channels,c=l?parseInt(l):s?1/0:2;let u=null;if(null!=a&&a.length)try{u=1===a.length&&a[0]?e.groups[a[0]].channels:a.reduce(((t,n)=>{if(n){const r=e.groups[n];if(!r)throw new Error(`Audio track group ${n} not found`);Object.keys(r.channels).forEach((e=>{t[e]=(t[e]||0)+r.channels[e]}))}return t}),{2:0})}catch(d){return!0}return void 0!==t.videoCodec&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(r,30)||"SDR"!==t.videoRange&&t.videoRange!==n||t.bitrate>Math.max(i,8e6))||!!u&&fn(c)&&Object.keys(u).some((t=>parseInt(t)>c))}function Ao(t,e,n){const r=t.videoCodec,i=t.audioCodec;if(!r||!i||!n)return Promise.resolve(So);const o={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;"SDR"!==a&&(o.transferFunction=a.toLowerCase());const s=r.split(",").map((t=>({type:"media-source",video:cn(cn({},o),{},{contentType:Jr(t,"video")})})));return i&&t.audioGroups&&t.audioGroups.forEach((t=>{var n;t&&(null==(n=e.groups[t])||n.tracks.forEach((e=>{if(e.groupId===t){const t=e.channels||"",n=parseFloat(t);fn(n)&&n>2&&s.push.apply(s,i.split(",").map((t=>({type:"media-source",audio:{contentType:Jr(t,"audio"),channels:""+n}}))))}})))})),Promise.all(s.map((t=>{const e=function(t){const{audio:e,video:n}=t,r=n||e;if(r){const t=r.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${t}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${t}`}return""}(t);return Lo[e]||(Lo[e]=n.decodingInfo(t))}))).then((t=>({supported:!t.some((t=>!t.supported)),configurations:s,decodingInfoResults:t}))).catch((t=>({supported:!1,configurations:s,decodingInfoResults:[],error:t})))}function Oo(t,e){let n=!1,r=[];return t&&(n="SDR"!==t,r=[t]),e&&(r=e.allowedVideoRanges||Ki.slice(0),n=void 0!==e.preferHDR?e.preferHDR:function(){if("function"===typeof matchMedia){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return!0===t.matches}return!1}(),r=n?r.filter((t=>"SDR"!==t)):["SDR"]),{preferHDR:n,allowedVideoRanges:r}}function Ro(t,e){Tn.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function Co(t,e,n){if("attrs"in t){const n=e.indexOf(t);if(-1!==n)return n}for(let r=0;r<e.length;r++){if(Io(t,e[r],n))return r}return-1}function Io(t,e,n){const{groupId:r,name:i,lang:o,assocLang:a,characteristics:s,default:l}=t,c=t.forced;return(void 0===r||e.groupId===r)&&(void 0===i||e.name===i)&&(void 0===o||e.lang===o)&&(void 0===o||e.assocLang===a)&&(void 0===l||e.default===l)&&(void 0===c||e.forced===c)&&(void 0===s||function(t,e=""){const n=t.split(","),r=e.split(",");return n.length===r.length&&!n.some((t=>-1===r.indexOf(t)))}(s,e.characteristics))&&(void 0===n||n(t,e))}function Do(t,e){const{audioCodec:n,channels:r}=t;return(void 0===n||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(void 0===r||r===(e.channels||"2"))}function No(t,e,n){for(let r=e;r;r--)if(n(t[r]))return r;for(let r=e+1;r<t.length;r++)if(n(t[r]))return r;return-1}var Po="NOT_LOADED",Mo="APPENDING",Fo="PARTIAL",Bo="OK";class Uo{constructor(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(mn.BUFFER_APPENDED,this.onBufferAppended,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.on(mn.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.BUFFER_APPENDED,this.onBufferAppended,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.off(mn.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(t,e){const n=this.activePartLists[e];if(n)for(let r=n.length;r--;){const e=n[r];if(!e)break;const i=e.end;if(e.start<=t&&null!==i&&t<=i)return e}return this.getBufferedFrag(t,e)}getBufferedFrag(t,e){const{fragments:n}=this,r=Object.keys(n);for(let i=r.length;i--;){const o=n[r[i]];if((null==o?void 0:o.body.type)===e&&o.buffered){const e=o.body;if(e.start<=t&&t<=e.end)return e}}return null}detectEvictedFragments(t,e,n,r){this.timeRanges&&(this.timeRanges[t]=e);const i=(null==r?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach((r=>{const o=this.fragments[r];if(!o)return;if(i>=o.body.sn)return;if(!o.buffered&&!o.loaded)return void(o.body.type===n&&this.removeFragment(o.body));const a=o.range[t];a&&a.time.some((t=>{const n=!this.isTimeBuffered(t.startPTS,t.endPTS,e);return n&&this.removeFragment(o.body),n}))}))}detectPartialFragments(t){const e=this.timeRanges,{frag:n,part:r}=t;if(!e||"initSegment"===n.sn)return;const i=$o(n),o=this.fragments[i];if(!o||o.buffered&&n.gap)return;const a=!n.relurl;if(Object.keys(e).forEach((t=>{const i=n.elementaryStreams[t];if(!i)return;const s=e[t],l=a||!0===i.partial;o.range[t]=this.getBufferedTimes(n,r,l,s)})),o.loaded=null,Object.keys(o.range).length){o.buffered=!0;(o.body.endList=n.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),jo(o)||this.removeParts(n.sn-1,n.type)}else this.removeFragment(o.body)}removeParts(t,e){const n=this.activePartLists[e];n&&(this.activePartLists[e]=n.filter((e=>e.fragment.sn>=t)))}fragBuffered(t,e){const n=$o(t);let r=this.fragments[n];!r&&e&&(r=this.fragments[n]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(t,e,n,r){const i={time:[],partial:n},o=t.start,a=t.end,s=t.minEndPTS||a,l=t.maxStartPTS||o;for(let c=0;c<r.length;c++){const t=r.start(c)-this.bufferPadding,e=r.end(c)+this.bufferPadding;if(l>=t&&s<=e){i.time.push({startPTS:Math.max(o,r.start(c)),endPTS:Math.min(a,r.end(c))});break}if(o<e&&a>t){const t=Math.max(o,r.start(c)),e=Math.min(a,r.end(c));e>t&&(i.partial=!0,i.time.push({startPTS:t,endPTS:e}))}else if(a<=t)break}return i}getPartialFragment(t){let e,n,r,i=null,o=0;const{bufferPadding:a,fragments:s}=this;return Object.keys(s).forEach((l=>{const c=s[l];c&&jo(c)&&(n=c.body.start-a,r=c.body.end+a,t>=n&&t<=r&&(e=Math.min(t-n,r-t),o<=e&&(i=c.body,o=e)))})),i}isEndListAppended(t){const e=this.endListFragments[t];return void 0!==e&&(e.buffered||jo(e))}getState(t){const e=$o(t),n=this.fragments[e];return n?n.buffered?jo(n)?Fo:Bo:Mo:Po}isTimeBuffered(t,e,n){let r,i;for(let o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,t>=r&&e<=i)return!0;if(e<=r)return!1}return!1}onFragLoaded(t,e){const{frag:n,part:r}=e;if("initSegment"===n.sn||n.bitrateTest)return;const i=r?null:e,o=$o(n);this.fragments[o]={body:n,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(t,e){const{frag:n,part:r,timeRanges:i}=e;if("initSegment"===n.sn)return;const o=n.type;if(r){let t=this.activePartLists[o];t||(this.activePartLists[o]=t=[]),t.push(r)}this.timeRanges=i,Object.keys(i).forEach((t=>{const e=i[t];this.detectEvictedFragments(t,e,o,r)}))}onFragBuffered(t,e){this.detectPartialFragments(e)}hasFragment(t){const e=$o(t);return!!this.fragments[e]}hasParts(t){var e;return!(null==(e=this.activePartLists[t])||!e.length)}removeFragmentsInRange(t,e,n,r,i){r&&!this.hasGaps||Object.keys(this.fragments).forEach((o=>{const a=this.fragments[o];if(!a)return;const s=a.body;s.type!==n||r&&!s.gap||s.start<e&&s.end>t&&(a.buffered||i)&&this.removeFragment(s)}))}removeFragment(t){const e=$o(t);t.stats.loaded=0,t.clearElementaryStreamInfo();const n=this.activePartLists[t.type];if(n){const e=t.sn;this.activePartLists[t.type]=n.filter((t=>t.fragment.sn!==e))}delete this.fragments[e],t.endList&&delete this.endListFragments[t.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function jo(t){var e,n,r;return t.buffered&&(t.body.gap||(null==(e=t.range.video)?void 0:e.partial)||(null==(n=t.range.audio)?void 0:n.partial)||(null==(r=t.range.audiovideo)?void 0:r.partial))}function $o(t){return`${t.type}_${t.level}_${t.sn}`}const Go={length:0,start:()=>0,end:()=>0};class Ho{static isBuffered(t,e){try{if(t){const n=Ho.getBuffered(t);for(let t=0;t<n.length;t++)if(e>=n.start(t)&&e<=n.end(t))return!0}}catch(n){}return!1}static bufferInfo(t,e,n){try{if(t){const r=Ho.getBuffered(t),i=[];let o;for(o=0;o<r.length;o++)i.push({start:r.start(o),end:r.end(o)});return this.bufferedInfo(i,e,n)}}catch(r){}return{len:0,start:e,end:e,nextStart:void 0}}static bufferedInfo(t,e,n){e=Math.max(0,e),t.sort((function(t,e){const n=t.start-e.start;return n||e.end-t.end}));let r=[];if(n)for(let l=0;l<t.length;l++){const e=r.length;if(e){const i=r[e-1].end;t[l].start-i<n?t[l].end>i&&(r[e-1].end=t[l].end):r.push(t[l])}else r.push(t[l])}else r=t;let i,o=0,a=e,s=e;for(let l=0;l<r.length;l++){const t=r[l].start,c=r[l].end;if(e+n>=t&&e<c)a=t,s=c,o=s-e;else if(e+n<t){i=t;break}}return{len:o,start:a||0,end:s||0,nextStart:i}}static getBuffered(t){try{return t.buffered}catch(e){return Tn.log("failed to get media.buffered",e),Go}}}class Ko{constructor(t,e,n,r=0,i=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=t,this.sn=e,this.id=n,this.size=r,this.part=i,this.partial=o}}function Vo(t,e){for(let r=0,i=t.length;r<i;r++){var n;if((null==(n=t[r])?void 0:n.cc)===e)return t[r]}return null}function zo(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function Zo(t,e){const n=e.fragments;for(let r=0,i=n.length;r<i;r++)zo(n[r],t);e.fragmentHint&&zo(e.fragmentHint,t),e.alignedSliding=!0}function qo(t,e,n){e&&(!function(t,e,n){if(function(t,e,n){return!(!e||!(n.endCC>n.startCC||t&&t.cc<n.startCC))}(t,n,e)){const t=function(t,e){const n=t.fragments,r=e.fragments;if(!r.length||!n.length)return void Tn.log("No fragments to align");const i=Vo(n,r[0].cc);if(i&&(!i||i.startPTS))return i;Tn.log("No frag in previous level to align on")}(n,e);t&&fn(t.start)&&(Tn.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),Zo(t.start,e))}}(t,n,e),!n.alignedSliding&&e&&Wo(n,e),n.alignedSliding||!e||n.skippedSegments||to(e,n))}function Wo(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,r=e.fragments;if(!n.length||!r.length)return;let i,o;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(i=Vo(r,a),o=Vo(n,a)),i&&o||(i=r[Math.floor(r.length/2)],o=Vo(n,i.cc)||n[Math.floor(n.length/2)]);const s=i.programDateTime,l=o.programDateTime;if(!s||!l)return;Zo((l-s)/1e3-(o.start-i.start),t)}const Yo=Math.pow(2,17);class Xo{constructor(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(t,e){const n=t.url;if(!n)return Promise.reject(new ta({type:vn.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(n?"part list":"url")),networkDetails:null}));this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((a,s)=>{if(this.loader&&this.loader.destroy(),t.gap){if(t.tagList.some((t=>"GAP"===t[0])))return void s(Jo(t));t.gap=!1}const l=this.loader=t.loader=i?new i(r):new o(r),c=Qo(t),u=lo(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:Yo};t.stats=l.stats,l.load(c,d,{onSuccess:(e,n,r,i)=>{this.resetLoader(t,l);let o=e.data;r.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(o.slice(0,16)),o=o.slice(16)),a({frag:t,part:null,payload:o,networkDetails:i})},onError:(e,r,i,o)=>{this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:cn({url:n,data:void 0},e),error:new Error(`HTTP Error ${e.code} ${e.text}`),networkDetails:i,stats:o}))},onAbort:(e,n,r)=>{this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:r,stats:e}))},onTimeout:(e,n,r)=>{this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:r,stats:e}))},onProgress:(n,r,i,o)=>{e&&e({frag:t,part:null,payload:i,networkDetails:o})}})}))}loadPart(t,e,n){this.abort();const r=this.config,i=r.fLoader,o=r.loader;return new Promise(((a,s)=>{if(this.loader&&this.loader.destroy(),t.gap||e.gap)return void s(Jo(t,e));const l=this.loader=t.loader=i?new i(r):new o(r),c=Qo(t,e),u=lo(r.fragLoadPolicy.default),d={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:Yo};e.stats=l.stats,l.load(c,d,{onSuccess:(r,i,o,s)=>{this.resetLoader(t,l),this.updateStatsFromPart(t,e);const c={frag:t,part:e,payload:r.data,networkDetails:s};n(c),a(c)},onError:(n,r,i,o)=>{this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:e,response:cn({url:c.url,data:void 0},n),error:new Error(`HTTP Error ${n.code} ${n.text}`),networkDetails:i,stats:o}))},onAbort:(n,r,i)=>{t.stats.aborted=e.stats.aborted,this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.INTERNAL_ABORTED,fatal:!1,frag:t,part:e,error:new Error("Aborted"),networkDetails:i,stats:n}))},onTimeout:(n,r,i)=>{this.resetLoader(t,l),s(new ta({type:vn.NETWORK_ERROR,details:yn.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:i,stats:n}))}})}))}updateStatsFromPart(t,e){const n=t.stats,r=e.stats,i=r.total;if(n.loaded+=r.loaded,i){const r=Math.round(t.duration/e.duration),o=Math.min(Math.round(n.loaded/i),r),a=(r-o)*Math.round(n.loaded/o);n.total=n.loaded+a}else n.total=Math.max(n.loaded,n.total);const o=n.loading,a=r.loading;o.start?o.first+=a.first-a.start:(o.start=a.start,o.first=a.first),o.end=a.end}resetLoader(t,e){t.loader=null,this.loader===e&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),e.destroy()}}function Qo(t,e=null){const n=e||t,r={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},i=n.byteRangeStartOffset,o=n.byteRangeEndOffset;if(fn(i)&&fn(o)){var a;let e=i,n=o;if("initSegment"===t.sn&&"AES-128"===(null==(a=t.decryptdata)?void 0:a.method)){const t=o-i;t%16&&(n=o+(16-t%16)),0!==i&&(r.resetIV=!0,e=i-16)}r.rangeStart=e,r.rangeEnd=n}return r}function Jo(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),r={type:vn.MEDIA_ERROR,details:yn.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(r.part=e),(e||t).stats.aborted=!0,new ta(r)}class ta extends Error{constructor(t){super(t.error.message),this.data=void 0,this.data=t}}class ea{constructor(t,e){this.subtle=void 0,this.aesIV=void 0,this.subtle=t,this.aesIV=e}decrypt(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}class na{constructor(t,e){this.subtle=void 0,this.key=void 0,this.subtle=t,this.key=e}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}class ra{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(t){const e=new DataView(t),n=new Uint32Array(4);for(let r=0;r<4;r++)n[r]=e.getUint32(4*r);return n}initTable(){const t=this.sBox,e=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],h=new Uint32Array(256);let f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){let n=p^p<<1^p<<2^p<<3^p<<4;n=n>>>8^255&n^99,t[f]=n,e[n]=f;const s=h[f],g=h[s],m=h[g];let v=257*h[n]^16843008*n;r[f]=v<<24|v>>>8,i[f]=v<<16|v>>>16,o[f]=v<<8|v>>>24,a[f]=v,v=16843009*m^65537*g^257*s^16843008*f,l[n]=v<<24|v>>>8,c[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,d[n]=v,f?(f=s^h[h[h[m^s]]],p^=h[h[p]]):f=p=1}}expandKey(t){const e=this.uint8ArrayToUint32Array_(t);let n=!0,r=0;for(;r<e.length&&n;)n=e[r]===this.key[r],r++;if(n)return;this.key=e;const i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);const o=this.ksRows=4*(i+6+1);let a,s;const l=this.keySchedule=new Uint32Array(o),c=this.invKeySchedule=new Uint32Array(o),u=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3];let v,y;for(a=0;a<o;a++)a<i?v=l[a]=e[a]:(y=v,a%i===0?(y=y<<8|y>>>24,y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y],y^=d[a/i|0]<<24):i>6&&a%i===4&&(y=u[y>>>24]<<24|u[y>>>16&255]<<16|u[y>>>8&255]<<8|u[255&y]),l[a]=v=(l[a-i]^y)>>>0);for(s=0;s<o;s++)a=o-s,y=3&s?l[a]:l[a-4],c[s]=s<4||a<=4?y:f[u[y>>>24]]^p[u[y>>>16&255]]^g[u[y>>>8&255]]^m[u[255&y]],c[s]=c[s]>>>0}networkToHostOrderSwap(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}decrypt(t,e,n){const r=this.keySize+6,i=this.invKeySchedule,o=this.invSBox,a=this.invSubMix,s=a[0],l=a[1],c=a[2],u=a[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],f=d[1],p=d[2],g=d[3];const m=new Int32Array(t),v=new Int32Array(m.length);let y,b,w,E,_,T,x,S,L,k,A,O,R,C;const I=this.networkToHostOrderSwap;for(;e<m.length;){for(L=I(m[e]),k=I(m[e+1]),A=I(m[e+2]),O=I(m[e+3]),_=L^i[0],T=O^i[1],x=A^i[2],S=k^i[3],R=4,C=1;C<r;C++)y=s[_>>>24]^l[T>>16&255]^c[x>>8&255]^u[255&S]^i[R],b=s[T>>>24]^l[x>>16&255]^c[S>>8&255]^u[255&_]^i[R+1],w=s[x>>>24]^l[S>>16&255]^c[_>>8&255]^u[255&T]^i[R+2],E=s[S>>>24]^l[_>>16&255]^c[T>>8&255]^u[255&x]^i[R+3],_=y,T=b,x=w,S=E,R+=4;y=o[_>>>24]<<24^o[T>>16&255]<<16^o[x>>8&255]<<8^o[255&S]^i[R],b=o[T>>>24]<<24^o[x>>16&255]<<16^o[S>>8&255]<<8^o[255&_]^i[R+1],w=o[x>>>24]<<24^o[S>>16&255]<<16^o[_>>8&255]<<8^o[255&T]^i[R+2],E=o[S>>>24]<<24^o[_>>16&255]<<16^o[T>>8&255]<<8^o[255&x]^i[R+3],v[e]=I(y^h),v[e+1]=I(E^f),v[e+2]=I(w^p),v[e+3]=I(b^g),h=L,f=k,p=A,g=O,e+=4}return v.buffer}}class ia{constructor(t,{removePKCS7Padding:e=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=t.enableSoftwareAES,this.removePKCS7Padding=e,e)try{const t=self.crypto;t&&(this.subtle=t.subtle||t.webkitSubtle)}catch(n){}null===this.subtle&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:t,remainderData:e}=this;if(!t||e)return this.reset(),null;const n=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?function(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?Qn(t,0,e-n):t}(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(t,e,n){return this.useSoftware?new Promise(((r,i)=>{this.softwareDecrypt(new Uint8Array(t),e,n);const o=this.flush();o?r(o.buffer):i(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),e,n)}softwareDecrypt(t,e,n){const{currentIV:r,currentResult:i,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(t=Pr(o,t),this.remainderData=null);const a=this.getValidChunk(t);if(!a.length)return null;r&&(n=r);let s=this.softwareDecrypter;s||(s=this.softwareDecrypter=new ra),s.expandKey(e);const l=i;return this.currentResult=s.decrypt(a.buffer,0,n),this.currentIV=Qn(a,-16).buffer,l||null}webCryptoDecrypt(t,e,n){const r=this.subtle;return this.key===e&&this.fastAesKey||(this.key=e,this.fastAesKey=new na(r,e)),this.fastAesKey.expandKey().then((e=>{if(!r)return Promise.reject(new Error("web crypto not initialized"));this.logOnce("WebCrypto AES decrypt");return new ea(r,new Uint8Array(n)).decrypt(t.buffer,e)})).catch((r=>(Tn.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(t,e,n))))}onWebCryptoError(t,e,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,e,n);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(t){let e=t;const n=t.length-t.length%16;return n!==t.length&&(e=Qn(t,0,n),this.remainderData=Qn(t,n)),e}logOnce(t){this.logEnabled&&(Tn.log(`[decrypter]: ${t}`),this.logEnabled=!1)}}const oa=function(t){let e="";const n=t.length;for(let r=0;r<n;r++)e+=`[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;return e},aa="STOPPED",sa="IDLE",la="KEY_LOADING",ca="FRAG_LOADING",ua="FRAG_LOADING_WAITING_RETRY",da="WAITING_TRACK",ha="PARSING",fa="PARSED",pa="ENDED",ga="ERROR",ma="WAITING_INIT_PTS",va="WAITING_LEVEL";class ya extends class{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(t){return!this._tickInterval&&(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,t),!0)}clearInterval(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)}clearNextTick(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)}tick(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}{constructor(t,e,n,r,i){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=aa,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=i,this.logPrefix=r,this.log=Tn.log.bind(Tn,`${r}:`),this.warn=Tn.warn.bind(Tn,`${r}:`),this.hls=t,this.fragmentLoader=new Xo(t.config),this.keyLoader=n,this.fragmentTracker=e,this.config=t.config,this.decrypter=new ia(t.config),t.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(t){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=aa}_streamEnded(t,e){if(e.live||t.nextStart||!t.end||!this.media)return!1;const n=e.partList;if(null!=n&&n.length){const t=n[n.length-1];return Ho.isBuffered(this.media,t.start+t.duration/2)}const r=e.fragments[e.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details}onMediaAttached(t,e){const n=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===aa&&this.startLoad(r.startPosition)}onMediaDetaching(){const t=this.media;null!=t&&t.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&this.onvseeking&&this.onvended&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:t,fragCurrent:e,media:n,mediaBuffer:r,state:i}=this,o=n?n.currentTime:0,a=Ho.bufferInfo(r||n,o,t.maxBufferHole);if(this.log(`media seeking to ${fn(o)?o.toFixed(3):o}, state: ${i}`),this.state===pa)this.resetLoadingState();else if(e){const n=t.maxFragLookUpTolerance,r=e.start-n,i=e.start+e.duration+n;if(!a.len||i<a.start||r>a.end){const t=o>i;(o<r||t)&&(t&&e.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),this.loadedmetadata||a.len||(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(t,e){this.startTimeOffset=e.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=aa,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(t,e,n){this._loadFragForPlayback(t,e,n)}_loadFragForPlayback(t,e,n){this._doFragLoad(t,e,n,(e=>{if(this.fragContextChanged(t))return this.warn(`Fragment ${t.sn}${e.part?" p: "+e.part.index:""} of level ${t.level} was dropped during download.`),void this.fragmentTracker.removeFragment(t);t.stats.chunkCount++,this._handleFragmentLoadProgress(e)})).then((e=>{if(!e)return;const n=this.state;this.fragContextChanged(t)?(n===ca||!this.fragCurrent&&n===ha)&&(this.fragmentTracker.removeFragment(t),this.state=sa):("payload"in e&&(this.log(`Loaded fragment ${t.sn} of level ${t.level}`),this.hls.trigger(mn.FRAG_LOADED,e)),this._handleFragmentLoadComplete(e))})).catch((e=>{this.state!==aa&&this.state!==ga&&(this.warn(e),this.resetFragmentLoading(t))}))}clearTrackerIfNeeded(t){var e;const{fragmentTracker:n}=this;if(n.getState(t)===Mo){const e=t.type,r=this.getFwdBufferInfo(this.mediaBuffer,e),i=Math.max(t.duration,r?r.len:this.config.maxBufferLength);this.reduceMaxBufferLength(i)&&n.removeFragment(t)}else 0===(null==(e=this.mediaBuffer)?void 0:e.buffered.length)?n.removeAllFragments():n.hasParts(t.type)&&(n.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),n.getState(t)===Fo&&n.removeFragment(t))}checkLiveUpdate(t){if(t.updated&&!t.live){const e=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)}flushMainBuffer(t,e,n=null){if(!(t-e))return;const r={startOffset:t,endOffset:e,type:n};this.hls.trigger(mn.BUFFER_FLUSHING,r)}_loadInitSegment(t,e){this._doFragLoad(t,e).then((e=>{if(!e||this.fragContextChanged(t)||!this.levels)throw new Error("init load aborted");return e})).then((e=>{const{hls:n}=this,{payload:r}=e,i=t.decryptdata;if(r&&r.byteLength>0&&null!=i&&i.key&&i.iv&&"AES-128"===i.method){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch((e=>{throw n.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_DECRYPT_ERROR,fatal:!1,error:e,reason:e.message,frag:t}),e})).then((r=>{const i=self.performance.now();return n.trigger(mn.FRAG_DECRYPTED,{frag:t,payload:r,stats:{tstart:o,tdecrypt:i}}),e.payload=r,this.completeInitSegmentLoad(e)}))}return this.completeInitSegmentLoad(e)})).catch((e=>{this.state!==aa&&this.state!==ga&&(this.warn(e),this.resetFragmentLoading(t))}))}completeInitSegmentLoad(t){const{levels:e}=this;if(!e)throw new Error("init load aborted, missing levels");const n=t.frag.stats;this.state=sa,t.frag.data=new Uint8Array(t.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(t){const{fragCurrent:e}=this;return!t||!e||t.sn!==e.sn||t.level!==e.level}fragBufferedComplete(t,e){var n,r,i,o;const a=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${t.type} sn: ${t.sn}${e?" part: "+e.index:""} of ${this.playlistType===Ti?"level":"track"} ${t.level} (frag:[${(null!=(n=t.startPTS)?n:NaN).toFixed(3)}-${(null!=(r=t.endPTS)?r:NaN).toFixed(3)}] > buffer:${a?oa(Ho.getBuffered(a)):"(detached)"})`),"initSegment"!==t.sn){var s;if(t.type!==Si){const e=t.elementaryStreams;if(!Object.keys(e).some((t=>!!e[t])))return void(this.state=sa)}const e=null==(s=this.levels)?void 0:s[t.level];null!=e&&e.fragmentError&&(this.log(`Resetting level fragment error count of ${e.fragmentError} on frag buffered`),e.fragmentError=0)}this.state=sa,a&&(!this.loadedmetadata&&t.type==Ti&&a.buffered.length&&(null==(i=this.fragCurrent)?void 0:i.sn)===(null==(o=this.fragPrevious)?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(t){const{transmuxer:e}=this;if(!e)return;const{frag:n,part:r,partsLoaded:i}=t,o=!i||0===i.length||i.some((t=>!t)),a=new Ko(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);e.flush(a)}_handleFragmentLoadProgress(t){}_doFragLoad(t,e,n=null,r){var i;const o=null==e?void 0:e.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let a=null;if(!t.encrypted||null!=(i=t.decryptdata)&&i.key?!t.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(t,o.encryptedFragments):(this.log(`Loading key for ${t.sn} of [${o.startSN}-${o.endSN}], ${"[stream-controller]"===this.logPrefix?"level":"track"} ${t.level}`),this.state=la,this.fragCurrent=t,a=this.keyLoader.load(t).then((t=>{if(!this.fragContextChanged(t.frag))return this.hls.trigger(mn.KEY_LOADED,t),this.state===la&&(this.state=sa),t})),this.hls.trigger(mn.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))),n=Math.max(t.start,n||0),this.config.lowLatencyMode&&"initSegment"!==t.sn){const i=o.partList;if(i&&r){n>t.end&&o.fragmentHint&&(t=o.fragmentHint);const s=this.getNextPart(i,t,n);if(s>-1){const l=i[s];let c;return this.log(`Loading part sn: ${t.sn} p: ${l.index} cc: ${t.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${s}-${i.length-1}] ${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=l.start+l.duration,this.state=ca,c=a?a.then((n=>!n||this.fragContextChanged(n.frag)?null:this.doFragPartsLoad(t,l,e,r))).catch((t=>this.handleFragLoadError(t))):this.doFragPartsLoad(t,l,e,r).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(mn.FRAG_LOADING,{frag:t,part:l,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!t.url||this.loadedEndOfParts(i,n))return Promise.resolve(null)}}this.log(`Loading fragment ${t.sn} cc: ${t.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${"[stream-controller]"===this.logPrefix?"level":"track"}: ${t.level}, target: ${parseFloat(n.toFixed(3))}`),fn(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=ca;const s=this.config.progressive;let l;return l=s&&a?a.then((e=>!e||this.fragContextChanged(null==e?void 0:e.frag)?null:this.fragmentLoader.load(t,r))).catch((t=>this.handleFragLoadError(t))):Promise.all([this.fragmentLoader.load(t,s?r:void 0),a]).then((([t])=>(!s&&t&&r&&r(t),t))).catch((t=>this.handleFragLoadError(t))),this.hls.trigger(mn.FRAG_LOADING,{frag:t,targetBufferTime:n}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(t,e,n,r){return new Promise(((i,o)=>{var a;const s=[],l=null==(a=n.details)?void 0:a.partList,c=e=>{this.fragmentLoader.loadPart(t,e,r).then((r=>{s[e.index]=r;const o=r.part;this.hls.trigger(mn.FRAG_LOADED,r);const a=no(n,t.sn,e.index+1)||ro(l,t.sn,e.index+1);if(!a)return i({frag:t,part:o,partsLoaded:s});c(a)})).catch(o)};c(e)}))}handleFragLoadError(t){if("data"in t){const e=t.data;t.data&&e.details===yn.INTERNAL_ABORTED?this.handleFragLoadAborted(e.frag,e.part):this.hls.trigger(mn.ERROR,e)}else this.hls.trigger(mn.ERROR,{type:vn.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null}_handleTransmuxerFlush(t){const e=this.getCurrentContext(t);if(!e||this.state!==ha)return void(this.fragCurrent||this.state===aa||this.state===ga||(this.state=sa));const{frag:n,part:r,level:i}=e,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,t.partial)}getCurrentContext(t){const{levels:e,fragCurrent:n}=this,{level:r,sn:i,part:o}=t;if(null==e||!e[r])return this.warn(`Levels object was unset while buffering fragment ${i} of level ${r}. The current chunk will not be buffered.`),null;const a=e[r],s=o>-1?no(a,i,o):null,l=s?s.fragment:function(t,e,n){if(null==t||!t.details)return null;const r=t.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e?i:e<r.startSN&&n&&n.sn===e?n:null)}(a,i,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:s,level:a}):null}bufferFragmentData(t,e,n,r,i){var o;if(!t||this.state!==ha)return;const{data1:a,data2:s}=t;let l=a;if(a&&s&&(l=Pr(a,s)),null==(o=l)||!o.length)return;const c={type:t.type,frag:e,part:n,chunkMeta:r,parent:e.type,data:l};if(this.hls.trigger(mn.BUFFER_APPENDING,c),t.dropped&&t.independent&&!n){if(i)return;this.flushBufferGap(e)}}flushBufferGap(t){const e=this.media;if(!e)return;if(!Ho.isBuffered(e,e.currentTime))return void this.flushMainBuffer(0,t.start);const n=e.currentTime,r=Ho.bufferInfo(e,n,0),i=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),a=Math.max(Math.min(t.start-o,r.end-o),n+o);t.start-a>o&&this.flushMainBuffer(a,t.start)}getFwdBufferInfo(t,e){const n=this.getLoadPosition();return fn(n)?this.getFwdBufferInfoAtPos(t,n,e):null}getFwdBufferInfoAtPos(t,e,n){const{config:{maxBufferHole:r}}=this,i=Ho.bufferInfo(t,e,r);if(0===i.len&&void 0!==i.nextStart){const o=this.fragmentTracker.getBufferedFrag(e,n);if(o&&i.nextStart<o.end)return Ho.bufferInfo(t,e,Math.max(i.nextStart,r))}return i}getMaxBufferLength(t){const{config:e}=this;let n;return n=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(n,e.maxMaxBufferLength)}reduceMaxBufferLength(t){const e=this.config,n=t||e.maxBufferLength;return e.maxMaxBufferLength>=n&&(e.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${e.maxMaxBufferLength}s`),!0)}getAppendedFrag(t,e=Ti){const n=this.fragmentTracker.getAppendedFrag(t,Ti);return n&&"fragment"in n?n.fragment:n}getNextFragment(t,e){const n=e.fragments,r=n.length;if(!r)return null;const{config:i}=this,o=n[0].start;let a;if(e.live){const s=i.initialLiveManifestSize;if(r<s)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${s})`),null;(!e.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<o)&&(a=this.getInitialLiveFragment(e,n),this.startPosition=this.nextLoadPosition=a?this.hls.liveSyncPosition||a.start:t)}else t<=o&&(a=n[0]);if(!a){const n=i.lowLatencyMode?e.partEnd:e.fragmentEnd;a=this.getFragmentAtPosition(t,n,e)}return this.mapToInitFragWhenRequired(a)}isLoopLoading(t,e){const n=this.fragmentTracker.getState(t);return(n===Bo||n===Fo&&!!t.gap)&&this.nextLoadPosition>e}getNextFragmentLoopLoading(t,e,n,r,i){const o=t.gap,a=this.getNextFragment(this.nextLoadPosition,e);if(null===a)return a;if(t=a,o&&t&&!t.gap&&n.nextStart){const e=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,r);if(null!==e&&n.len+e.len>=i)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${t.sn}`),null}return t}mapToInitFragWhenRequired(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment}getNextPart(t,e,n){let r=-1,i=!1,o=!0;for(let a=0,s=t.length;a<s;a++){const s=t[a];if(o=o&&!s.independent,r>-1&&n<s.start)break;const l=s.loaded;l?r=-1:(i||s.independent||o)&&s.fragment===e&&(r=a),i=l}return r}loadedEndOfParts(t,e){const n=t[t.length-1];return n&&e>n.start&&n.loaded}getInitialLiveFragment(t,e){const n=this.fragPrevious;let r=null;if(n){if(t.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),r=function(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!fn(e))return null;if(e<(t[0].programDateTime||0))return null;if(e>=(t[t.length-1].endProgramDateTime||0))return null;n=n||0;for(let r=0;r<t.length;++r){const i=t[r];if(po(e,n,i))return i}return null}(e,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const i=n.sn+1;if(i>=t.startSN&&i<=t.endSN){const o=e[i-t.startSN];n.cc===o.cc&&(r=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=function(t,e){return uo(t,(t=>t.cc<e?1:t.cc>e?-1:0))}(e,n.cc),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const e=this.hls.liveSyncPosition;null!==e&&(r=this.getFragmentAtPosition(e,this.bitrateTest?t.fragmentEnd:t.edge,t))}return r}getFragmentAtPosition(t,e,n){const{config:r}=this;let{fragPrevious:i}=this,{fragments:o,endSN:a}=n;const{fragmentHint:s}=n,l=r.maxFragLookUpTolerance,c=n.partList,u=!!(r.lowLatencyMode&&null!=c&&c.length&&s);let d;if(u&&s&&!this.bitrateTest&&(o=o.concat(s),a=s.sn),t<e){d=ho(i,o,t,t>e-l?0:l)}else d=o[o.length-1];if(d){const t=d.sn-n.startSN,e=this.fragmentTracker.getState(d);if((e===Bo||e===Fo&&d.gap)&&(i=d),i&&d.sn===i.sn&&(!u||c[0].fragment.sn>d.sn)){if(i&&d.level===i.level){const e=o[t+1];d=d.sn<a&&this.fragmentTracker.getState(e)!==Bo?e:null}}}return d}synchronizeToLiveEdge(t){const{config:e,media:n}=this;if(!n)return;const r=this.hls.liveSyncPosition,i=n.currentTime,o=t.fragments[0].start,a=t.edge,s=i>=o-e.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){const o=void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:e.liveMaxLatencyDurationCount*t.targetduration;(!s&&n.readyState<4||i<a-o)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn(`Playback: ${i.toFixed(3)} is located too far from the end of live sliding playlist: ${a}, reset currentTime to : ${r.toFixed(3)}`),n.currentTime=r))}}alignPlaylists(t,e,n){const r=t.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const i=t.fragments[0].start,o=!e,a=t.alignedSliding&&fn(i);if(o||!a&&!i){const{fragPrevious:i}=this;qo(i,n,t);const o=t.fragments[0].start;return this.log(`Live playlist sliding: ${o.toFixed(2)} start-sn: ${e?e.startSN:"na"}->${t.startSN} prev-sn: ${i?i.sn:"na"} fragments: ${r}`),o}return i}waitForCdnTuneIn(t){return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,3*t.partTarget)}setStartPosition(t,e){let n=this.startPosition;if(n<e&&(n=-1),-1===n||-1===this.lastCurrentTime){const r=null!==this.startTimeOffset,i=r?this.startTimeOffset:t.startTimeOffset;null!==i&&fn(i)?(n=e+i,i<0&&(n+=t.totalduration),n=Math.min(Math.max(e,n),e+t.totalduration),this.log(`Start time offset ${i} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):t.live?n=this.hls.liveSyncPosition||e:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:t}=this;let e=0;return this.loadedmetadata&&t?e=t.currentTime:this.nextLoadPosition&&(e=this.nextLoadPosition),e}handleFragLoadAborted(t,e){this.transmuxer&&"initSegment"!==t.sn&&t.stats.aborted&&(this.warn(`Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} was aborted`),this.resetFragmentLoading(t))}resetFragmentLoading(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===ua)||(this.state=sa)}onFragmentOrKeyLoadError(t,e){if(e.chunkMeta&&!e.frag){const t=this.getCurrentContext(e.chunkMeta);t&&(e.frag=t.frag)}const n=e.frag;if(!n||n.type!==t||!this.levels)return;var r;if(this.fragContextChanged(n))return void this.warn(`Frag load error must match current frag to retry ${n.url} > ${null==(r=this.fragCurrent)?void 0:r.url}`);const i=e.details===yn.FRAG_GAP;i&&this.fragmentTracker.fragBuffered(n,!0);const o=e.errorAction,{action:a,retryCount:s=0,retryConfig:l}=o||{};if(o&&a===yo&&l){this.resetStartWhenNotLoaded(this.levelLastLoaded);const r=so(l,s);this.warn(`Fragment ${n.sn} of ${t} ${n.level} errored with ${e.details}, retrying loading ${s+1}/${l.maxNumRetry} in ${r}ms`),o.resolved=!0,this.retryDate=self.performance.now()+r,this.state=ua}else if(l&&o){if(this.resetFragmentErrors(t),!(s<l.maxNumRetry))return void Tn.warn(`${e.details} reached or exceeded max retry (${s})`);i||a===vo||(o.resolved=!0)}else(null==o?void 0:o.action)===mo?this.state=va:this.state=ga;this.tickImmediate()}reduceLengthAndFlushBuffer(t){if(this.state===ha||this.state===fa){const e=t.parent,n=this.getFwdBufferInfo(this.mediaBuffer,e),r=n&&n.len>.5;r&&this.reduceMaxBufferLength(n.len);const i=!r;return i&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${e} buffer`),t.frag&&(this.fragmentTracker.removeFragment(t.frag),this.nextLoadPosition=t.frag.start),this.resetLoadingState(),i}return!1}resetFragmentErrors(t){t===xi&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==aa&&(this.state=sa)}afterBufferFlushed(t,e,n){if(!t)return;const r=Ho.getBuffered(t);this.fragmentTracker.detectEvictedFragments(e,r,n),this.state===pa&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=sa}resetStartWhenNotLoaded(t){if(!this.loadedmetadata){this.startFragRequested=!1;const e=t?t.details:null;null!=e&&e.live?(this.startPosition=-1,this.setStartPosition(e,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(t){this.warn(`The loading context changed while buffering fragment ${t.sn} of level ${t.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(t=0){this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)}updateLevelTiming(t,e,n,r){var i;const o=n.details;if(!o)return void this.warn("level.details undefined");const a=Object.keys(t.elementaryStreams).reduce(((e,i)=>{const a=t.elementaryStreams[i];if(a){const s=a.endPTS-a.startPTS;if(s<=0)return this.warn(`Could not parse fragment ${t.sn} ${i} duration reliably (${s})`),e||!1;const l=r?0:Qi(o,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return this.hls.trigger(mn.LEVEL_PTS_UPDATED,{details:o,level:n,drift:l,type:i,frag:t,start:a.startPTS,end:a.endPTS}),!0}return e}),!1);if(!a&&null===(null==(i=this.transmuxer)?void 0:i.error)){const e=new Error(`Found no media in fragment ${t.sn} of level ${t.level} resetting transmuxer to fallback to playlist timing`);if(0===n.fragmentError&&(n.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)),this.warn(e.message),this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:e,frag:t,reason:`Found no media in msn ${t.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=fa,this.hls.trigger(mn.FRAG_PARSED,{frag:t,part:e})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(t){const e=this._state;e!==t&&(this._state=t,this.log(`${e}->${t}`))}get state(){return this._state}}class ba{constructor(){this.chunks=[],this.dataLength=0}push(t){this.chunks.push(t),this.dataLength+=t.length}flush(){const{chunks:t,dataLength:e}=this;let n;return t.length?(n=1===t.length?t[0]:function(t,e){const n=new Uint8Array(e);let r=0;for(let i=0;i<t.length;i++){const e=t[i];n.set(e,r),r+=e.length}return n}(t,e),this.reset(),n):new Uint8Array(0)}reset(){this.chunks.length=0,this.dataLength=0}}function wa(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Ea{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(t,e,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(t){this.initPTS=t,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(t,e){return!1}appendFrame(t,e,n){}demux(t,e){this.cachedData&&(t=Pr(this.cachedData,t),this.cachedData=null);let n,r=er(t,0),i=r?r.length:0;const o=this._audioTrack,a=this._id3Track,s=r?ir(r):void 0,l=t.length;for((null===this.basePTS||0===this.frameIndex&&fn(s))&&(this.basePTS=_a(s,e,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),r&&r.length>0&&a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ni,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(t,i)){const e=this.appendFrame(o,t,i);e?(this.frameIndex++,this.lastPTS=e.sample.pts,i+=e.length,n=i):i=l}else rr(t,i)?(r=er(t,i),a.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Ni,duration:Number.POSITIVE_INFINITY}),i+=r.length,n=i):i++;if(i===l&&n!==l){const e=Qn(t,n);this.cachedData?this.cachedData=Pr(this.cachedData,e):this.cachedData=e}}return{audioTrack:o,videoTrack:wa(),id3Track:a,textTrack:wa()}}demuxSampleAes(t,e,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(t){const e=this.cachedData;return e&&(this.cachedData=null,this.demux(e,0)),{audioTrack:this._audioTrack,videoTrack:wa(),id3Track:this._id3Track,textTrack:wa()}}destroy(){}}const _a=(t,e,n)=>{if(fn(t))return 90*t;return 9e4*e+(n?9e4*n.baseTime/n.timescale:0)};function Ta(t,e){return 255===t[e]&&240===(246&t[e+1])}function xa(t,e){return 1&t[e+1]?7:9}function Sa(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function La(t,e){return e+1<t.length&&Ta(t,e)}function ka(t,e){if(La(t,e)){const n=xa(t,e);if(e+n>=t.length)return!1;const r=Sa(t,e);if(r<=n)return!1;const i=e+r;return i===t.length||La(t,i)}return!1}function Aa(t,e,n,r,i){if(!t.samplerate){const o=function(t,e,n,r){let i,o,a,s;const l=navigator.userAgent.toLowerCase(),c=r,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=1+((192&e[n+2])>>>6);const d=(60&e[n+2])>>>2;if(!(d>u.length-1))return a=(1&e[n+2])<<2,a|=(192&e[n+3])>>>6,Tn.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(i=5,s=new Array(4),o=d-3):(i=2,s=new Array(2),o=d):-1!==l.indexOf("android")?(i=2,s=new Array(2),o=d):(i=5,s=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&d>=6?o=d-3:((r&&-1!==r.indexOf("mp4a.40.2")&&(d>=6&&1===a||/vivaldi/i.test(l))||!r&&1===a)&&(i=2,s=new Array(2)),o=d)),s[0]=i<<3,s[0]|=(14&d)>>1,s[1]|=(1&d)<<7,s[1]|=a<<3,5===i&&(s[1]|=(14&o)>>1,s[2]=(1&o)<<7,s[2]|=8,s[3]=0),{config:s,samplerate:u[d],channelCount:a,codec:"mp4a.40."+i,manifestCodec:c};{const e=new Error(`invalid ADTS sampling index:${d}`);t.emit(mn.ERROR,mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!0,error:e,reason:e.message})}}(e,n,r,i);if(!o)return;t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,Tn.log(`parsed codec:${t.codec}, rate:${o.samplerate}, channels:${o.channelCount}`)}}function Oa(t){return 9216e4/t}function Ra(t,e,n,r,i){const o=r+i*Oa(t.samplerate),a=function(t,e){const n=xa(t,e);if(e+n<=t.length){const r=Sa(t,e)-n;if(r>0)return{headerLength:n,frameLength:r}}}(e,n);let s;if(a){const{frameLength:r,headerLength:i}=a,l=i+r,c=Math.max(0,n+l-e.length);c?(s=new Uint8Array(l-i),s.set(e.subarray(n+i,e.length),0)):s=e.subarray(n+i,n+l);const u={unit:s,pts:o};return c||t.samples.push(u),{sample:u,length:l,missing:c}}const l=e.length-n;s=new Uint8Array(l),s.set(e.subarray(n,e.length),0);return{sample:{unit:s,pts:o},length:l,missing:-1}}let Ca=null;const Ia=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Da=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Na=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],Pa=[0,1,1,4];function Ma(t,e,n,r,i){if(n+24>e.length)return;const o=Fa(e,n);if(o&&n+o.frameLength<=e.length){const a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(n,n+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}function Fa(t,e){const n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,o=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==o){const a=t[e+2]>>1&1,s=t[e+3]>>6,l=1e3*Ia[14*(3===n?3-r:3===r?3:4)+i-1],c=Da[3*(3===n?0:2===n?1:2)+o],u=3===s?1:2,d=Na[n][r],h=Pa[r],f=8*d*h,p=Math.floor(d*l/c+a)*h;if(null===Ca){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ca=t?parseInt(t[1]):0}return!!Ca&&Ca<=87&&2===r&&l>=224e3&&0===s&&(t[e+3]=128|t[e+3]),{sampleRate:c,channelCount:u,frameLength:p,samplesPerFrame:f}}}function Ba(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])}function Ua(t,e){return e+1<t.length&&Ba(t,e)}function ja(t,e){if(e+1<t.length&&Ba(t,e)){const n=4,r=Fa(t,e);let i=n;null!=r&&r.frameLength&&(i=r.frameLength);const o=e+i;return o===t.length||Ua(t,o)}return!1}const $a=/\/emsg[-/]ID3/i;const Ga=(t,e)=>{let n=0,r=5;e+=r;const i=new Uint32Array(1),o=new Uint32Array(1),a=new Uint8Array(1);for(;r>0;){a[0]=t[e];const s=Math.min(r,8),l=8-s;o[0]=4278190080>>>24+l<<l,i[0]=(a[0]&o[0])>>l,n=n?n<<s|i[0]:i[0],e+=1,r-=s}return n};class Ha extends Ea{constructor(t){super(),this.observer=void 0,this.observer=t}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}canParse(t,e){return e+64<t.length}appendFrame(t,e,n){const r=Ka(t,e,n,this.basePTS,this.frameIndex);if(-1!==r){return{sample:t.samples[t.samples.length-1],length:r,missing:0}}}static probe(t){if(!t)return!1;const e=er(t,0);if(!e)return!1;const n=e.length;return 11===t[n]&&119===t[n+1]&&void 0!==ir(e)&&Ga(t,n)<16}}function Ka(t,e,n,r,i){if(n+8>e.length)return-1;if(11!==e[n]||119!==e[n+1])return-1;const o=e[n+4]>>6;if(o>=3)return-1;const a=[48e3,44100,32e3][o],s=63&e[n+4],l=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*s+o];if(n+l>e.length)return-1;const c=e[n+6]>>5;let u=0;2===c?u+=2:(1&c&&1!==c&&(u+=2),4&c&&(u+=2));const d=(e[n+6]<<8|e[n+7])>>12-u&1,h=[2,1,2,3,3,4,4,5][c]+d,f=e[n+5]>>3,p=7&e[n+5],g=new Uint8Array([o<<6|f<<1|p>>2,(3&p)<<6|c<<3|d<<2|s>>4,s<<4&224]),m=r+i*(1536/a*9e4),v=e.subarray(n,n+l);return t.config=g,t.channelCount=h,t.samplerate=a,t.samples.push({unit:v,pts:m}),l}class Va{constructor(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}skipBits(t){let e;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(e=(t-=this.bitsAvailable)>>3,t-=e<<3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}readBits(t){let e=Math.min(this.bitsAvailable,t);const n=this.word>>>32-e;if(t>32&&Tn.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0)this.word<<=e;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n}skipLZ(){let t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const t=this.skipLZ();return this.readBits(t+1)-1}readEG(){const t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}readBoolean(){return 1===this.readBits(1)}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(t){let e,n=8,r=8;for(let i=0;i<t;i++)0!==r&&(e=this.readEG(),r=(n+e+256)%256),n=0===r?n:r}readSPS(){let t,e,n,r=0,i=0,o=0,a=0;const s=this.readUByte.bind(this),l=this.readBits.bind(this),c=this.readUEG.bind(this),u=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),f=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();const g=s();if(l(5),d(3),s(),f(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){const t=c();if(3===t&&d(1),f(),f(),d(1),u())for(e=3!==t?8:12,n=0;n<e;n++)u()&&p(n<6?16:64)}f();const m=c();if(0===m)c();else if(1===m)for(d(1),h(),h(),t=c(),n=0;n<t;n++)h();f(),d(1);const v=c(),y=c(),b=l(1);0===b&&d(1),d(1),u()&&(r=c(),i=c(),o=c(),a=c());let w=[1,1];if(u()&&u()){switch(s()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:w=[s()<<8|s(),s()<<8|s()]}}return{width:Math.ceil(16*(v+1)-2*r-2*i),height:(2-b)*(y+1)*16-(b?2:4)*(o+a),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class za extends class{constructor(){this.VideoSample=null}createVideoSample(t,e,n,r){return{key:t,frame:!1,pts:e,dts:n,units:[],debug:r,length:0}}getLastNalUnit(t){var e;let n,r=this.VideoSample;if(r&&0!==r.units.length||(r=t[t.length-1]),null!=(e=r)&&e.units){const t=r.units;n=t[t.length-1]}return n}pushAccessUnit(t,e){if(t.units.length&&t.frame){if(void 0===t.pts){const n=e.samples,r=n.length;if(!r)return void e.dropped++;{const e=n[r-1];t.pts=e.pts,t.dts=e.dts}}e.samples.push(t)}t.debug.length&&Tn.log(t.pts+"/"+t.dts+":"+t.debug)}}{parseAVCPES(t,e,n,r,i){const o=this.parseAVCNALu(t,n.data);let a,s=this.VideoSample,l=!1;n.data=null,s&&o.length&&!t.audFound&&(this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),o.forEach((r=>{var o;switch(r.type){case 1:{let e=!1;a=!0;const i=r.data;if(l&&i.length>4){const t=new Va(i).readSliceType();2!==t&&4!==t&&7!==t&&9!==t||(e=!0)}var c;if(e)null!=(c=s)&&c.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null);s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.frame=!0,s.key=e;break}case 5:a=!0,null!=(o=s)&&o.frame&&!s.key&&(this.pushAccessUnit(s,t),s=this.VideoSample=null),s||(s=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:a=!0,Br(r.data,1,n.pts,e.samples);break;case 7:{var u,d;a=!0,l=!0;const e=r.data,n=new Va(e).readSPS();if(!t.sps||t.width!==n.width||t.height!==n.height||(null==(u=t.pixelRatio)?void 0:u[0])!==n.pixelRatio[0]||(null==(d=t.pixelRatio)?void 0:d[1])!==n.pixelRatio[1]){t.width=n.width,t.height=n.height,t.pixelRatio=n.pixelRatio,t.sps=[e],t.duration=i;const r=e.subarray(1,4);let o="avc1.";for(let t=0;t<3;t++){let e=r[t].toString(16);e.length<2&&(e="0"+e),o+=e}t.codec=o}break}case 8:a=!0,t.pps=[r.data];break;case 9:a=!0,t.audFound=!0,s&&this.pushAccessUnit(s,t),s=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:a=!0;break;default:a=!1,s&&(s.debug+="unknown NAL "+r.type+" ")}if(s&&a){s.units.push(r)}})),r&&s&&(this.pushAccessUnit(s,t),this.VideoSample=null)}parseAVCNALu(t,e){const n=e.byteLength;let r=t.naluState||0;const i=r,o=[];let a,s,l,c=0,u=-1,d=0;for(-1===r&&(u=0,d=31&e[0],r=0,c=1);c<n;)if(a=e[c++],r)if(1!==r)if(a)if(1===a){if(s=c-r-1,u>=0){const t={data:e.subarray(u,s),type:d};o.push(t)}else{const n=this.getLastNalUnit(t.samples);n&&(i&&c<=4-i&&n.state&&(n.data=n.data.subarray(0,n.data.byteLength-i)),s>0&&(n.data=Pr(n.data,e.subarray(0,s)),n.state=0))}c<n?(l=31&e[c],u=c,d=l,r=0):r=-1}else r=0;else r=3;else r=a?0:2;else r=a?0:1;if(u>=0&&r>=0){const t={data:e.subarray(u,n),type:d,state:r};o.push(t)}if(0===o.length){const n=this.getLastNalUnit(t.samples);n&&(n.data=Pr(n.data,e))}return t.naluState=r,o}}class Za{constructor(t,e,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new ia(e,{removePKCS7Padding:!1})}decryptBuffer(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(t,e,n){const r=t[e].unit;if(r.length<=16)return;const i=r.subarray(16,r.length-r.length%16),o=i.buffer.slice(i.byteOffset,i.byteOffset+i.length);this.decryptBuffer(o).then((i=>{const o=new Uint8Array(i);r.set(o,16),this.decrypter.isSync()||this.decryptAacSamples(t,e+1,n)}))}decryptAacSamples(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)&&(this.decryptAacSample(t,e,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(t){const e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e);let r=0;for(let i=32;i<t.length-16;i+=160,r+=16)n.set(t.subarray(i,i+16),r);return n}getAvcDecryptedUnit(t,e){const n=new Uint8Array(e);let r=0;for(let i=32;i<t.length-16;i+=160,r+=16)t.set(n.subarray(r,r+16),i);return t}decryptAvcSample(t,e,n,r,i){const o=Ur(i.data),a=this.getAvcEncryptedData(o);this.decryptBuffer(a.buffer).then((a=>{i.data=this.getAvcDecryptedUnit(o,a),this.decrypter.isSync()||this.decryptAvcSamples(t,e,n+1,r)}))}decryptAvcSamples(t,e,n,r){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;e++,n=0){if(e>=t.length)return void r();const i=t[e].units;for(;!(n>=i.length);n++){const o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)&&(this.decryptAvcSample(t,e,n,r,o),!this.decrypter.isSync()))return}}}}const qa=188;class Wa{constructor(t,e,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.videoParser=new za}static probe(t){const e=Wa.syncOffset(t);return e>0&&Tn.warn(`MPEG2-TS detected but first sync word found @ offset ${e}`),-1!==e}static syncOffset(t){const e=t.length;let n=Math.min(940,e-qa)+1,r=0;for(;r<n;){let i=!1,o=-1,a=0;for(let s=r;s<e;s+=qa){if(71!==t[s]||e-s!==qa&&71!==t[s+qa]){if(a)return-1;break}if(a++,-1===o&&(o=s,0!==o&&(n=Math.min(o+18612,t.length-qa)+1)),i||(i=0===Ya(t,s)),i&&a>1&&(0===o&&a>2||s+qa>n))return o}r++}return-1}static createTrack(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:br[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?e:void 0}}resetInitSegment(t,e,n,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Wa.createTrack("video"),this._audioTrack=Wa.createTrack("audio",r),this._id3Track=Wa.createTrack("id3"),this._txtTrack=Wa.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=n,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:t,_videoTrack:e,_id3Track:n}=this;t&&(t.pesData=null),e&&(e.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(t,e,n=!1,r=!1){let i;n||(this.sampleAes=null);const o=this._videoTrack,a=this._audioTrack,s=this._id3Track,l=this._txtTrack;let c=o.pid,u=o.pesData,d=a.pid,h=s.pid,f=a.pesData,p=s.pesData,g=null,m=this.pmtParsed,v=this._pmtId,y=t.length;if(this.remainderData&&(y=(t=Pr(this.remainderData,t)).length,this.remainderData=null),y<qa&&!r)return this.remainderData=t,{audioTrack:a,videoTrack:o,id3Track:s,textTrack:l};const b=Math.max(0,Wa.syncOffset(t));y-=(y-b)%qa,y<t.byteLength&&!r&&(this.remainderData=new Uint8Array(t.buffer,y,t.buffer.byteLength-y));let w=0;for(let _=b;_<y;_+=qa)if(71===t[_]){const e=!!(64&t[_+1]),r=Ya(t,_);let y;if((48&t[_+3])>>4>1){if(y=_+5+t[_+4],y===_+qa)continue}else y=_+4;switch(r){case c:e&&(u&&(i=ts(u))&&this.videoParser.parseAVCPES(o,l,i,!1,this._duration),u={data:[],size:0}),u&&(u.data.push(t.subarray(y,_+qa)),u.size+=_+qa-y);break;case d:if(e){if(f&&(i=ts(f)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,i);break;case"mp3":this.parseMPEGPES(a,i);break;case"ac3":this.parseAC3PES(a,i)}f={data:[],size:0}}f&&(f.data.push(t.subarray(y,_+qa)),f.size+=_+qa-y);break;case h:e&&(p&&(i=ts(p))&&this.parseID3PES(s,i),p={data:[],size:0}),p&&(p.data.push(t.subarray(y,_+qa)),p.size+=_+qa-y);break;case 0:e&&(y+=t[y]+1),v=this._pmtId=Xa(t,y);break;case v:{e&&(y+=t[y]+1);const r=Qa(t,y,this.typeSupported,n);c=r.videoPid,c>0&&(o.pid=c,o.segmentCodec=r.segmentVideoCodec),d=r.audioPid,d>0&&(a.pid=d,a.segmentCodec=r.segmentAudioCodec),h=r.id3Pid,h>0&&(s.pid=h),null===g||m||(Tn.warn(`MPEG-TS PMT found at ${_} after unknown PID '${g}'. Backtracking to sync byte @${b} to parse all TS packets.`),g=null,_=b-188),m=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=r}}else w++;if(w>0){const t=new Error(`Found ${w} TS packet/s that do not start with 0x47`);this.observer.emit(mn.ERROR,mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message})}o.pesData=u,a.pesData=f,s.pesData=p;const E={audioTrack:a,videoTrack:o,id3Track:s,textTrack:l};return r&&this.extractRemainingSamples(E),E}flush(){const{remainderData:t}=this;let e;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e}extractRemainingSamples(t){const{audioTrack:e,videoTrack:n,id3Track:r,textTrack:i}=t,o=n.pesData,a=e.pesData,s=r.pesData;let l;if(o&&(l=ts(o))?(this.videoParser.parseAVCPES(n,i,l,!0,this._duration),n.pesData=null):n.pesData=o,a&&(l=ts(a))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,l);break;case"mp3":this.parseMPEGPES(e,l);break;case"ac3":this.parseAC3PES(e,l)}e.pesData=null}else null!=a&&a.size&&Tn.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;s&&(l=ts(s))?(this.parseID3PES(r,l),r.pesData=null):r.pesData=s}demuxSampleAes(t,e,n){const r=this.demux(t,n,!0,!this.config.progressive),i=this.sampleAes=new Za(this.observer,this.config,e);return this.decrypt(r,i)}decrypt(t,e){return new Promise((n=>{const{audioTrack:r,videoTrack:i}=t;r.samples&&"aac"===r.segmentCodec?e.decryptAacSamples(r.samples,0,(()=>{i.samples?e.decryptAvcSamples(i.samples,0,0,(()=>{n(t)})):n(t)})):i.samples&&e.decryptAvcSamples(i.samples,0,0,(()=>{n(t)}))}))}destroy(){this._duration=0}parseAACPES(t,e){let n=0;const r=this.aacOverFlow;let i,o,a,s=e.data;if(r){this.aacOverFlow=null;const e=r.missing,i=r.sample.unit.byteLength;if(-1===e)s=Pr(r.sample.unit,s);else{const o=i-e;r.sample.unit.set(s.subarray(0,e),o),t.samples.push(r.sample),n=r.missing}}for(i=n,o=s.length;i<o-1&&!La(s,i);i++);if(i!==n){let t;const e=i<o-1;t=e?`AAC PES did not start with ADTS header,offset:${i}`:"No ADTS header found in AAC PES";const n=new Error(t);if(Tn.warn(`parsing error: ${t}`),this.observer.emit(mn.ERROR,mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:n,reason:t}),!e)return}if(Aa(t,this.observer,s,i,this.audioCodec),void 0!==e.pts)a=e.pts;else{if(!r)return void Tn.warn("[tsdemuxer]: AAC PES unknown PTS");{const e=Oa(t.samplerate);a=r.sample.pts+e}}let l,c=0;for(;i<o;){if(l=Ra(t,s,i,a,c),i+=l.length,l.missing){this.aacOverFlow=l;break}for(c++;i<o-1&&!La(s,i);i++);}}parseMPEGPES(t,e){const n=e.data,r=n.length;let i=0,o=0;const a=e.pts;if(void 0!==a)for(;o<r;)if(Ua(n,o)){const e=Ma(t,n,o,a,i);if(!e)break;o+=e.length,i++}else o++;else Tn.warn("[tsdemuxer]: MPEG PES unknown PTS")}parseAC3PES(t,e){{const n=e.data,r=e.pts;if(void 0===r)return void Tn.warn("[tsdemuxer]: AC3 PES unknown PTS");const i=n.length;let o,a=0,s=0;for(;s<i&&(o=Ka(t,n,s,r,a++))>0;)s+=o}}parseID3PES(t,e){if(void 0===e.pts)return void Tn.warn("[tsdemuxer]: ID3 PES unknown PTS");const n=hn({},e,{type:this._videoTrack?Mi:Ni,duration:Number.POSITIVE_INFINITY});t.samples.push(n)}}function Ya(t,e){return((31&t[e+1])<<8)+t[e+2]}function Xa(t,e){return(31&t[e+10])<<8|t[e+11]}function Qa(t,e,n,r){const i={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=e+3+((15&t[e+1])<<8|t[e+2])-4;for(e+=12+((15&t[e+10])<<8|t[e+11]);e<o;){const o=Ya(t,e),a=(15&t[e+3])<<8|t[e+4];switch(t[e]){case 207:if(!r){Ja("ADTS AAC");break}case 15:-1===i.audioPid&&(i.audioPid=o);break;case 21:-1===i.id3Pid&&(i.id3Pid=o);break;case 219:if(!r){Ja("H.264");break}case 27:-1===i.videoPid&&(i.videoPid=o,i.segmentVideoCodec="avc");break;case 3:case 4:n.mpeg||n.mp3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="mp3"):Tn.log("MPEG audio found, not supported in this browser");break;case 193:if(!r){Ja("AC-3");break}case 129:n.ac3?-1===i.audioPid&&(i.audioPid=o,i.segmentAudioCodec="ac3"):Tn.log("AC-3 audio found, not supported in this browser");break;case 6:if(-1===i.audioPid&&a>0){let r=e+5,s=a;for(;s>2;){if(106===t[r])!0!==n.ac3?Tn.log("AC-3 audio found, not supported in this browser for now"):(i.audioPid=o,i.segmentAudioCodec="ac3");const e=t[r+1]+2;r+=e,s-=e}}break;case 194:case 135:Tn.warn("Unsupported EC-3 in M2TS found");break;case 36:Tn.warn("Unsupported HEVC in M2TS found")}e+=a+5}return i}function Ja(t){Tn.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function ts(t){let e,n,r,i,o,a=0;const s=t.data;if(!t||0===t.size)return null;for(;s[0].length<19&&s.length>1;)s[0]=Pr(s[0],s[1]),s.splice(1,1);e=s[0];if(1===(e[0]<<16)+(e[1]<<8)+e[2]){if(n=(e[4]<<8)+e[5],n&&n>t.size-6)return null;const l=e[7];192&l&&(i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&l?(o=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,i-o>54e5&&(Tn.warn(`${Math.round((i-o)/9e4)}s delta between PTS and DTS, align them`),i=o)):o=i),r=e[8];let c=r+9;if(t.size<=c)return null;t.size-=c;const u=new Uint8Array(t.size);for(let t=0,n=s.length;t<n;t++){e=s[t];let n=e.byteLength;if(c){if(c>n){c-=n;continue}e=e.subarray(c),n-=c,c=0}u.set(e,a),a+=n}return n&&(n-=r+3),{data:u,pts:i,dts:o,len:n}}return null}class es{static getSilentFrame(t,e){if("mp4a.40.2"===t){if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}}}const ns=Math.pow(2,32)-1;class rs{static init(){let t;for(t in rs.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},rs.types)rs.types.hasOwnProperty(t)&&(rs.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);const e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);rs.HDLR_TYPES={video:e,audio:n};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i=new Uint8Array([0,0,0,0,0,0,0,0]);rs.STTS=rs.STSC=rs.STCO=i,rs.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),rs.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),rs.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),rs.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),s=new Uint8Array([0,0,0,1]);rs.FTYP=rs.box(rs.types.ftyp,o,s,o,a),rs.DINF=rs.box(rs.types.dinf,rs.box(rs.types.dref,r))}static box(t,...e){let n=8,r=e.length;const i=r;for(;r--;)n+=e[r].byteLength;const o=new Uint8Array(n);for(o[0]=n>>24&255,o[1]=n>>16&255,o[2]=n>>8&255,o[3]=255&n,o.set(t,4),r=0,n=8;r<i;r++)o.set(e[r],n),n+=e[r].byteLength;return o}static hdlr(t){return rs.box(rs.types.hdlr,rs.HDLR_TYPES[t])}static mdat(t){return rs.box(rs.types.mdat,t)}static mdhd(t,e){e*=t;const n=Math.floor(e/(ns+1)),r=Math.floor(e%(ns+1));return rs.box(rs.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))}static mdia(t){return rs.box(rs.types.mdia,rs.mdhd(t.timescale,t.duration),rs.hdlr(t.type),rs.minf(t))}static mfhd(t){return rs.box(rs.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))}static minf(t){return"audio"===t.type?rs.box(rs.types.minf,rs.box(rs.types.smhd,rs.SMHD),rs.DINF,rs.stbl(t)):rs.box(rs.types.minf,rs.box(rs.types.vmhd,rs.VMHD),rs.DINF,rs.stbl(t))}static moof(t,e,n){return rs.box(rs.types.moof,rs.mfhd(t),rs.traf(n,e))}static moov(t){let e=t.length;const n=[];for(;e--;)n[e]=rs.trak(t[e]);return rs.box.apply(null,[rs.types.moov,rs.mvhd(t[0].timescale,t[0].duration)].concat(n).concat(rs.mvex(t)))}static mvex(t){let e=t.length;const n=[];for(;e--;)n[e]=rs.trex(t[e]);return rs.box.apply(null,[rs.types.mvex,...n])}static mvhd(t,e){e*=t;const n=Math.floor(e/(ns+1)),r=Math.floor(e%(ns+1)),i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24,n>>16&255,n>>8&255,255&n,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return rs.box(rs.types.mvhd,i)}static sdtp(t){const e=t.samples||[],n=new Uint8Array(4+e.length);let r,i;for(r=0;r<e.length;r++)i=e[r].flags,n[r+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return rs.box(rs.types.sdtp,n)}static stbl(t){return rs.box(rs.types.stbl,rs.stsd(t),rs.box(rs.types.stts,rs.STTS),rs.box(rs.types.stsc,rs.STSC),rs.box(rs.types.stsz,rs.STSZ),rs.box(rs.types.stco,rs.STCO))}static avc1(t){let e,n,r,i=[],o=[];for(e=0;e<t.sps.length;e++)n=t.sps[e],r=n.byteLength,i.push(r>>>8&255),i.push(255&r),i=i.concat(Array.prototype.slice.call(n));for(e=0;e<t.pps.length;e++)n=t.pps[e],r=n.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(n));const a=rs.box(rs.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|t.sps.length].concat(i).concat([t.pps.length]).concat(o))),s=t.width,l=t.height,c=t.pixelRatio[0],u=t.pixelRatio[1];return rs.box(rs.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,s>>8&255,255&s,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,rs.box(rs.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),rs.box(rs.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,u>>24,u>>16&255,u>>8&255,255&u])))}static esds(t){const e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}static audioStsd(t){const e=t.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,e>>8&255,255&e,0,0])}static mp4a(t){return rs.box(rs.types.mp4a,rs.audioStsd(t),rs.box(rs.types.esds,rs.esds(t)))}static mp3(t){return rs.box(rs.types[".mp3"],rs.audioStsd(t))}static ac3(t){return rs.box(rs.types["ac-3"],rs.audioStsd(t),rs.box(rs.types.dac3,t.config))}static stsd(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?rs.box(rs.types.stsd,rs.STSD,rs.mp3(t)):"ac3"===t.segmentCodec?rs.box(rs.types.stsd,rs.STSD,rs.ac3(t)):rs.box(rs.types.stsd,rs.STSD,rs.mp4a(t)):rs.box(rs.types.stsd,rs.STSD,rs.avc1(t))}static tkhd(t){const e=t.id,n=t.duration*t.timescale,r=t.width,i=t.height,o=Math.floor(n/(ns+1)),a=Math.floor(n%(ns+1));return rs.box(rs.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,i>>8&255,255&i,0,0]))}static traf(t,e){const n=rs.sdtp(t),r=t.id,i=Math.floor(e/(ns+1)),o=Math.floor(e%(ns+1));return rs.box(rs.types.traf,rs.box(rs.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),rs.box(rs.types.tfdt,new Uint8Array([1,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o])),rs.trun(t,n.length+16+20+8+16+8+8),n)}static trak(t){return t.duration=t.duration||4294967295,rs.box(rs.types.trak,rs.tkhd(t),rs.mdia(t))}static trex(t){const e=t.id;return rs.box(rs.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(t,e){const n=t.samples||[],r=n.length,i=12+16*r,o=new Uint8Array(i);let a,s,l,c,u,d;for(e+=8+i,o.set(["video"===t.type?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),a=0;a<r;a++)s=n[a],l=s.duration,c=s.size,u=s.flags,d=s.cts,o.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,u.isLeading<<2|u.dependsOn,u.isDependedOn<<6|u.hasRedundancy<<4|u.paddingValue<<1|u.isNonSync,61440&u.degradPrio,15&u.degradPrio,d>>>24&255,d>>>16&255,d>>>8&255,255&d],12+16*a);return rs.box(rs.types.trun,o)}static initSegment(t){rs.types||rs.init();const e=rs.moov(t);return Pr(rs.FTYP,e)}}rs.types=void 0,rs.HDLR_TYPES=void 0,rs.STTS=void 0,rs.STSC=void 0,rs.STCO=void 0,rs.STSZ=void 0,rs.VMHD=void 0,rs.SMHD=void 0,rs.STSD=void 0,rs.FTYP=void 0,rs.DINF=void 0;function is(t,e,n=1,r=!1){const i=t*e*n;return r?Math.round(i):i}function os(t,e=!1){return is(t,1e3,1/9e4,e)}let as,ss=null,ls=null;class cs{constructor(t,e,n,r=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=e,this.typeSupported=n,this.ISGenerated=!1,null===ss){const t=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);ss=t?parseInt(t[1]):0}if(null===ls){const t=navigator.userAgent.match(/Safari\/(\d+)/i);ls=t?parseInt(t[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(t){Tn.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=t}resetNextTimestamp(){Tn.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){Tn.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(t){let e=!1;const n=t.reduce(((t,n)=>{const r=n.pts-t;return r<-4294967296?(e=!0,us(t,n.pts)):r>0?t:n.pts}),t[0].pts);return e&&Tn.debug("PTS rollover detected"),n}remux(t,e,n,r,i,o,a,s){let l,c,u,d,h,f,p=i,g=i;const m=t.pid>-1,v=e.pid>-1,y=e.samples.length,b=t.samples.length>0,w=a&&y>0||y>1;if((!m||b)&&(!v||w)||this.ISGenerated||a){if(this.ISGenerated){var E,_,T,x;const t=this.videoTrackConfig;!t||e.width===t.width&&e.height===t.height&&(null==(E=e.pixelRatio)?void 0:E[0])===(null==(_=t.pixelRatio)?void 0:_[0])&&(null==(T=e.pixelRatio)?void 0:T[1])===(null==(x=t.pixelRatio)?void 0:x[1])||this.resetInitSegment()}else u=this.generateIS(t,e,i,o);const n=this.isVideoContiguous;let r,a=-1;if(w&&(a=function(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}(e.samples),!n&&this.config.forceKeyFrameOnDiscontinuity))if(f=!0,a>0){Tn.warn(`[mp4-remuxer]: Dropped ${a} out of ${y} video samples due to a missing keyframe`);const t=this.getVideoStartPts(e.samples);e.samples=e.samples.slice(a),e.dropped+=a,g+=(e.samples[0].pts-t)/e.inputTimeScale,r=g}else-1===a&&(Tn.warn(`[mp4-remuxer]: No keyframe found out of ${y} video samples`),f=!1);if(this.ISGenerated){if(b&&w){const n=this.getVideoStartPts(e.samples),r=(us(t.samples[0].pts,n)-n)/e.inputTimeScale;p+=Math.max(0,r),g+=Math.max(0,-r)}if(b){if(t.samplerate||(Tn.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(t,e,i,o)),c=this.remuxAudio(t,p,this.isAudioContiguous,o,v||w||s===xi?g:void 0),w){const r=c?c.endPTS-c.startPTS:0;e.inputTimeScale||(Tn.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(t,e,i,o)),l=this.remuxVideo(e,g,n,r)}}else w&&(l=this.remuxVideo(e,g,n,0));l&&(l.firstKeyFrame=a,l.independent=-1!==a,l.firstKeyFramePTS=r)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=ds(n,i,this._initPTS,this._initDTS)),r.samples.length&&(d=hs(r,i,this._initPTS))),{audio:c,video:l,initSegment:u,independent:f,text:d,id3:h}}generateIS(t,e,n,r){const i=t.samples,o=e.samples,a=this.typeSupported,s={},l=this._initPTS;let c,u,d,h=!l||r,f="audio/mp4";if(h&&(c=u=1/0),t.config&&i.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":a.mpeg?(f="audio/mpeg",t.codec=""):a.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}s.audio={id:"audio",container:f,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&a.mpeg?new Uint8Array(0):rs.initSegment([t]),metadata:{channelCount:t.channelCount}},h&&(d=t.inputTimeScale,l&&d===l.timescale?h=!1:c=u=i[0].pts-Math.round(d*n))}if(e.sps&&e.pps&&o.length){if(e.timescale=e.inputTimeScale,s.video={id:"main",container:"video/mp4",codec:e.codec,initSegment:rs.initSegment([e]),metadata:{width:e.width,height:e.height}},h)if(d=e.inputTimeScale,l&&d===l.timescale)h=!1;else{const t=this.getVideoStartPts(o),e=Math.round(d*n);u=Math.min(u,us(o[0].dts,t)-e),c=Math.min(c,t-e)}this.videoTrackConfig={width:e.width,height:e.height,pixelRatio:e.pixelRatio}}if(Object.keys(s).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:c,timescale:d},this._initDTS={baseTime:u,timescale:d}):c=d=void 0,{tracks:s,initPTS:c,timescale:d}}remuxVideo(t,e,n,r){const i=t.inputTimeScale,o=t.samples,a=[],s=o.length,l=this._initPTS;let c,u,d=this.nextAvcDts,h=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,m=!1;if(!n||null===d){const t=e*i,r=o[0].pts-us(o[0].dts,o[0].pts);ss&&null!==d&&Math.abs(t-r-d)<15e3?n=!0:d=t-r}const v=l.baseTime*i/l.timescale;for(let D=0;D<s;D++){const t=o[D];t.pts=us(t.pts-v,d),t.dts=us(t.dts-v,d),t.dts<o[D>0?D-1:D].dts&&(m=!0)}m&&o.sort((function(t,e){const n=t.dts-e.dts,r=t.pts-e.pts;return n||r})),c=o[0].dts,u=o[o.length-1].dts;const y=u-c,b=y?Math.round(y/(s-1)):f||t.inputTimeScale/30;if(n){const t=c-d,n=t>b,r=t<-1;if((n||r)&&(n?Tn.warn(`AVC: ${os(t,!0)} ms (${t}dts) hole between fragments detected at ${e.toFixed(3)}`):Tn.warn(`AVC: ${os(-t,!0)} ms (${t}dts) overlapping between fragments detected at ${e.toFixed(3)}`),!r||d>=o[0].pts||ss)){c=d;const e=o[0].pts-t;if(n)o[0].dts=c,o[0].pts=e;else for(let n=0;n<o.length&&!(o[n].dts>e);n++)o[n].dts-=t,o[n].pts-=t;Tn.log(`Video: Initial PTS/DTS adjusted: ${os(e,!0)}/${os(c,!0)}, delta: ${os(t,!0)} ms`)}}c=Math.max(0,c);let w=0,E=0,_=c;for(let D=0;D<s;D++){const t=o[D],e=t.units,n=e.length;let r=0;for(let i=0;i<n;i++)r+=e[i].data.length;E+=r,w+=n,t.length=r,t.dts<_?(t.dts=_,_+=b/4|0||1):_=t.dts,p=Math.min(t.pts,p),g=Math.max(t.pts,g)}u=o[s-1].dts;const T=E+4*w+8;let x;try{x=new Uint8Array(T)}catch(I){return void this.observer.emit(mn.ERROR,mn.ERROR,{type:vn.MUX_ERROR,details:yn.REMUX_ALLOC_ERROR,fatal:!1,error:I,bytes:T,reason:`fail allocating video mdat ${T}`})}const S=new DataView(x.buffer);S.setUint32(0,T),x.set(rs.types.mdat,4);let L=!1,k=Number.POSITIVE_INFINITY,A=Number.POSITIVE_INFINITY,O=Number.NEGATIVE_INFINITY,R=Number.NEGATIVE_INFINITY;for(let D=0;D<s;D++){const t=o[D],e=t.units;let n,l=0;for(let r=0,i=e.length;r<i;r++){const t=e[r],n=t.data,i=t.data.byteLength;S.setUint32(h,i),h+=4,x.set(n,h),h+=i,l+=4+i}if(D<s-1)f=o[D+1].dts-t.dts,n=o[D+1].pts-t.pts;else{const e=this.config,a=D>0?t.dts-o[D-1].dts:b;if(n=D>0?t.pts-o[D-1].pts:b,e.stretchShortVideoTrack&&null!==this.nextAudioPts){const n=Math.floor(e.maxBufferHole*i),o=(r?p+r*i:this.nextAudioPts)-t.pts;o>n?(f=o-a,f<0?f=a:L=!0,Tn.log(`[mp4-remuxer]: It is approximately ${o/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=a}else f=a}const c=Math.round(t.pts-t.dts);k=Math.min(k,f),O=Math.max(O,f),A=Math.min(A,n),R=Math.max(R,n),a.push(new fs(t.key,f,l,c))}if(a.length)if(ss){if(ss<70){const t=a[0].flags;t.dependsOn=2,t.isNonSync=0}}else if(ls&&R-A<O-k&&b/O<.025&&0===a[0].cts){Tn.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let t=c;for(let e=0,n=a.length;e<n;e++){const r=t+a[e].duration,i=t+a[e].cts;if(e<n-1){const t=r+a[e+1].cts;a[e].duration=t-i}else a[e].duration=e?a[e-1].duration:b;a[e].cts=0,t=r}}f=L||!f?b:f,this.nextAvcDts=d=u+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const C={data1:rs.moof(t.sequenceNumber++,c,hn({},t,{samples:a})),data2:x,startPTS:p/i,endPTS:(g+f)/i,startDTS:c/i,endDTS:d/i,type:"video",hasAudio:!1,hasVideo:!0,nb:a.length,dropped:t.dropped};return t.samples=[],t.dropped=0,C}getSamplesPerFrame(t){switch(t.segmentCodec){case"mp3":return 1152;case"ac3":return 1536;default:return 1024}}remuxAudio(t,e,n,r,i){const o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),s=this.getSamplesPerFrame(t),l=s*a,c=this._initPTS,u="mp3"===t.segmentCodec&&this.typeSupported.mpeg,d=[],h=void 0!==i;let f=t.samples,p=u?0:8,g=this.nextAudioPts||-1;const m=e*o,v=c.baseTime*o/c.timescale;if(this.isAudioContiguous=n=n||f.length&&g>0&&(r&&Math.abs(m-g)<9e3||Math.abs(us(f[0].pts-v,m)-g)<20*l),f.forEach((function(t){t.pts=us(t.pts-v,m)})),!n||g<0){if(f=f.filter((t=>t.pts>=0)),!f.length)return;g=0===i?0:r&&!h?Math.max(0,m):f[0].pts}if("aac"===t.segmentCodec){const e=this.config.maxAudioFramesDrift;for(let n=0,r=g;n<f.length;n++){const i=f[n],a=i.pts,s=a-r,c=Math.abs(1e3*s/o);if(s<=-e*l&&h)0===n&&(Tn.warn(`Audio frame @ ${(a/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*s/o)} ms.`),this.nextAudioPts=g=r=a);else if(s>=e*l&&c<1e4&&h){let e=Math.round(s/l);r=a-e*l,r<0&&(e--,r+=l),0===n&&(this.nextAudioPts=g=r),Tn.warn(`[mp4-remuxer]: Injecting ${e} audio frame @ ${(r/o).toFixed(3)}s due to ${Math.round(1e3*s/o)} ms gap.`);for(let o=0;o<e;o++){const e=Math.max(r,0);let o=es.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);o||(Tn.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),o=i.unit.subarray()),f.splice(n,0,{unit:o,pts:e}),r+=l,n++}}i.pts=r,r+=l}}let y,b=null,w=null,E=0,_=f.length;for(;_--;)E+=f[_].unit.byteLength;for(let R=0,C=f.length;R<C;R++){const e=f[R],r=e.unit;let i=e.pts;if(null!==w){d[R-1].duration=Math.round((i-w)/a)}else{if(n&&"aac"===t.segmentCodec&&(i=g),b=i,!(E>0))return;E+=p;try{y=new Uint8Array(E)}catch(O){return void this.observer.emit(mn.ERROR,mn.ERROR,{type:vn.MUX_ERROR,details:yn.REMUX_ALLOC_ERROR,fatal:!1,error:O,bytes:E,reason:`fail allocating audio mdat ${E}`})}if(!u){new DataView(y.buffer).setUint32(0,E),y.set(rs.types.mdat,4)}}y.set(r,p);const o=r.byteLength;p+=o,d.push(new fs(!0,s,o,0)),w=i}const T=d.length;if(!T)return;const x=d[d.length-1];this.nextAudioPts=g=w+a*x.duration;const S=u?new Uint8Array(0):rs.moof(t.sequenceNumber++,b/a,hn({},t,{samples:d}));t.samples=[];const L=b/o,k=g/o,A={data1:S,data2:y,startPTS:L,endPTS:k,startDTS:L,endDTS:k,type:"audio",hasAudio:!0,hasVideo:!1,nb:T};return this.isAudioContiguous=!0,A}remuxEmptyAudio(t,e,n,r){const i=t.inputTimeScale,o=i/(t.samplerate?t.samplerate:i),a=this.nextAudioPts,s=this._initDTS,l=9e4*s.baseTime/s.timescale,c=(null!==a?a:r.startDTS*i)+l,u=r.endDTS*i+l,d=1024*o,h=Math.ceil((u-c)/d),f=es.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(Tn.warn("[mp4-remuxer]: remux empty Audio"),!f)return void Tn.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");const p=[];for(let g=0;g<h;g++){const t=c+g*d;p.push({unit:f,pts:t,dts:t})}return t.samples=p,this.remuxAudio(t,e,n,!1)}}function us(t,e){let n;if(null===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function ds(t,e,n,r){const i=t.samples.length;if(!i)return;const o=t.inputTimeScale;for(let s=0;s<i;s++){const i=t.samples[s];i.pts=us(i.pts-n.baseTime*o/n.timescale,e*o)/o,i.dts=us(i.dts-r.baseTime*o/r.timescale,e*o)/o}const a=t.samples;return t.samples=[],{samples:a}}function hs(t,e,n){const r=t.samples.length;if(!r)return;const i=t.inputTimeScale;for(let a=0;a<r;a++){const r=t.samples[a];r.pts=us(r.pts-n.baseTime*i/n.timescale,e*i)/i}t.samples.sort(((t,e)=>t.pts-e.pts));const o=t.samples;return t.samples=[],{samples:o}}class fs{constructor(t,e,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=e,this.size=n,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}function ps(t,e){const n=null==t?void 0:t.codec;if(n&&n.length>4)return n;if(e===Rn){if("ec-3"===n||"ac-3"===n||"alac"===n)return n;if("fLaC"===n||"Opus"===n){return ii(n,!1)}const t="mp4a.40.5";return Tn.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${t}"`),t}return Tn.warn(`Unhandled video codec "${n}"`),"hvc1"===n||"hev1"===n?"hvc1.1.6.L120.90":"av01"===n?"av01.0.04M.08":"avc1.42e01e"}try{as=self.performance.now.bind(self.performance)}catch(Yu){Tn.debug("Unable to use Performance API on this environment"),as=null==jn?void 0:jn.Date.now}const gs=[{demux:class{constructor(t,e){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=e}resetTimeStamp(){}resetInitSegment(t,e,n,r){const i=this.videoTrack=wa("video",1),o=this.audioTrack=wa("audio",1),a=this.txtTrack=wa("text",1);if(this.id3Track=wa("id3",1),this.timeOffset=0,null==t||!t.byteLength)return;const s=Ar(t);if(s.video){const{id:t,timescale:e,codec:n}=s.video;i.id=t,i.timescale=a.timescale=e,i.codec=n}if(s.audio){const{id:t,timescale:e,codec:n}=s.audio;o.id=t,o.timescale=e,o.codec=n}a.id=br.text,i.sampleDuration=0,i.duration=o.duration=r}resetContiguity(){this.remainderData=null}static probe(t){return function(t){const e=t.byteLength;for(let n=0;n<e;){const r=_r(t,n);if(r>8&&109===t[n+4]&&111===t[n+5]&&111===t[n+6]&&102===t[n+7])return!0;n=r>1?n+r:e}return!1}(t)}demux(t,e){this.timeOffset=e;let n=t;const r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Pr(this.remainderData,t));const e=function(t){const e={valid:null,remainder:null},n=Lr(t,["moof"]);if(n.length<2)return e.remainder=t,e;const r=n[n.length-1];return e.valid=Qn(t,0,r.byteOffset-8),e.remainder=Qn(t,r.byteOffset-8),e}(n);this.remainderData=e.remainder,r.samples=e.valid||new Uint8Array}else r.samples=n;const o=this.extractID3Track(r,e);return i.samples=Mr(e,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const t=this.timeOffset,e=this.videoTrack,n=this.txtTrack;e.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(e,this.timeOffset);return n.samples=Mr(t,e),{videoTrack:e,audioTrack:wa(),id3Track:r,textTrack:wa()}}extractID3Track(t,e){const n=this.id3Track;if(t.samples.length){const r=Lr(t.samples,["emsg"]);r&&r.forEach((t=>{const r=function(t){const e=t[0];let n="",r="",i=0,o=0,a=0,s=0,l=0,c=0;if(0===e){for(;"\0"!==wr(t.subarray(c,c+1));)n+=wr(t.subarray(c,c+1)),c+=1;for(n+=wr(t.subarray(c,c+1)),c+=1;"\0"!==wr(t.subarray(c,c+1));)r+=wr(t.subarray(c,c+1)),c+=1;r+=wr(t.subarray(c,c+1)),c+=1,i=_r(t,12),o=_r(t,16),s=_r(t,20),l=_r(t,24),c=28}else if(1===e){c+=4,i=_r(t,c),c+=4;const e=_r(t,c);c+=4;const o=_r(t,c);for(c+=4,a=2**32*e+o,pn(a)||(a=Number.MAX_SAFE_INTEGER,Tn.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=_r(t,c),c+=4,l=_r(t,c),c+=4;"\0"!==wr(t.subarray(c,c+1));)n+=wr(t.subarray(c,c+1)),c+=1;for(n+=wr(t.subarray(c,c+1)),c+=1;"\0"!==wr(t.subarray(c,c+1));)r+=wr(t.subarray(c,c+1)),c+=1;r+=wr(t.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:l,payload:t.subarray(c,t.byteLength)}}(t);if($a.test(r.schemeIdUri)){const t=fn(r.presentationTime)?r.presentationTime/r.timeScale:e+r.presentationTimeDelta/r.timeScale;let i=4294967295===r.eventDuration?Number.POSITIVE_INFINITY:r.eventDuration/r.timeScale;i<=.001&&(i=Number.POSITIVE_INFINITY);const o=r.payload;n.samples.push({data:o,len:o.byteLength,dts:t,pts:t,type:Mi,duration:i})}}))}return n}demuxSampleAes(t,e,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}},remux:class{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(t){this.initPTS=t,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(t,e,n,r){this.audioCodec=e,this.videoCodec=n,this.generateInitSegment(function(t,e){if(!t||!e)return t;const n=e.keyId;n&&e.isCommonEncryption&&Lr(t,["moov","trak"]).forEach((t=>{const e=Lr(t,["mdia","minf","stbl","stsd"])[0].subarray(8);let r=Lr(e,["enca"]);const i=r.length>0;i||(r=Lr(e,["encv"])),r.forEach((t=>{Lr(i?t.subarray(28):t.subarray(78),["sinf"]).forEach((t=>{const e=Dr(t);if(e){const t=e.subarray(8,24);t.some((t=>0!==t))||(Tn.log(`[eme] Patching keyId in 'enc${i?"a":"v"}>sinf>>tenc' box: ${mr(t)} -> ${mr(n)}`),e.set(n,8))}}))}))}));return t}(t,r)),this.emitInitSegment=!0}generateInitSegment(t){let{audioCodec:e,videoCodec:n}=this;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);const r=this.initData=Ar(t);r.audio&&(e=ps(r.audio,Rn)),r.video&&(n=ps(r.video,Cn));const i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:e+","+n,initSegment:t,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:e,initSegment:t,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:t,id:"main"}:Tn.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i}remux(t,e,n,r,i,o){var a,s;let{initPTS:l,lastEndTime:c}=this;const u={audio:void 0,video:void 0,text:r,id3:n,initSegment:void 0};fn(c)||(c=this.lastEndTime=i||0);const d=e.samples;if(null==d||!d.length)return u;const h={initPTS:void 0,timescale:1};let f=this.initData;if(null!=(a=f)&&a.length||(this.generateInitSegment(d),f=this.initData),null==(s=f)||!s.length)return Tn.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=function(t,e){let n=0,r=0,i=0;const o=Lr(t,["moof","traf"]);for(let a=0;a<o.length;a++){const t=o[a],s=Lr(t,["tfhd"])[0],l=e[_r(s,4)];if(!l)continue;const c=l.default,u=_r(s,0)|(null==c?void 0:c.flags);let d=null==c?void 0:c.duration;8&u&&(d=_r(s,2&u?12:8));const h=l.timescale||9e4,f=Lr(t,["trun"]);for(let e=0;e<f.length;e++)n=Nr(f[e]),!n&&d&&(n=d*_r(f[e],4)),l.type===Cn?r+=n/h:l.type===Rn&&(i+=n/h)}if(0===r&&0===i){let e=1/0,n=0,r=0;const i=Lr(t,["sidx"]);for(let t=0;t<i.length;t++){const o=kr(i[t]);if(null!=o&&o.references){e=Math.min(e,o.earliestPresentationTime/o.timescale);const t=o.references.reduce(((t,e)=>t+e.info.duration||0),0);n=Math.max(n,t+o.earliestPresentationTime/o.timescale),r=n-e}}if(r&&fn(r))return r}return r||i}(d,f),g=function(t,e){return Lr(e,["moof","traf"]).reduce(((e,n)=>{const r=Lr(n,["tfdt"])[0],i=r[0],o=Lr(n,["tfhd"]).reduce(((e,n)=>{const o=_r(n,4),a=t[o];if(a){let t=_r(r,4);if(1===i){if(t===vr)return Tn.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),e;t*=vr+1,t+=_r(r,8)}const n=t/(a.timescale||9e4);if(fn(n)&&(null===e||n<e))return n}return e}),null);return null!==o&&fn(o)&&(null===e||o<e)?o:e}),null)}(f,d),m=null===g?i:g;(function(t,e,n,r){if(null===t)return!0;const i=Math.max(r,1),o=e-t.baseTime/t.timescale;return Math.abs(o-n)>i}(l,m,i,p)||h.timescale!==l.timescale&&o)&&(h.initPTS=m-i,l&&1===l.timescale&&Tn.warn("Adjusting initPTS by "+(h.initPTS-l.baseTime)),this.initPTS=l={baseTime:h.initPTS,timescale:1});const v=t?m-l.baseTime/l.timescale:c,y=v+p;!function(t,e,n){Lr(e,["moof","traf"]).forEach((e=>{Lr(e,["tfhd"]).forEach((r=>{const i=_r(r,4),o=t[i];if(!o)return;const a=o.timescale||9e4;Lr(e,["tfdt"]).forEach((t=>{const e=t[0],r=n*a;if(r){let n=_r(t,4);if(0===e)n-=r,n=Math.max(n,0),Sr(t,4,n);else{n*=Math.pow(2,32),n+=_r(t,8),n-=r,n=Math.max(n,0);const e=Math.floor(n/(vr+1)),i=Math.floor(n%(vr+1));Sr(t,4,e),Sr(t,8,i)}}}))}))}))}(f,d,l.baseTime/l.timescale),p>0?this.lastEndTime=y:(Tn.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const b=!!f.audio,w=!!f.video;let E="";b&&(E+="audio"),w&&(E+="video");const _={data1:d,startPTS:v,startDTS:v,endPTS:y,endDTS:y,type:E,hasAudio:b,hasVideo:w,nb:1,dropped:0};return u.audio="audio"===_.type?_:void 0,u.video="audio"!==_.type?_:void 0,u.initSegment=h,u.id3=ds(n,i,l,l),r.samples.length&&(u.text=hs(r,i,l)),u}}},{demux:Wa,remux:cs},{demux:class extends Ea{constructor(t,e){super(),this.observer=void 0,this.config=void 0,this.observer=t,this.config=e}resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=er(t,0);let n=(null==e?void 0:e.length)||0;if(ja(t,n))return!1;for(let r=t.length;n<r;n++)if(ka(t,n))return Tn.log("ADTS sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return function(t,e){return e+5<t.length}(t,e)&&Ta(t,e)&&Sa(t,e)<=t.length-e}(t,e)}appendFrame(t,e,n){Aa(t,this.observer,e,n,t.manifestCodec);const r=Ra(t,e,n,this.basePTS,this.frameIndex);if(r&&0===r.missing)return r}},remux:cs},{demux:class extends Ea{resetInitSegment(t,e,n,r){super.resetInitSegment(t,e,n,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:r,inputTimeScale:9e4,dropped:0}}static probe(t){if(!t)return!1;const e=er(t,0);let n=(null==e?void 0:e.length)||0;if(e&&11===t[n]&&119===t[n+1]&&void 0!==ir(e)&&Ga(t,n)<=16)return!1;for(let r=t.length;n<r;n++)if(ja(t,n))return Tn.log("MPEG Audio sync word found !"),!0;return!1}canParse(t,e){return function(t,e){return Ba(t,e)&&4<=t.length-e}(t,e)}appendFrame(t,e,n){if(null!==this.basePTS)return Ma(t,e,n,this.basePTS,this.frameIndex)}},remux:cs}];gs.splice(2,0,{demux:Ha,remux:cs});class ms{constructor(t,e,n,r,i){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=e,this.config=n,this.vendor=r,this.id=i}configure(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()}push(t,e,n,r){const i=n.transmuxing;i.executeStart=as();let o=new Uint8Array(t);const{currentTransmuxState:a,transmuxConfig:s}=this;r&&(this.currentTransmuxState=r);const{contiguous:l,discontinuity:c,trackSwitch:u,accurateTimeOffset:d,timeOffset:h,initSegmentChange:f}=r||a,{audioCodec:p,videoCodec:g,defaultInitPts:m,duration:v,initSegmentData:y}=s,b=function(t,e){let n=null;t.byteLength>0&&null!=(null==e?void 0:e.key)&&null!==e.iv&&null!=e.method&&(n=e);return n}(o,e);if(b&&"AES-128"===b.method){const t=this.getDecrypter();if(!t.isSync())return this.decryptionPromise=t.webCryptoDecrypt(o,b.key.buffer,b.iv.buffer).then((t=>{const e=this.push(t,null,n);return this.decryptionPromise=null,e})),this.decryptionPromise;{let e=t.softwareDecrypt(o,b.key.buffer,b.iv.buffer);if(n.part>-1&&(e=t.flush()),!e)return i.executeEnd=as(),vs(n);o=new Uint8Array(e)}}const w=this.needsProbing(c,u);if(w){const t=this.configureTransmuxer(o);if(t)return Tn.warn(`[transmuxer] ${t.message}`),this.observer.emit(mn.ERROR,mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,fatal:!1,error:t,reason:t.message}),i.executeEnd=as(),vs(n)}(c||u||f||w)&&this.resetInitSegment(y,p,g,v,e),(c||f||w)&&this.resetInitialTimestamp(m),l||this.resetContiguity();const E=this.transmux(o,b,h,d,n),_=this.currentTransmuxState;return _.contiguous=!0,_.discontinuity=!1,_.trackSwitch=!1,i.executeEnd=as(),E}flush(t){const e=t.transmuxing;e.executeStart=as();const{decrypter:n,currentTransmuxState:r,decryptionPromise:i}=this;if(i)return i.then((()=>this.flush(t)));const o=[],{timeOffset:a}=r;if(n){const e=n.flush();e&&o.push(this.push(e,null,t))}const{demuxer:s,remuxer:l}=this;if(!s||!l)return e.executeEnd=as(),[vs(t)];const c=s.flush(a);return ys(c)?c.then((e=>(this.flushRemux(o,e,t),o))):(this.flushRemux(o,c,t),o)}flushRemux(t,e,n){const{audioTrack:r,videoTrack:i,id3Track:o,textTrack:a}=e,{accurateTimeOffset:s,timeOffset:l}=this.currentTransmuxState;Tn.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const c=this.remuxer.remux(r,i,o,a,l,s,!0,this.id);t.push({remuxResult:c,chunkMeta:n}),n.transmuxing.executeEnd=as()}resetInitialTimestamp(t){const{demuxer:e,remuxer:n}=this;e&&n&&(e.resetTimeStamp(t),n.resetTimeStamp(t))}resetContiguity(){const{demuxer:t,remuxer:e}=this;t&&e&&(t.resetContiguity(),e.resetNextTimestamp())}resetInitSegment(t,e,n,r,i){const{demuxer:o,remuxer:a}=this;o&&a&&(o.resetInitSegment(t,e,n,r),a.resetInitSegment(t,e,n,i))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(t,e,n,r,i){let o;return o=e&&"SAMPLE-AES"===e.method?this.transmuxSampleAes(t,e,n,r,i):this.transmuxUnencrypted(t,n,r,i),o}transmuxUnencrypted(t,e,n,r){const{audioTrack:i,videoTrack:o,id3Track:a,textTrack:s}=this.demuxer.demux(t,e,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(i,o,a,s,e,n,!1,this.id),chunkMeta:r}}transmuxSampleAes(t,e,n,r,i){return this.demuxer.demuxSampleAes(t,e,n).then((t=>({remuxResult:this.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,n,r,!1,this.id),chunkMeta:i})))}configureTransmuxer(t){const{config:e,observer:n,typeSupported:r,vendor:i}=this;let o;for(let d=0,h=gs.length;d<h;d++){var a;if(null!=(a=gs[d].demux)&&a.probe(t)){o=gs[d];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const s=this.demuxer,l=this.remuxer,c=o.remux,u=o.demux;l&&l instanceof c||(this.remuxer=new c(n,e,r,i)),s&&s instanceof u||(this.demuxer=new u(n,e,r),this.probe=u.probe)}needsProbing(t,e){return!this.demuxer||!this.remuxer||t||e}getDecrypter(){let t=this.decrypter;return t||(t=this.decrypter=new ia(this.config)),t}}const vs=t=>({remuxResult:{},chunkMeta:t});function ys(t){return"then"in t&&t.then instanceof Function}class bs{constructor(t,e,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=e,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i||null}}class ws{constructor(t,e,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=e,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}}var Es={exports:{}};!function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function o(t,e,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||t,a),l=n?n+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function a(t,e){0===--t._eventsCount?t._events=new r:delete t._events[e]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,r,i=[];if(0===this._eventsCount)return i;for(r in t=this._events)e.call(t,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},s.prototype.listeners=function(t){var e=n?n+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(t){var e=n?n+t:t,r=this._events[e];return r?r.fn?1:r.length:0},s.prototype.emit=function(t,e,r,i,o,a){var s=n?n+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,r),!0;case 4:return u.fn.call(u.context,e,r,i),!0;case 5:return u.fn.call(u.context,e,r,i,o),!0;case 6:return u.fn.call(u.context,e,r,i,o,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,r);break;case 4:u[c].fn.call(u[c].context,e,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(t,e,n){return o(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return o(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,r,i){var o=n?n+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&a(this,e)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s}(Es);var _s=rn(Es.exports);class Ts{constructor(t,e,n,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const i=t.config;this.hls=t,this.id=e,this.useWorker=!!i.enableWorker,this.onTransmuxComplete=n,this.onFlush=r;const o=(t,e)=>{(e=e||{}).frag=this.frag,e.id=this.id,t===mn.ERROR&&(this.error=e.error),this.hls.trigger(t,e)};this.observer=new _s,this.observer.on(mn.FRAG_DECRYPTED,o),this.observer.on(mn.ERROR,o);const a=Wr(i.preferManagedMediaSource)||{isTypeSupported:()=>!1},s={mpeg:a.isTypeSupported("audio/mpeg"),mp3:a.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:a.isTypeSupported('audio/mp4; codecs="ac-3"')},l=navigator.vendor;if(this.useWorker&&"undefined"!==typeof Worker){if(i.workerPath||"function"===typeof __HLS_WORKER_BUNDLE__){try{i.workerPath?(Tn.log(`loading Web Worker ${i.workerPath} for "${e}"`),this.workerContext=function(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}(i.workerPath)):(Tn.log(`injecting Web Worker for "${e}"`),this.workerContext=function(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}()),this.onwmsg=t=>this.onWorkerMessage(t);const{worker:t}=this.workerContext;t.addEventListener("message",this.onwmsg),t.onerror=t=>{const n=new Error(`${t.message}  (${t.filename}:${t.lineno})`);i.enableWorker=!1,Tn.warn(`Error in "${e}" Web Worker, fallback to inline`),this.hls.trigger(mn.ERROR,{type:vn.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:n})},t.postMessage({cmd:"init",typeSupported:s,vendor:l,id:e,config:JSON.stringify(i)})}catch(Yu){Tn.warn(`Error setting up "${e}" Web Worker, fallback to inline`,Yu),this.resetWorker(),this.error=null,this.transmuxer=new ms(this.observer,s,i,l,e)}return}}this.transmuxer=new ms(this.observer,s,i,l,e)}resetWorker(){if(this.workerContext){const{worker:t,objectURL:e}=this.workerContext;e&&self.URL.revokeObjectURL(e),t.removeEventListener("message",this.onwmsg),t.onerror=null,t.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const t=this.observer;t&&t.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(t,e,n,r,i,o,a,s,l,c){var u,d;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,f=o?o.start:i.start,p=i.decryptdata,g=this.frag,m=!(g&&i.cc===g.cc),v=!(g&&l.level===g.level),y=g?l.sn-g.sn:-1,b=this.part?l.part-this.part.index:-1,w=0===y&&l.id>1&&l.id===(null==g?void 0:g.stats.chunkCount),E=!v&&(1===y||0===y&&(1===b||w&&b<=0)),_=self.performance.now();(v||y||0===i.stats.parsing.start)&&(i.stats.parsing.start=_),!o||!b&&E||(o.stats.parsing.start=_);const T=!(g&&(null==(u=i.initSegment)?void 0:u.url)===(null==(d=g.initSegment)?void 0:d.url)),x=new ws(m,E,s,v,f,T);if(!E||m||T){Tn.log(`[transmuxer-interface, ${i.type}]: Starting new transmux session for sn: ${l.sn} p: ${l.part} level: ${l.level} id: ${l.id}\n        discontinuity: ${m}\n        trackSwitch: ${v}\n        contiguous: ${E}\n        accurateTimeOffset: ${s}\n        timeOffset: ${f}\n        initSegmentChange: ${T}`);const t=new bs(n,r,e,a,c);this.configureTransmuxer(t)}if(this.frag=i,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:t,decryptdata:p,chunkMeta:l,state:x},t instanceof ArrayBuffer?[t]:[]);else if(h){const e=h.push(t,p,l,x);ys(e)?(h.async=!0,e.then((t=>{this.handleTransmuxComplete(t)})).catch((t=>{this.transmuxerError(t,l,"transmuxer-interface push error")}))):(h.async=!1,this.handleTransmuxComplete(e))}}flush(t){t.transmuxing.start=self.performance.now();const{transmuxer:e}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:t});else if(e){let n=e.flush(t);ys(n)||e.async?(ys(n)||(n=Promise.resolve(n)),n.then((e=>{this.handleFlushResult(e,t)})).catch((e=>{this.transmuxerError(e,t,"transmuxer-interface flush error")}))):this.handleFlushResult(n,t)}}transmuxerError(t,e,n){this.hls&&(this.error=t,this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_PARSING_ERROR,chunkMeta:e,fatal:!1,error:t,err:t,reason:n}))}handleFlushResult(t,e){t.forEach((t=>{this.handleTransmuxComplete(t)})),this.onFlush(e)}onWorkerMessage(t){const e=t.data,n=this.hls;switch(e.event){case"init":{var r;const t=null==(r=this.workerContext)?void 0:r.objectURL;t&&self.URL.revokeObjectURL(t);break}case"transmuxComplete":this.handleTransmuxComplete(e.data);break;case"flush":this.onFlush(e.data);break;case"workerLog":Tn[e.data.logType]&&Tn[e.data.logType](e.data.message);break;default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data)}}configureTransmuxer(t){const{transmuxer:e}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:t}):e&&e.configure(t)}handleTransmuxComplete(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)}}function xs(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ss(t[n].attrs,e[n].attrs))return!1;return!0}function Ss(t,e,n){const r=t["STABLE-RENDITION-ID"];return r&&!n?r===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some((n=>t[n]!==e[n]))}function Ls(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class ks{constructor(t){this.buffered=void 0;const e=(e,n,r)=>{if((n>>>=0)>r-1)throw new DOMException(`Failed to execute '${e}' on 'TimeRanges': The index provided (${n}) is greater than the maximum bound (${r})`);return t[n][e]};this.buffered={get length(){return t.length},end(n){return e("end",n,t.length)},start(n){return e("start",n,t.length)}}}}class As{constructor(t){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=t}append(t,e,n){const r=this.queues[e];r.push(t),1!==r.length||n||this.executeNext(e)}insertAbort(t,e){this.queues[e].unshift(t),this.executeNext(e)}appendBlocker(t){let e;const n=new Promise((t=>{e=t})),r={execute:e,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,t),n}executeNext(t){const e=this.queues[t];if(e.length){const r=e[0];try{r.execute()}catch(n){Tn.warn(`[buffer-operation-queue]: Exception executing "${t}" SourceBuffer operation: ${n}`),r.onError(n);const e=this.buffers[t];null!=e&&e.updating||this.shiftAndExecuteNext(t)}}}shiftAndExecuteNext(t){this.queues[t].shift(),this.executeNext(t)}current(t){return this.queues[t][0]}}const Os=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;function Rs(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach((e=>{t.removeChild(e)}))}const Cs={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Is=function(t){let e=t;return Cs.hasOwnProperty(t)&&(e=Cs[t]),String.fromCharCode(e)},Ds=15,Ns=100,Ps={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Ms={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Fs={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},Bs={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Us=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class js{constructor(){this.time=null,this.verboseLevel=0}log(t,e){if(this.verboseLevel>=t){const n="function"===typeof e?e():e;Tn.log(`${this.time} [${t}] ${n}`)}}}const $s=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].toString(16));return e};class Gs{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(t){const e=["foreground","underline","italics","background","flash"];for(let n=0;n<e.length;n++){const r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}isDefault(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}equals(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}copy(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Hs{constructor(){this.uchar=" ",this.penState=new Gs}reset(){this.uchar=" ",this.penState.reset()}setChar(t,e){this.uchar=t,this.penState.copy(e)}setPenState(t){this.penState.copy(t)}equals(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}copy(t){this.uchar=t.uchar,this.penState.copy(t.penState)}isEmpty(){return" "===this.uchar&&this.penState.isDefault()}}class Ks{constructor(t){this.chars=[],this.pos=0,this.currPenState=new Gs,this.cueStartTime=null,this.logger=void 0;for(let e=0;e<Ns;e++)this.chars.push(new Hs);this.logger=t}equals(t){for(let e=0;e<Ns;e++)if(!this.chars[e].equals(t.chars[e]))return!1;return!0}copy(t){for(let e=0;e<Ns;e++)this.chars[e].copy(t.chars[e])}isEmpty(){let t=!0;for(let e=0;e<Ns;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}setCursor(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ns&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ns)}moveCursor(t){const e=this.pos+t;if(t>1)for(let n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(t){t>=144&&this.backSpace();const e=Is(t);this.pos>=Ns?this.logger.log(0,(()=>"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!")):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))}clearFromPos(t){let e;for(e=t;e<Ns;e++)this.chars[e].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const t=[];let e=!0;for(let n=0;n<Ns;n++){const r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}setPenStyles(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}class Vs{constructor(t){this.rows=[],this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let e=0;e<Ds;e++)this.rows.push(new Ks(t));this.logger=t}reset(){for(let t=0;t<Ds;t++)this.rows[t].clear();this.currRow=14}equals(t){let e=!0;for(let n=0;n<Ds;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}copy(t){for(let e=0;e<Ds;e++)this.rows[e].copy(t.rows[e])}isEmpty(){let t=!0;for(let e=0;e<Ds;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(t){this.rows[this.currRow].insertChar(t)}setPen(t){this.rows[this.currRow].setPenStyles(t)}moveCursor(t){this.rows[this.currRow].moveCursor(t)}setCursor(t){this.logger.log(2,"setCursor: "+t);this.rows[this.currRow].setCursor(t)}setPAC(t){this.logger.log(2,(()=>"pacData = "+JSON.stringify(t)));let e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(let e=0;e<Ds;e++)this.rows[e].clear();const t=this.currRow+1-this.nrRollUpRows,n=this.lastOutputScreen;if(n){const r=n.rows[t].cueStartTime,i=this.logger.time;if(null!==r&&null!==i&&r<i)for(let o=0;o<this.nrRollUpRows;o++)this.rows[e-this.nrRollUpRows+o+1].copy(n.rows[t+o])}}this.currRow=e;const n=this.rows[this.currRow];if(null!==t.indent){const e=t.indent,r=Math.max(e-1,0);n.setCursor(t.indent),t.color=n.chars[r].penState.foreground}const r={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(t){this.logger.log(2,(()=>"bkgData = "+JSON.stringify(t))),this.backSpace(),this.setPen(t),this.insertChar(32)}setRollUpRows(t){this.nrRollUpRows=t}rollUp(){if(null===this.nrRollUpRows)return void this.logger.log(3,"roll_up but nrRollUpRows not set yet");this.logger.log(1,(()=>this.getDisplayText()));const t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(2,"Rolling up")}getDisplayText(t){t=t||!1;const e=[];let n="",r=-1;for(let i=0;i<Ds;i++){const n=this.rows[i].getTextString();n&&(r=i+1,t?e.push("Row "+r+": '"+n+"'"):e.push(n.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}getTextAndFormat(){return this.rows}}class zs{constructor(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new Vs(n),this.nonDisplayedMemory=new Vs(n),this.lastOutputScreen=new Vs(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(t){this.outputFilter=t}setPAC(t){this.writeScreen.setPAC(t)}setBkgData(t){this.writeScreen.setBkgData(t)}setMode(t){t!==this.mode&&(this.mode=t,this.logger.log(2,(()=>"MODE="+t)),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}insertChars(t){for(let n=0;n<t.length;n++)this.writeScreen.insertChar(t[n]);const e=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,(()=>e+": "+this.writeScreen.getDisplayText(!0))),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(1,(()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0))),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(t){this.logger.log(2,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){const t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,(()=>"DISP: "+this.displayedMemory.getDisplayText()))}this.outputDataUpdate(!0)}ccTO(t){this.logger.log(2,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}ccMIDROW(t){const e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{const n=Math.floor(t/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=r[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}outputDataUpdate(t=!1){const e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}class Zs{constructor(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory={a:null,b:null},this.logger=void 0;const r=this.logger=new js;this.channels=[null,new zs(t,e,r),new zs(t+1,n,r)]}getHandler(t){return this.channels[t].getHandler()}setHandler(t,e){this.channels[t].setHandler(e)}addData(t,e){let n,r,i,o=!1;this.logger.time=t;for(let a=0;a<e.length;a+=2)if(r=127&e[a],i=127&e[a+1],0!==r||0!==i){if(this.logger.log(3,"["+$s([e[a],e[a+1]])+"] -> ("+$s([r,i])+")"),n=this.parseCmd(r,i),n||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i),o)){const t=this.currentChannel;if(t&&t>0){this.channels[t].insertChars(o)}else this.logger.log(2,"No channel found yet. TEXT-MODE?")}n||o||this.logger.log(2,"Couldn't parse cleaned data "+$s([r,i])+" orig: "+$s([e[a],e[a+1]]))}}parseCmd(t,e){const{cmdHistory:n}=this;if(!((20===t||28===t||21===t||29===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=33&&e<=35))return!1;if(Ws(t,e,n))return qs(null,null,n),this.logger.log(3,"Repeated command ("+$s([t,e])+") is dropped"),!0;const r=20===t||21===t||23===t?1:2,i=this.channels[r];return 20===t||21===t||28===t||29===t?32===e?i.ccRCL():33===e?i.ccBS():34===e?i.ccAOF():35===e?i.ccAON():36===e?i.ccDER():37===e?i.ccRU(2):38===e?i.ccRU(3):39===e?i.ccRU(4):40===e?i.ccFON():41===e?i.ccRDC():42===e?i.ccTR():43===e?i.ccRTD():44===e?i.ccEDM():45===e?i.ccCR():46===e?i.ccENM():47===e&&i.ccEOC():i.ccTO(e-32),qs(t,e,n),this.currentChannel=r,!0}parseMidrow(t,e){let n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[n];return!!r&&(r.ccMIDROW(e),this.logger.log(3,"MIDROW ("+$s([t,e])+")"),!0)}return!1}parsePAC(t,e){let n;const r=this.cmdHistory;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127)&&!((16===t||24===t)&&e>=64&&e<=95))return!1;if(Ws(t,e,r))return qs(null,null,r),!0;const i=t<=23?1:2;n=e>=64&&e<=95?1===i?Ps[t]:Fs[t]:1===i?Ms[t]:Bs[t];const o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,e)),qs(t,e,r),this.currentChannel=i,!0)}interpretPAC(t,e){let n;const r={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}parseChars(t,e){let n,r=null,i=null;if(t>=25?(n=2,i=t-8):(n=1,i=t),i>=17&&i<=19){let t;t=17===i?e+80:18===i?e+112:e+144,this.logger.log(2,"Special char '"+Is(t)+"' in channel "+n),r=[t]}else t>=32&&t<=127&&(r=0===e?[t]:[t,e]);if(r){const n=$s(r);this.logger.log(3,"Char codes =  "+n.join(",")),qs(t,e,this.cmdHistory)}return r}parseBackgroundAttributes(t,e){if(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47))return!1;let n;const r={};16===t||24===t?(n=Math.floor((e-32)/2),r.background=Us[n],e%2===1&&(r.background=r.background+"_semi")):45===e?r.background="transparent":(r.foreground="black",47===e&&(r.underline=!0));const i=t<=23?1:2;return this.channels[i].setBkgData(r),qs(t,e,this.cmdHistory),!0}reset(){for(let t=0;t<Object.keys(this.channels).length;t++){const e=this.channels[t];e&&e.reset()}this.cmdHistory={a:null,b:null}}cueSplitAtTime(t){for(let e=0;e<this.channels.length;e++){const n=this.channels[e];n&&n.cueSplitAtTime(t)}}}function qs(t,e,n){n.a=t,n.b=e}function Ws(t,e,n){return n.a===t&&n.b===e}class Ys{constructor(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}dispatchCue(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Xs=function(){if(null!=jn&&jn.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(t,e){if("string"!==typeof e)return!1;if(!Array.isArray(t))return!1;const n=e.toLowerCase();return!!~t.indexOf(n)&&n}function r(t){return n(e,t)}function i(t,...e){let n=1;for(;n<arguments.length;n++){const e=arguments[n];for(const n in e)t[n]=e[n]}return t}function o(e,o,a){const s=this,l={enumerable:!0};s.hasBeenReset=!1;let c="",u=!1,d=e,h=o,f=a,p=null,g="",m=!0,v="auto",y="start",b=50,w="middle",E=50,_="middle";Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(e){const r=function(e){return n(t,e)}(e);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return m},set:function(t){m=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return v},set:function(t){if("number"!==typeof t&&"auto"!==t)throw new SyntaxError("An invalid number or illegal string was specified.");v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return w},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return E},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return _},set:function(t){const e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class Qs{decode(t,e){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}function Js(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+parseFloat(r||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class tl{constructor(){this.values=Object.create(null)}set(t,e){this.get(t)||""===e||(this.values[t]=e)}get(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e}has(t){return t in this.values}alt(t,e,n){for(let r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}}integer(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))}percent(t,e){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(e)){const n=parseFloat(e);if(n>=0&&n<=100)return this.set(t,n),!0}return!1}}function el(t,e,n,r){const i=r?t.split(r):[t];for(const o in i){if("string"!==typeof i[o])continue;const t=i[o].split(n);if(2!==t.length)continue;e(t[0],t[1])}}const nl=new Xs(0,0,""),rl="middle"===nl.align?"middle":"center";function il(t,e,n){const r=t;function i(){const e=Js(t);if(null===e)throw new Error("Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),"--\x3e"!==t.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);t=t.slice(3),o(),e.endTime=i(),o(),function(t,e){const r=new tl;el(t,(function(t,e){let i;switch(t){case"region":for(let i=n.length-1;i>=0;i--)if(n[i].id===e){r.set(t,n[i].region);break}break;case"vertical":r.alt(t,e,["rl","lr"]);break;case"line":i=e.split(","),r.integer(t,i[0]),r.percent(t,i[0])&&r.set("snapToLines",!1),r.alt(t,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",rl,"end"]);break;case"position":i=e.split(","),r.percent(t,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",rl,"end","line-left","line-right","auto"]);break;case"size":r.percent(t,e);break;case"align":r.alt(t,e,["start",rl,"end","left","right"])}}),/:/,/\s/),e.region=r.get("region",null),e.vertical=r.get("vertical","");let i=r.get("line","auto");"auto"===i&&-1===nl.line&&(i=-1),e.line=i,e.lineAlign=r.get("lineAlign","start"),e.snapToLines=r.get("snapToLines",!0),e.size=r.get("size",100),e.align=r.get("align",rl);let o=r.get("position","auto");"auto"===o&&50===nl.position&&(o="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=o}(t,e)}function ol(t){return t.replace(/<br(?: \/)?>/gi,"\n")}class al{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Qs,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(t){const e=this;function n(){let t=e.buffer,n=0;for(t=ol(t);n<t.length&&"\r"!==t[n]&&"\n"!==t[n];)++n;const r=t.slice(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.slice(n),r}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{let t="";if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;t=n();const r=t.match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(null==r||!r[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}let i=!1;for(;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(i?i=!1:t=n(),e.state){case"HEADER":/:/.test(t)?el(t,(function(t,e){}),/:/):t||(e.state="ID");continue;case"NOTE":t||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(t)){e.state="NOTE";break}if(!t)continue;if(e.cue=new Xs(0,0,""),e.state="CUE",-1===t.indexOf("--\x3e")){e.cue.id=t;continue}case"CUE":if(!e.cue){e.state="BADCUE";continue}try{il(t,e.cue,e.regionList)}catch(r){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":{const n=-1!==t.indexOf("--\x3e");if(!t||n&&(i=!0)){e.oncue&&e.cue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}if(null===e.cue)continue;e.cue.text&&(e.cue.text+="\n"),e.cue.text+=t}continue;case"BADCUE":t||(e.state="ID")}}}catch(r){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this}flush(){const t=this;try{if((t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state||"BADWEBVTT"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){t.onparsingerror&&t.onparsingerror(e)}return t.onflush&&t.onflush(),this}}const sl=/\r\n|\n\r|\n|\r/g,ll=function(t,e,n=0){return t.slice(n,n+e.length)===e},cl=function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()};function ul(t,e,n){return cl(t.toString())+cl(e.toString())+cl(n)}function dl(t,e,n,r,i,o,a){const s=new al,l=fr(new Uint8Array(t)).trim().replace(sl,"\n").split("\n"),c=[],u=e?function(t,e=1){return is(t,9e4,1/e)}(e.baseTime,e.timescale):0;let d,h="00:00.000",f=0,p=0,g=!0;s.oncue=function(t){const o=n[r];let a=n.ccOffset;const s=(f-u)/9e4;if(null!=o&&o.new&&(void 0!==p?a=n.ccOffset=o.start:function(t,e,n){let r=t[e],i=t[r.prevCC];if(!i||!i.new&&r.new)return t.ccOffset=t.presentationOffset=r.start,void(r.new=!1);for(;null!=(o=i)&&o.new;){var o;t.ccOffset+=r.start-i.start,r.new=!1,r=i,i=t[r.prevCC]}t.presentationOffset=n}(n,r,s)),s){if(!e)return void(d=new Error("Missing initPTS for VTT MPEGTS"));a=s-n.presentationOffset}const l=t.endTime-t.startTime,h=us(9e4*(t.startTime+a-p),9e4*i)/9e4;t.startTime=Math.max(h,0),t.endTime=Math.max(h+l,0);const g=t.text.trim();t.text=decodeURIComponent(encodeURIComponent(g)),t.id||(t.id=ul(t.startTime,t.endTime,g)),t.endTime>0&&c.push(t)},s.onparsingerror=function(t){d=t},s.onflush=function(){d?a(d):o(c)},l.forEach((t=>{if(g){if(ll(t,"X-TIMESTAMP-MAP=")){g=!1,t.slice(16).split(",").forEach((t=>{ll(t,"LOCAL:")?h=t.slice(6):ll(t,"MPEGTS:")&&(f=parseInt(t.slice(7)))}));try{p=function(t){let e=parseInt(t.slice(-3));const n=parseInt(t.slice(-6,-4)),r=parseInt(t.slice(-9,-7)),i=t.length>9?parseInt(t.substring(0,t.indexOf(":"))):0;if(!fn(e)||!fn(n)||!fn(r)||!fn(i))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${t}`);return e+=1e3*n,e+=6e4*r,e+=36e5*i,e}(h)/1e3}catch(e){d=e}return}""===t&&(g=!1)}s.parse(t+"\n")})),s.flush()}const hl="stpp.ttml.im1t",fl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,pl=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,gl={left:"start",center:"center",right:"end",start:"start",end:"end"};function ml(t,e,n,r){const i=Lr(new Uint8Array(t),["mdat"]);if(0===i.length)return void r(new Error("Could not parse IMSC1 mdat"));const o=i.map((t=>fr(t))),a=function(t,e,n=1,r=!1){return is(t,e,1/n,r)}(e.baseTime,1,e.timescale);try{o.forEach((t=>n(function(t,e){const n=new DOMParser,r=n.parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const i={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(i).reduce(((t,e)=>(t[e]=r.getAttribute(`ttp:${e}`)||i[e],t)),{}),a="preserve"!==r.getAttribute("xml:space"),s=yl(vl(r,"styling","style")),l=yl(vl(r,"layout","region")),c=vl(r,"body","[begin]");return[].map.call(c,(t=>{const n=bl(t,a);if(!n||!t.hasAttribute("begin"))return null;const r=_l(t.getAttribute("begin"),o),i=_l(t.getAttribute("dur"),o);let c=_l(t.getAttribute("end"),o);if(null===r)throw El(t);if(null===c){if(null===i)throw El(t);c=r+i}const u=new Xs(r-e,c-e,n);u.id=ul(u.startTime,u.endTime,u.text);const d=function(t,e,n){const r="http://www.w3.org/ns/ttml#styling";let i=null;const o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!=t&&t.hasAttribute("style")?t.getAttribute("style"):null;a&&n.hasOwnProperty(a)&&(i=n[a]);return o.reduce(((n,o)=>{const a=wl(e,r,o)||wl(t,r,o)||wl(i,r,o);return a&&(n[o]=a),n}),{})}(l[t.getAttribute("region")],s[t.getAttribute("style")],s),{textAlign:h}=d;if(h){const t=gl[h];t&&(u.lineAlign=t),u.align=h}return hn(u,d),u})).filter((t=>null!==t))}(t,a))))}catch(s){r(s)}}function vl(t,e,n){const r=t.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function yl(t){return t.reduce(((t,e)=>{const n=e.getAttribute("xml:id");return n&&(t[n]=e),t}),{})}function bl(t,e){return[].slice.call(t.childNodes).reduce(((t,n,r)=>{var i;return"br"===n.nodeName&&r?t+"\n":null!=(i=n.childNodes)&&i.length?bl(n,e):e?t+n.textContent.trim().replace(/\s+/g," "):t+n.textContent}),"")}function wl(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function El(t){return new Error(`Could not parse ttml timestamp ${t}`)}function _l(t,e){if(!t)return null;let n=Js(t);return null===n&&(fl.test(t)?n=function(t,e){const n=fl.exec(t),r=(0|n[4])+(0|n[5])/e.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/e.frameRate}(t,e):pl.test(t)&&(n=function(t,e){const n=pl.exec(t),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}(t,e))),n}function Tl(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function xl(t,e){return!!t&&t.kind===Tl(e)&&Ls(e,t)}class Sl{constructor(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(t){this.streamController=t}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:t}=this;t.on(mn.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(mn.BUFFER_CODECS,this.onBufferCodecs,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:t}=this;t.off(mn.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(mn.BUFFER_CODECS,this.onBufferCodecs,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(t,e){const n=this.hls.levels[e.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(t,e){this.media=e.media instanceof HTMLVideoElement?e.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(t,e){const n=this.hls;this.restrictedLevels=[],this.firstLevel=e.firstLevel,n.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onLevelsUpdated(t,e){this.timer&&fn(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(t,e){this.hls.config.capLevelToPlayerSize&&e.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);const t=this.hls.levels;if(t.length){const e=this.hls,n=this.getMaxLevel(t.length-1);n!==this.autoLevelCapping&&Tn.log(`Setting autoLevelCapping to ${n}: ${t[n].height}p@${t[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),e.autoLevelCapping=n,e.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}getMaxLevel(t){const e=this.hls.levels;if(!e.length)return-1;const n=e.filter(((e,n)=>this.isLevelAllowed(e)&&n<=t));return this.clientRect=null,Sl.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const t=this.media,e={width:0,height:0};if(t){const n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(e){}return t}isLevelAllowed(t){return!this.restrictedLevels.some((e=>t.bitrate===e.bitrate&&t.width===e.width&&t.height===e.height))}static getMaxLevelByMediaSize(t,e,n){if(null==t||!t.length)return-1;let r=t.length-1;const i=Math.max(e,n);for(let s=0;s<t.length;s+=1){const e=t[s];if((e.width>=i||e.height>=i)&&(o=e,!(a=t[s+1])||o.width!==a.width||o.height!==a.height)){r=s;break}}var o,a;return r}}const Ll="[eme]";class kl{constructor(t){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=kl.CDMCleanupPromise?[kl.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=Tn.debug.bind(Tn,Ll),this.log=Tn.log.bind(Tn,Ll),this.warn=Tn.warn.bind(Tn,Ll),this.error=Tn.error.bind(Tn,Ll),this.hls=t,this.config=t.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const t=this.config;t.requestMediaKeySystemAccessFunc=null,t.licenseXhrSetup=t.licenseResponseCallback=void 0,t.drmSystems=t.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(mn.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(mn.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(t){const{drmSystems:e,widevineLicenseUrl:n}=this.config,r=e[t];if(r)return r.licenseUrl;if(t===$n.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${t}"`)}getServerCertificateUrl(t){const{drmSystems:e}=this.config,n=e[t];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${t}"]`)}attemptKeySystemAccess(t){const e=this.hls.levels,n=(t,e,n)=>!!t&&n.indexOf(t)===e,r=e.map((t=>t.audioCodec)).filter(n),i=e.map((t=>t.videoCodec)).filter(n);return r.length+i.length===0&&i.push("avc1.42e01e"),new Promise(((e,n)=>{const o=t=>{const a=t.shift();this.getMediaKeysPromise(a,r,i).then((t=>e({keySystem:a,mediaKeys:t}))).catch((e=>{t.length?o(t):n(e instanceof Al?e:new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_ACCESS,error:e,fatal:!0},e.message))}))};o(t)}))}requestMediaKeySystemAccess(t,e){const{requestMediaKeySystemAccessFunc:n}=this.config;if("function"!==typeof n){let t=`Configured requestMediaKeySystemAccess is not a function ${n}`;return null===Yn&&"http:"===self.location.protocol&&(t=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(t))}return n(t,e)}getMediaKeysPromise(t,e,n){const r=function(t,e,n,r){let i;switch(t){case $n.FAIRPLAY:i=["cenc","sinf"];break;case $n.WIDEVINE:case $n.PLAYREADY:i=["cenc"];break;case $n.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return function(t,e,n,r){return[{initDataTypes:t,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map((t=>({contentType:`audio/mp4; codecs="${t}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null}))),videoCapabilities:n.map((t=>({contentType:`video/mp4; codecs="${t}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null})))}]}(i,e,n,r)}(t,e,n,this.config.drmSystemOptions),i=this.keySystemAccessPromises[t];let o=null==i?void 0:i.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${t}" key-system access with config: ${JSON.stringify(r)}`),o=this.requestMediaKeySystemAccess(t,r);const e=this.keySystemAccessPromises[t]={keySystemAccess:o};return o.catch((e=>{this.log(`Failed to obtain access to key-system "${t}": ${e}`)})),o.then((n=>{this.log(`Access for key-system "${n.keySystem}" obtained`);const r=this.fetchServerCertificate(t);return this.log(`Create media-keys for "${t}"`),e.mediaKeys=n.createMediaKeys().then((e=>(this.log(`Media-keys created for "${t}"`),r.then((n=>n?this.setMediaKeysServerCertificate(e,t,n):e))))),e.mediaKeys.catch((e=>{this.error(`Failed to create media-keys for "${t}"}: ${e}`)})),e.mediaKeys}))}return o.then((()=>i.mediaKeys))}createMediaKeySessionContext({decryptdata:t,keySystem:e,mediaKeys:n}){this.log(`Creating key-system session "${e}" keyId: ${mr(t.keyId||[])}`);const r=n.createSession(),i={decryptdata:t,keySystem:e,mediaKeys:n,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(i),i}renewKeySession(t){const e=t.decryptdata;if(e.pssh){const n=this.createMediaKeySessionContext(t),r=this.getKeyIdString(e),i="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(n,i,e.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(t)}getKeyIdString(t){if(!t)throw new Error("Could not read keyId of undefined decryptdata");if(null===t.keyId)throw new Error("keyId is null");return mr(t.keyId)}updateKeySession(t,e){var n;const r=t.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${mr((null==(n=t.decryptdata)?void 0:n.keyId)||[])}\n      } (data length: ${e?e.byteLength:e})`),r.update(e)}selectKeySystemFormat(t){const e=Object.keys(t.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${t.sn} ${t.type}: ${t.level}) key formats ${e.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(e)),this.keyFormatPromise}getKeyFormatPromise(t){return new Promise(((e,n)=>{const r=Wn(this.config),i=t.map(zn).filter((t=>!!t&&-1!==r.indexOf(t)));return this.getKeySystemSelectionPromise(i).then((({keySystem:t})=>{const r=qn(t);r?e(r):n(new Error(`Unable to find format for key-system "${t}"`))})).catch(n)}))}loadKey(t){const e=t.keyInfo.decryptdata,n=this.getKeyIdString(e),r=`(keyId: ${n} format: "${e.keyFormat}" method: ${e.method} uri: ${e.uri})`;this.log(`Starting session for key ${r}`);let i=this.keyIdToKeySessionPromise[n];return i||(i=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(e).then((({keySystem:n,mediaKeys:i})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${t.frag.sn} ${t.frag.type}: ${t.frag.level} using key ${r}`),this.attemptSetMediaKeys(n,i).then((()=>{this.throwIfDestroyed();const t=this.createMediaKeySessionContext({keySystem:n,mediaKeys:i,decryptdata:e});return this.generateRequestWithPreferredKeySession(t,"cenc",e.pssh,"playlist-key")}))))),i.catch((t=>this.handleError(t)))),i}throwIfDestroyed(t="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(t){this.hls&&(this.error(t.message),t instanceof Al?this.hls.trigger(mn.ERROR,t.data):this.hls.trigger(mn.ERROR,{type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_KEYS,error:t,fatal:!0}))}getKeySystemForKeyPromise(t){const e=this.getKeyIdString(t),n=this.keyIdToKeySessionPromise[e];if(!n){const e=zn(t.keyFormat),n=e?[e]:Wn(this.config);return this.attemptKeySystemAccess(n)}return n}getKeySystemSelectionPromise(t){if(t.length||(t=Wn(this.config)),0===t.length)throw new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(t)}_onMediaEncrypted(t){const{initDataType:e,initData:n}=t;if(this.debug(`"${t.type}" event: init data type: "${e}"`),null===n)return;let r,i;if("sinf"===e&&this.config.drmSystems[$n.FAIRPLAY]){const t=wr(new Uint8Array(n));try{const e=Fn(JSON.parse(t).sinf),n=Dr(new Uint8Array(e));if(!n)return;r=n.subarray(8,24),i=$n.FAIRPLAY}catch(c){return void this.warn('Failed to parse sinf "encrypted" event message initData')}}else{const t=function(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},n=new DataView(t),r=n.getUint32(0);if(t.byteLength!==r&&r>44)return null;if(1886614376!==n.getUint32(4))return null;if(e.version=n.getUint32(8)>>>24,e.version>1)return null;e.systemId=mr(new Uint8Array(t,12,16));const i=n.getUint32(28);if(0===e.version){if(r-32<i)return null;e.data=new Uint8Array(t,32,i)}else if(1===e.version){e.kids=[];for(let n=0;n<i;n++)e.kids.push(new Uint8Array(t,32+16*n,16))}return e}(n);if(null===t)return;0===t.version&&t.systemId===Zn&&t.data&&(r=t.data.subarray(8,24)),i=function(t){if(t===Zn)return $n.WIDEVINE}(t.systemId)}if(!i||!r)return;const o=mr(r),{keyIdToKeySessionPromise:a,mediaKeySessions:s}=this;let l=a[o];for(let u=0;u<s.length;u++){const t=s[u],i=t.decryptdata;if(i.pssh||!i.keyId)continue;const c=mr(i.keyId);if(o===c||-1!==i.uri.replace(/-/g,"").indexOf(o)){l=a[c],delete a[c],i.pssh=new Uint8Array(n),i.keyId=r,l=a[o]=l.then((()=>this.generateRequestWithPreferredKeySession(t,e,n,"encrypted-event-key-match")));break}}l||(l=a[o]=this.getKeySystemSelectionPromise([i]).then((({keySystem:t,mediaKeys:i})=>{var a;this.throwIfDestroyed();const s=new Gr("ISO-23001-7",o,null!=(a=qn(t))?a:"");return s.pssh=new Uint8Array(n),s.keyId=r,this.attemptSetMediaKeys(t,i).then((()=>{this.throwIfDestroyed();const r=this.createMediaKeySessionContext({decryptdata:s,keySystem:t,mediaKeys:i});return this.generateRequestWithPreferredKeySession(r,e,n,"encrypted-event-no-match")}))}))),l.catch((t=>this.handleError(t)))}_onWaitingForKey(t){this.log(`"${t.type}" event`)}attemptSetMediaKeys(t,e){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${t}"`);const r=Promise.all(n).then((()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(e)}));return this.setMediaKeysQueue.push(r),r.then((()=>{this.log(`Media-keys set for "${t}"`),n.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter((t=>-1===n.indexOf(t)))}))}generateRequestWithPreferredKeySession(t,e,n,r){var i,o;const a=null==(i=this.config.drmSystems)||null==(o=i[t.keySystem])?void 0:o.generateRequest;if(a)try{const r=a.call(this.hls,e,n,t);if(!r)throw new Error("Invalid response from configured generateRequest filter");e=r.initDataType,n=t.decryptdata.pssh=r.initData?new Uint8Array(r.initData):null}catch(f){var s;if(this.warn(f.message),null!=(s=this.hls)&&s.config.debug)throw f}if(null===n)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(t);const l=this.getKeyIdString(t.decryptdata);this.log(`Generating key-session request for "${r}": ${l} (init data type: ${e} length: ${n?n.byteLength:null})`);const c=new _s,u=t._onmessage=e=>{const n=t.mediaKeysSession;if(!n)return void c.emit("error",new Error("invalid state"));const{messageType:r,message:i}=e;this.log(`"${r}" message event for session "${n.sessionId}" message size: ${i.byteLength}`),"license-request"===r||"license-renewal"===r?this.renewLicense(t,i).catch((t=>{this.handleError(t),c.emit("error",t)})):"license-release"===r?t.keySystem===$n.FAIRPLAY&&(this.updateKeySession(t,Un("acknowledged")),this.removeSession(t)):this.warn(`unhandled media key message type "${r}"`)},d=t._onkeystatuseschange=e=>{if(!t.mediaKeysSession)return void c.emit("error",new Error("invalid state"));this.onKeyStatusChange(t);const n=t.keyStatus;c.emit("keyStatus",n),"expired"===n&&(this.warn(`${t.keySystem} expired for key ${l}`),this.renewKeySession(t))};t.mediaKeysSession.addEventListener("message",u),t.mediaKeysSession.addEventListener("keystatuseschange",d);const h=new Promise(((t,e)=>{c.on("error",e),c.on("keyStatus",(n=>{n.startsWith("usable")?t():"output-restricted"===n?e(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):"internal-error"===n?e(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${n}"`)):"expired"===n?e(new Error("key expired while generating request")):this.warn(`unhandled key status change "${n}"`)}))}));return t.mediaKeysSession.generateRequest(e,n).then((()=>{var e;this.log(`Request generated for key-session "${null==(e=t.mediaKeysSession)?void 0:e.sessionId}" keyId: ${l}`)})).catch((t=>{throw new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_NO_SESSION,error:t,fatal:!1},`Error generating key-session request: ${t}`)})).then((()=>h)).catch((e=>{throw c.removeAllListeners(),this.removeSession(t),e})).then((()=>(c.removeAllListeners(),t)))}onKeyStatusChange(t){t.mediaKeysSession.keyStatuses.forEach(((e,n)=>{this.log(`key status change "${e}" for keyStatuses keyId: ${mr("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${mr(new Uint8Array(t.decryptdata.keyId||[]))} uri: ${t.decryptdata.uri}`),t.keyStatus=e}))}fetchServerCertificate(t){const e=this.config,n=new(0,e.loader)(e),r=this.getServerCertificateUrl(t);return r?(this.log(`Fetching server certificate for "${t}"`),new Promise(((i,o)=>{const a={responseType:"arraybuffer",url:r},s=e.certLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(t,e,n,r)=>{i(t.data)},onError:(e,n,i,s)=>{o(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:cn({url:a.url,data:void 0},e)},`"${t}" certificate request failed (${r}). Status: ${e.code} (${e.text})`))},onTimeout:(e,n,i)=>{o(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:i,response:{url:a.url,data:void 0}},`"${t}" certificate request timed out (${r})`))},onAbort:(t,e,n)=>{o(new Error("aborted"))}};n.load(a,l,c)}))):Promise.resolve()}setMediaKeysServerCertificate(t,e,n){return new Promise(((r,i)=>{t.setServerCertificate(n).then((i=>{this.log(`setServerCertificate ${i?"success":"not supported by CDM"} (${null==n?void 0:n.byteLength}) on "${e}"`),r(t)})).catch((t=>{i(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:t,fatal:!0},t.message))}))}))}renewLicense(t,e){return this.requestLicense(t,new Uint8Array(e)).then((e=>this.updateKeySession(t,new Uint8Array(e)).catch((t=>{throw new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:t,fatal:!0},t.message)}))))}unpackPlayReadyKeyMessage(t,e){const n=String.fromCharCode.apply(null,new Uint16Array(e.buffer));if(!n.includes("PlayReadyKeyMessage"))return t.setRequestHeader("Content-Type","text/xml; charset=utf-8"),e;const r=(new DOMParser).parseFromString(n,"application/xml"),i=r.querySelectorAll("HttpHeader");if(i.length>0){let e;for(let n=0,r=i.length;n<r;n++){var o,a;e=i[n];const r=null==(o=e.querySelector("name"))?void 0:o.textContent,s=null==(a=e.querySelector("value"))?void 0:a.textContent;r&&s&&t.setRequestHeader(r,s)}}const s=r.querySelector("Challenge"),l=null==s?void 0:s.textContent;if(!l)throw new Error("Cannot find <Challenge> in key message");return Un(atob(l))}setupLicenseXHR(t,e,n,r){const i=this.config.licenseXhrSetup;return i?Promise.resolve().then((()=>{if(!n.decryptdata)throw new Error("Key removed");return i.call(this.hls,t,e,n,r)})).catch((o=>{if(!n.decryptdata)throw o;return t.open("POST",e,!0),i.call(this.hls,t,e,n,r)})).then((n=>{t.readyState||t.open("POST",e,!0);return{xhr:t,licenseChallenge:n||r}})):(t.open("POST",e,!0),Promise.resolve({xhr:t,licenseChallenge:r}))}requestLicense(t,e){const n=this.config.keyLoadPolicy.default;return new Promise(((r,i)=>{const o=this.getLicenseServerUrl(t.keySystem);this.log(`Sending license request to URL: ${o}`);const a=new XMLHttpRequest;a.responseType="arraybuffer",a.onreadystatechange=()=>{if(!this.hls||!t.mediaKeysSession)return i(new Error("invalid state"));if(4===a.readyState)if(200===a.status){this._requestLicenseFailureCount=0;let e=a.response;this.log(`License received ${e instanceof ArrayBuffer?e.byteLength:e}`);const n=this.config.licenseResponseCallback;if(n)try{e=n.call(this.hls,a,o,t)}catch(s){this.error(s)}r(e)}else{const s=n.errorRetry,l=s?s.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||a.status>=400&&a.status<500)i(new Al({type:vn.KEY_SYSTEM_ERROR,details:yn.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:a,response:{url:o,data:void 0,code:a.status,text:a.statusText}},`License Request XHR failed (${o}). Status: ${a.status} (${a.statusText})`));else{const n=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${n} attempts left`),this.requestLicense(t,e).then(r,i)}}},t.licenseXhr&&t.licenseXhr.readyState!==XMLHttpRequest.DONE&&t.licenseXhr.abort(),t.licenseXhr=a,this.setupLicenseXHR(a,o,t,e).then((({xhr:e,licenseChallenge:n})=>{t.keySystem==$n.PLAYREADY&&(n=this.unpackPlayReadyKeyMessage(e,n)),e.send(n)}))}))}onMediaAttached(t,e){if(!this.config.emeEnabled)return;const n=e.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const t=this.media,e=this.mediaKeySessions;t&&(t.removeEventListener("encrypted",this.onMediaEncrypted),t.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},Gr.clearKeyUriToKeyIdMap();const n=e.length;kl.CDMCleanupPromise=Promise.all(e.map((t=>this.removeSession(t))).concat(null==t?void 0:t.setMediaKeys(null).catch((t=>{this.log(`Could not clear media keys: ${t}`)})))).then((()=>{n&&(this.log("finished closing key sessions and clearing media keys"),e.length=0)})).catch((t=>{this.log(`Could not close sessions and clear media keys: ${t}`)}))}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(t,{sessionKeys:e}){if(e&&this.config.emeEnabled&&!this.keyFormatPromise){const t=e.reduce(((t,e)=>(-1===t.indexOf(e.keyFormat)&&t.push(e.keyFormat),t)),[]);this.log(`Selecting key-system from session-keys ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)}}removeSession(t){const{mediaKeysSession:e,licenseXhr:n}=t;if(e){this.log(`Remove licenses and keys and close session ${e.sessionId}`),t._onmessage&&(e.removeEventListener("message",t._onmessage),t._onmessage=void 0),t._onkeystatuseschange&&(e.removeEventListener("keystatuseschange",t._onkeystatuseschange),t._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),t.mediaKeysSession=t.decryptdata=t.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(t);return r>-1&&this.mediaKeySessions.splice(r,1),e.remove().catch((t=>{this.log(`Could not remove session: ${t}`)})).then((()=>e.close())).catch((t=>{this.log(`Could not close session: ${t}`)}))}}}kl.CDMCleanupPromise=void 0;class Al extends Error{constructor(t,e){super(e),this.data=void 0,t.error||(t.error=new Error(e)),this.data=t,t.err=t.error}}var Ol,Rl,Cl;!function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"}(Ol||(Ol={})),function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"}(Rl||(Rl={})),function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"}(Cl||(Cl={}));const Il={[Cl.OBJECT]:["br","d","ot","tb"],[Cl.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Cl.SESSION]:["cid","pr","sf","sid","st","v"],[Cl.STATUS]:["bs","rtp"]};class Dl{constructor(t,e){this.value=void 0,this.params=void 0,Array.isArray(t)&&(t=t.map((t=>t instanceof Dl?t:new Dl(t)))),this.value=t,this.params=e}}class Nl{constructor(t){this.description=void 0,this.description=t}}function Pl(t,e,n,r){return new Error(`failed to ${t} "${i=e,Array.isArray(i)?JSON.stringify(i):i instanceof Map?"Map{}":i instanceof Set?"Set{}":"object"===typeof i?JSON.stringify(i):String(i)}" as ${n}`,{cause:r});var i}const Ml="Bare Item";const Fl=/[\x00-\x1f\x7f]+/;function Bl(t,e,n){return Pl("serialize",t,e,n)}function Ul(t){if(!1===ArrayBuffer.isView(t))throw Bl(t,"Byte Sequence");return`:${e=t,btoa(String.fromCharCode(...e))}:`;var e}function jl(t){if(function(t){return t<-999999999999999||999999999999999<t}(t))throw Bl(t,"Integer");return t.toString()}function $l(t,e){if(t<0)return-$l(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const e=Math.floor(t*n);return(e%2===0?e:e+1)/n}return Math.round(t*n)/n}function Gl(t){const e=$l(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Bl(t,"Decimal");const n=e.toString();return n.includes(".")?n:`${n}.0`}function Hl(t){const e=(n=t).description||n.toString().slice(7,-1);var n;if(!1===/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e))throw Bl(e,"Token");return e}function Kl(t){switch(typeof t){case"number":if(!fn(t))throw Bl(t,Ml);return Number.isInteger(t)?jl(t):Gl(t);case"string":return function(t){if(Fl.test(t))throw Bl(t,"String");return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}(t);case"symbol":return Hl(t);case"boolean":return function(t){if("boolean"!==typeof t)throw Bl(t,"Boolean");return t?"?1":"?0"}(t);case"object":if(t instanceof Date)return function(t){return`@${jl(t.getTime()/1e3)}`}(t);if(t instanceof Uint8Array)return Ul(t);if(t instanceof Nl)return Hl(t);default:throw Bl(t,Ml)}}function Vl(t){if(!1===/^[a-z*][a-z0-9\-_.*]*$/.test(t))throw Bl(t,"Key");return t}function zl(t){return null==t?"":Object.entries(t).map((([t,e])=>!0===e?`;${Vl(t)}`:`;${Vl(t)}=${Kl(e)}`)).join("")}function Zl(t){return t instanceof Dl?`${Kl(t.value)}${zl(t.params)}`:Kl(t)}function ql(t,e={whitespace:!0}){if("object"!==typeof t)throw Bl(t,"Dict");const n=t instanceof Map?t.entries():Object.entries(t),r=null!=e&&e.whitespace?" ":"";return Array.from(n).map((([t,e])=>{e instanceof Dl===!1&&(e=new Dl(e));let n=Vl(t);var r;return!0===e.value?n+=zl(e.params):(n+="=",Array.isArray(e.value)?n+=`(${(r=e).value.map(Zl).join(" ")})${zl(r.params)}`:n+=Zl(e)),n})).join(`,${r}`)}const Wl=t=>Math.round(t),Yl=t=>100*Wl(t/100),Xl={br:Wl,d:Wl,bl:Yl,dl:Yl,mtp:Yl,nor:(t,e)=>(null!=e&&e.baseUrl&&(t=function(t,e){const n=new URL(t),r=new URL(e);if(n.origin!==r.origin)return t;const i=n.pathname.split("/").slice(1),o=r.pathname.split("/").slice(1,-1);for(;i[0]===o[0];)i.shift(),o.shift();for(;o.length;)o.shift(),i.unshift("..");return i.join("/")}(t,e.baseUrl)),encodeURIComponent(t)),rtp:Yl,tb:Wl};function Ql(t,e){const n={};if(null==t||"object"!==typeof t)return n;const r=Object.keys(t).sort(),i=hn({},Xl,null==e?void 0:e.formatters),o=null==e?void 0:e.filter;return r.forEach((r=>{if(null!=o&&o(r))return;let a=t[r];const s=i[r];s&&(a=s(a,e)),"v"===r&&1===a||"pr"==r&&1===a||(t=>"number"===typeof t?fn(t):null!=t&&""!==t&&!1!==t)(a)&&((t=>"ot"===t||"sf"===t||"st"===t)(r)&&"string"===typeof a&&(a=new Nl(a)),n[r]=a)})),n}function Jl(t,e={}){return t?function(t,e){return ql(t,e)}(Ql(t,e),hn({whitespace:!1},e)):""}function tc(t,e,n){return hn(t,function(t,e={}){if(!t)return{};const n=Object.entries(t),r=Object.entries(Il).concat(Object.entries((null==e?void 0:e.customHeaderMap)||{})),i=n.reduce(((t,e)=>{var n;const[i,o]=e,a=(null==(n=r.find((t=>t[1].includes(i))))?void 0:n[0])||Cl.REQUEST;return null!=t[a]||(t[a]={}),t[a][i]=o,t}),{});return Object.entries(i).reduce(((t,[n,r])=>(t[n]=Jl(r,e),t)),{})}(e,n))}const ec=/CMCD=[^&#]+/;function nc(t,e,n){const r=function(t,e={}){if(!t)return"";const n=Jl(t,e);return`CMCD=${encodeURIComponent(n)}`}(e,n);if(!r)return t;if(ec.test(t))return t.replace(ec,r);const i=t.includes("?")?"&":"?";return`${t}${i}${r}`}function rc(t,e,n,r){t&&Object.keys(e).forEach((i=>{const o=t.filter((t=>t.groupId===i)).map((t=>{const o=hn({},t);return o.details=void 0,o.attrs=new Ln(o.attrs),o.url=o.attrs.URI=ic(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=r,o}));t.push(...o)}))}function ic(t,e,n,r){const{HOST:i,PARAMS:o,[n]:a}=r;let s;e&&(s=null==a?void 0:a[e],s&&(t=s));const l=new self.URL(t);return i&&!s&&(l.host=i),o&&Object.keys(o).sort().forEach((t=>{t&&l.searchParams.set(t,o[t])})),l.href}const oc=/^age:\s*[\d.]+\s*$/im;class ac{constructor(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new On,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null,this.stats=null}abortInternal(){const t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(t,e,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=e,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:t,context:e}=this;if(!t||!e)return;const n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const i=this.xhrSetup;i?Promise.resolve().then((()=>{if(!this.stats.aborted)return i(n,e.url)})).catch((t=>(n.open("GET",e.url,!0),i(n,e.url)))).then((()=>{this.stats.aborted||this.openAndSendXhr(n,e,t)})).catch((t=>{this.callbacks.onError({code:n.status,text:t.message},e,n,r)})):this.openAndSendXhr(n,e,t)}openAndSendXhr(t,e,n){t.readyState||t.open("GET",e.url,!0);const r=e.headers,{maxTimeToFirstByteMs:i,maxLoadTimeMs:o}=n.loadPolicy;if(r)for(const a in r)t.setRequestHeader(a,r[a]);e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,self.clearTimeout(this.requestTimeout),n.timeout=i&&fn(i)?i:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),t.send()}readystatechange(){const{context:t,loader:e,stats:n}=this;if(!t||!e)return;const r=e.readyState,i=this.config;if(!n.aborted&&r>=2&&(0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),i.timeout!==i.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),i.timeout=i.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),4===r)){self.clearTimeout(this.requestTimeout),e.onreadystatechange=null,e.onprogress=null;const r=e.status,o="text"!==e.responseType;if(r>=200&&r<300&&(o&&e.response||null!==e.responseText)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const i=o?e.response:e.responseText,a="arraybuffer"===e.responseType?i.byteLength:i.length;if(n.loaded=n.total=a,n.bwEstimate=8e3*n.total/(n.loading.end-n.loading.first),!this.callbacks)return;const s=this.callbacks.onProgress;if(s&&s(n,t,i,e),!this.callbacks)return;const l={url:e.responseURL,data:i,code:r};this.callbacks.onSuccess(l,n,t,e)}else{const o=i.loadPolicy.errorRetry;co(o,n.retry,!1,{url:t.url,data:void 0,code:r})?this.retry(o):(Tn.error(`${r} while loading ${t.url}`),this.callbacks.onError({code:r,text:e.statusText},t,e,n))}}}loadtimeout(){var t;const e=null==(t=this.config)?void 0:t.loadPolicy.timeoutRetry;if(co(e,this.stats.retry,!0))this.retry(e);else{var n;Tn.warn(`timeout while loading ${null==(n=this.context)?void 0:n.url}`);const t=this.callbacks;t&&(this.abortInternal(),t.onTimeout(this.stats,this.context,this.loader))}}retry(t){const{context:e,stats:n}=this;this.retryDelay=so(t,n.retry),n.retry++,Tn.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${null==e?void 0:e.url}, retrying ${n.retry}/${t.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(t){const e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total)}getCacheAge(){let t=null;if(this.loader&&oc.test(this.loader.getAllResponseHeaders())){const e=this.loader.getResponseHeader("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.loader&&new RegExp(`^${t}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null}}const sc=/(\d+)-(\d+)\/(\d+)/;class lc{constructor(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||cc,this.controller=new self.AbortController,this.stats=new On}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(t,e,n){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const i=function(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(hn({},t.headers))};t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1));return n}(t,this.controller.signal),o=n.onProgress,a="arraybuffer"===t.responseType,s=a?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:c}=e.loadPolicy;this.context=t,this.config=e,this.callbacks=n,this.request=this.fetchSetup(t,i),self.clearTimeout(this.requestTimeout),e.timeout=l&&fn(l)?l:c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),e.timeout),self.fetch(this.request).then((i=>{this.response=this.loader=i;const s=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),e.timeout=c,this.requestTimeout=self.setTimeout((()=>{this.abortInternal(),n.onTimeout(r,t,this.response)}),c-(s-r.loading.start)),!i.ok){const{status:t,statusText:e}=i;throw new uc(e||"fetch, bad network response",t,i)}return r.loading.first=s,r.total=function(t){const e=t.get("Content-Range");if(e){const t=function(t){const e=sc.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}(e);if(fn(t))return t}const n=t.get("Content-Length");if(n)return parseInt(n)}(i.headers)||r.total,o&&fn(e.highWaterMark)?this.loadProgressively(i,r,t,e.highWaterMark,o):a?i.arrayBuffer():"json"===t.responseType?i.json():i.text()})).then((i=>{const a=this.response;if(!a)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const l=i[s];l&&(r.loaded=r.total=l);const c={url:a.url,data:i,code:a.status};o&&!fn(e.highWaterMark)&&o(r,t,i,a),n.onSuccess(c,r,t,a)})).catch((e=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const i=e&&e.code||0,o=e?e.message:null;n.onError({code:i,text:o},t,e?e.details:null,r)}))}getCacheAge(){let t=null;if(this.response){const e=this.response.headers.get("age");t=e?parseFloat(e):null}return t}getResponseHeader(t){return this.response?this.response.headers.get(t):null}loadProgressively(t,e,n,r=0,i){const o=new ba,a=t.body.getReader(),s=()=>a.read().then((a=>{if(a.done)return o.dataLength&&i(e,n,o.flush(),t),Promise.resolve(new ArrayBuffer(0));const l=a.value,c=l.length;return e.loaded+=c,c<r||o.dataLength?(o.push(l),o.dataLength>=r&&i(e,n,o.flush(),t)):i(e,n,l,t),s()})).catch((()=>Promise.reject()));return s()}}function cc(t,e){return new self.Request(t.url,e)}class uc extends Error{constructor(t,e,n){super(t),this.code=void 0,this.details=void 0,this.code=e,this.details=n}}const dc=/\s/,hc={newCue(t,e,n,r){const i=[];let o,a,s,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<r.rows.length;h++)if(o=r.rows[h],s=!0,l=0,c="",!o.isEmpty()){var d;for(let t=0;t<o.chars.length;t++)dc.test(o.chars[t].uchar)&&s?l++:(c+=o.chars[t].uchar,s=!1);o.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const r=ol(c.trim()),f=ul(e,n,r);null!=t&&null!=(d=t.cues)&&d.getCueById(f)||(a=new u(e,n,r),a.id=f,a.line=h+1,a.align="left",a.position=10+Math.min(80,10*Math.floor(8*l/32)),i.push(a))}return t&&i.length&&(i.sort(((t,e)=>"auto"===t.line||"auto"===e.line?0:t.line>8&&e.line>8?e.line-t.line:t.line-e.line)),i.forEach((e=>Ri(t,e)))),i}},fc=cn(cn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ac,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:class{constructor(t){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:t,partCurrent:e,hls:n}=this,{autoLevelEnabled:r,media:i}=n;if(!t||!i)return;const o=performance.now(),a=e?e.stats:t.stats,s=e?e.duration:t.duration,l=o-a.loading.start,c=n.minAutoLevel;if(a.aborted||a.loaded&&a.loaded===a.total||t.level<=c)return this.clearTimer(),void(this._nextAutoLevel=-1);if(!r||i.paused||!i.playbackRate||!i.readyState)return;const u=n.mainForwardBufferInfo;if(null===u)return;const d=this.bwEstimator.getEstimateTTFB(),h=Math.abs(i.playbackRate);if(l<=Math.max(d,s/(2*h)*1e3))return;const f=u.len/h,p=a.loading.first?a.loading.first-a.loading.start:-1,g=a.loaded&&p>-1,m=this.getBwEstimate(),v=n.levels,y=v[t.level],b=a.total||Math.max(a.loaded,Math.round(s*y.averageBitrate/8));let w=g?l-p:l;w<1&&g&&(w=Math.min(l,8*a.loaded/m));const E=g?1e3*a.loaded/w:0,_=E?(b-a.loaded)/E:8*b/m+d/1e3;if(_<=f)return;const T=E?8*E:m;let x,S=Number.POSITIVE_INFINITY;for(x=t.level-1;x>c;x--){const t=v[x].maxBitrate;if(S=this.getTimeToLoadFrag(d/1e3,T,s*t,!v[x].details),S<f)break}if(S>=_)return;if(S>10*s)return;n.nextLoadLevel=n.nextAutoLevel=x,g?this.bwEstimator.sample(l-Math.min(d,p),a.loaded):this.bwEstimator.sampleTTFB(l);const L=v[x].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>L&&this.resetEstimator(L),this.clearTimer(),Tn.warn(`[abr] Fragment ${t.sn}${e?" part "+e.index:""} of level ${t.level} is loading too slowly;\n      Time to underbuffer: ${f.toFixed(3)} s\n      Estimated load time for current fragment: ${_.toFixed(3)} s\n      Estimated load time for down switch fragment: ${S.toFixed(3)} s\n      TTFB estimate: ${0|p} ms\n      Current BW estimate: ${fn(m)?0|m:"Unknown"} bps\n      New BW estimate: ${0|this.getBwEstimate()} bps\n      Switching to level ${x} @ ${0|L} bps`),n.trigger(mn.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:e,stats:a})},this.hls=t,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(t){t&&(Tn.log(`setting initial bwe to ${t}`),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const t=this.hls.config;return new xo(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)}registerListeners(){const{hls:t}=this;t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.FRAG_LOADING,this.onFragLoading,this),t.on(mn.FRAG_LOADED,this.onFragLoaded,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(mn.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t&&(t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.FRAG_LOADING,this.onFragLoading,this),t.off(mn.FRAG_LOADED,this.onFragLoaded,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(mn.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(mn.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(t,e){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(t,e){const n=e.frag;if(!this.ignoreFragment(n)){var r;if(!n.bitrateTest)this.fragCurrent=n,this.partCurrent=null!=(r=e.part)?r:null;this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(t,e){this.clearTimer()}onError(t,e){if(!e.fatal)switch(e.details){case yn.BUFFER_ADD_CODEC_ERROR:case yn.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case yn.FRAG_LOAD_TIMEOUT:{const t=e.frag,{fragCurrent:n,partCurrent:r}=this;if(t&&n&&t.sn===n.sn&&t.level===n.level){const e=performance.now(),n=r?r.stats:t.stats,i=e-n.loading.start,o=n.loading.first?n.loading.first-n.loading.start:-1;if(n.loaded&&o>-1){const t=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(i-Math.min(t,o),n.loaded)}else this.bwEstimator.sampleTTFB(i)}break}}}getTimeToLoadFrag(t,e,n,r){return t+n/e+(r?this.lastLevelLoadSec:0)}onLevelLoaded(t,e){const n=this.hls.config,{loading:r}=e.stats,i=r.end-r.start;fn(i)&&(this.lastLevelLoadSec=i/1e3),e.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(t,{frag:e,part:n}){const r=n?n.stats:e.stats;if(e.type===Ti&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const t=n?n.duration:e.duration,i=this.hls.levels[e.level],o=(i.loaded?i.loaded.bytes:0)+r.loaded,a=(i.loaded?i.loaded.duration:0)+t;i.loaded={bytes:o,duration:a},i.realBitrate=Math.round(8*o/a)}if(e.bitrateTest){const t={stats:r,frag:e,part:n,id:e.type};this.onFragBuffered(mn.FRAG_BUFFERED,t),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}}onFragBuffered(t,e){const{frag:n,part:r}=e,i=null!=r&&r.stats.loaded?r.stats:n.stats;if(i.aborted)return;if(this.ignoreFragment(n))return;const o=i.parsing.end-i.loading.start-Math.min(i.loading.first-i.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(t){return t.type!==Ti||"initSegment"===t.sn}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:t,minAutoLevel:e}=this.hls,n=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,i=this.findBestLevel(n,e,t,0,r,1,1);if(i>-1)return i;const o=this.hls.firstLevel,a=Math.min(Math.max(o,e),t);return Tn.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${a}`),a}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const t=this.forcedAutoLevel,e=this.bwEstimator.canEstimate(),n=this.lastLoadedFragLevel>-1;if(-1!==t&&(!e||!n||this.nextAutoLevelKey===this.getAutoLevelKey()))return t;const r=e&&n?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){const e=this.hls.levels;if(e.length>Math.max(t,r)&&e[t].loadError<=e[r].loadError)return t}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:t,partCurrent:e,hls:n}=this,{maxAutoLevel:r,config:i,minAutoLevel:o}=n,a=e?e.duration:t?t.duration:0,s=this.getBwEstimate(),l=this.getStarvationDelay();let c=i.abrBandWidthFactor,u=i.abrBandWidthUpFactor;if(l){const t=this.findBestLevel(s,o,r,l,0,c,u);if(t>=0)return t}let d=a?Math.min(a,i.maxStarvationDelay):i.maxStarvationDelay;if(!l){const t=this.bitrateTestDelay;if(t){d=(a?Math.min(a,i.maxLoadingDelay):i.maxLoadingDelay)-t,Tn.info(`[abr] bitrate test took ${Math.round(1e3*t)}ms, set first fragment max fetchDuration to ${Math.round(1e3*d)} ms`),c=u=1}}const h=this.findBestLevel(s,o,r,l,d,c,u);if(Tn.info(`[abr] ${l?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const f=n.levels[o],p=n.levels[n.loadLevel];return(null==f?void 0:f.bitrate)<(null==p?void 0:p.bitrate)?o:n.loadLevel}getStarvationDelay(){const t=this.hls,e=t.media;if(!e)return 1/0;const n=e&&0!==e.playbackRate?Math.abs(e.playbackRate):1,r=t.mainForwardBufferInfo;return(r?r.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(t,e,n,r,i,o,a){var s;const l=r+i,c=this.lastLoadedFragLevel,u=-1===c?this.hls.firstLevel:c,{fragCurrent:d,partCurrent:h}=this,{levels:f,allAudioTracks:p,loadLevel:g,config:m}=this.hls;if(1===f.length)return 0;const v=f[u],y=!(null==v||null==(s=v.details)||!s.live),b=-1===g||-1===c;let w,E="SDR",_=(null==v?void 0:v.frameRate)||0;const{audioPreference:T,videoPreference:x}=m,S=this.audioTracksByGroup||(this.audioTracksByGroup=function(t){return t.reduce(((t,e)=>{let n=t.groups[e.groupId];n||(n=t.groups[e.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(e);const r=e.channels||"2";return n.channels[r]=(n.channels[r]||0)+1,n.hasDefault=n.hasDefault||e.default,n.hasAutoSelect=n.hasAutoSelect||e.autoselect,n.hasDefault&&(t.hasDefaultAudio=!0),n.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}(p));if(b){if(-1!==this.firstSelection)return this.firstSelection;const r=this.codecTiers||(this.codecTiers=function(t,e,n,r){return t.slice(n,r+1).reduce(((t,n)=>{if(!n.codecSet)return t;const r=n.audioGroups;let i=t[n.codecSet];i||(t[n.codecSet]=i={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!r,fragmentError:0}),i.minBitrate=Math.min(i.minBitrate,n.bitrate);const o=Math.min(n.height,n.width);return i.minHeight=Math.min(i.minHeight,o),i.minFramerate=Math.min(i.minFramerate,n.frameRate),i.maxScore=Math.max(i.maxScore,n.score),i.fragmentError+=n.fragmentError,i.videoRanges[n.videoRange]=(i.videoRanges[n.videoRange]||0)+1,r&&r.forEach((t=>{if(!t)return;const n=e.groups[t];i.hasDefaultAudio=i.hasDefaultAudio||e.hasDefaultAudio?n.hasDefault:n.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(n.channels).forEach((t=>{i.channels[t]=(i.channels[t]||0)+n.channels[t]}))})),t}),{})}(f,S,e,n)),i=function(t,e,n,r,i){const o=Object.keys(t),a=null==r?void 0:r.channels,s=null==r?void 0:r.audioCodec,l=a&&2===parseInt(a);let c=!0,u=!1,d=1/0,h=1/0,f=1/0,p=0,g=[];const{preferHDR:m,allowedVideoRanges:v}=Oo(e,i);for(let w=o.length;w--;){const e=t[o[w]];c=e.channels[2]>0,d=Math.min(d,e.minHeight),h=Math.min(h,e.minFramerate),f=Math.min(f,e.minBitrate);const n=v.filter((t=>e.videoRanges[t]>0));n.length>0&&(u=!0,g=n)}d=fn(d)?d:0,h=fn(h)?h:0;const y=Math.max(1080,d),b=Math.max(30,h);return f=fn(f)?f:n,n=Math.max(f,n),u||(e=void 0,g=[]),{codecSet:o.reduce(((e,r)=>{const i=t[r];if(r===e)return e;if(i.minBitrate>n)return Ro(r,`min bitrate of ${i.minBitrate} > current estimate of ${n}`),e;if(!i.hasDefaultAudio)return Ro(r,"no renditions with default or auto-select sound found"),e;if(s&&r.indexOf(s.substring(0,4))%5!==0)return Ro(r,`audio codec preference "${s}" not found`),e;if(a&&!l){if(!i.channels[a])return Ro(r,`no renditions with ${a} channel sound found (channels options: ${Object.keys(i.channels)})`),e}else if((!s||l)&&c&&0===i.channels[2])return Ro(r,"no renditions with stereo sound found"),e;return i.minHeight>y?(Ro(r,`min resolution of ${i.minHeight} > maximum of ${y}`),e):i.minFramerate>b?(Ro(r,`min framerate of ${i.minFramerate} > maximum of ${b}`),e):g.some((t=>i.videoRanges[t]>0))?i.maxScore<p?(Ro(r,`max score of ${i.maxScore} < selected max of ${p}`),e):e&&(ei(r)>=ei(e)||i.fragmentError>t[e].fragmentError)?e:(p=i.maxScore,r):(Ro(r,`no variants with VIDEO-RANGE of ${JSON.stringify(g)} found`),e)}),void 0),videoRanges:g,preferHDR:m,minFramerate:h,minBitrate:f}}(r,E,t,T,x),{codecSet:o,videoRanges:a,minFramerate:s,minBitrate:l,preferHDR:c}=i;w=o,E=c?a[a.length-1]:a[0],_=s,t=Math.max(t,l),Tn.log(`[abr] picked start tier ${JSON.stringify(i)}`)}else w=null==v?void 0:v.codecSet,E=null==v?void 0:v.videoRange;const L=h?h.duration:d?d.duration:0,k=this.bwEstimator.getEstimateTTFB()/1e3,A=[];for(let R=n;R>=e;R--){var O;const e=f[R],s=R>u;if(!e)continue;if(m.useMediaCapabilities&&!e.supportedResult&&!e.supportedPromise){const n=navigator.mediaCapabilities;"function"===typeof(null==n?void 0:n.decodingInfo)&&ko(e,S,E,_,t,T)?(e.supportedPromise=Ao(e,S,n),e.supportedPromise.then((t=>{if(!this.hls)return;e.supportedResult=t;const n=this.hls.levels,r=n.indexOf(e);t.error?Tn.warn(`[abr] MediaCapabilities decodingInfo error: "${t.error}" for level ${r} ${JSON.stringify(t)}`):t.supported||(Tn.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${r} ${JSON.stringify(t)}`),r>-1&&n.length>1&&(Tn.log(`[abr] Removing unsupported level ${r}`),this.hls.removeLevel(r)))}))):e.supportedResult=So}if(w&&e.codecSet!==w||E&&e.videoRange!==E||s&&_>e.frameRate||!s&&_>0&&_<e.frameRate||e.supportedResult&&(null==(O=e.supportedResult.decodingInfoResults)||!O[0].smooth)){A.push(R);continue}const d=e.details,p=(h?null==d?void 0:d.partTarget:null==d?void 0:d.averagetargetduration)||L;let x;x=s?a*t:o*t;const C=L&&r>=2*L&&0===i?f[R].averageBitrate:f[R].maxBitrate,I=this.getTimeToLoadFrag(k,x,C*p,void 0===d);if(x>=C&&(R===c||0===e.loadError&&0===e.fragmentError)&&(I<=k||!fn(I)||y&&!this.bitrateTestDelay||I<l)){const t=this.forcedAutoLevel;return R===g||-1!==t&&t===g||(A.length&&Tn.trace(`[abr] Skipped level(s) ${A.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${f[A[0]].codecs}" ${f[A[0]].videoRange}; not compatible with "${v.codecs}" ${E}`),Tn.info(`[abr] switch candidate:${u}->${R} adjustedbw(${Math.round(x)})-bitrate=${Math.round(x-C)} ttfb:${k.toFixed(1)} avgDuration:${p.toFixed(1)} maxFetchDuration:${l.toFixed(1)} fetchDuration:${I.toFixed(1)} firstSelection:${b} codecSet:${w} videoRange:${E} hls.loadLevel:${g}`)),b&&(this.firstSelection=R),R}}return-1}set nextAutoLevel(t){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,r=Math.min(Math.max(t,n),e);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}},bufferController:class{constructor(t){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=t=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=t=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:t,mediaSource:e}=this;this.log("Media source opened"),t&&(t.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(mn.MEDIA_ATTACHED,{media:t,mediaSource:e})),e&&e.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:t,_objectUrl:e}=this;t!==e&&Tn.error(`Media element src was set while attaching MediaSource (${e} > ${t})`)},this.hls=t;const e="[buffer-controller]";this.appendSource=t.config.preferManagedMediaSource,this.log=Tn.log.bind(Tn,e),this.warn=Tn.warn.bind(Tn,e),this.error=Tn.error.bind(Tn,e),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.BUFFER_RESET,this.onBufferReset,this),t.on(mn.BUFFER_APPENDING,this.onBufferAppending,this),t.on(mn.BUFFER_CODECS,this.onBufferCodecs,this),t.on(mn.BUFFER_EOS,this.onBufferEos,this),t.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(mn.FRAG_PARSED,this.onFragParsed,this),t.on(mn.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.BUFFER_RESET,this.onBufferReset,this),t.off(mn.BUFFER_APPENDING,this.onBufferAppending,this),t.off(mn.BUFFER_CODECS,this.onBufferCodecs,this),t.off(mn.BUFFER_EOS,this.onBufferEos,this),t.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(mn.FRAG_PARSED,this.onFragParsed,this),t.off(mn.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new As(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(t,e){let n=2;(e.audio&&!e.video||!e.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(t,e){const n=this.media=e.media,r=Wr(this.appendSource);if(n&&r){var i;const t=this.mediaSource=new r;this.log(`created media source: ${null==(i=t.constructor)?void 0:i.name}`),t.addEventListener("sourceopen",this._onMediaSourceOpen),t.addEventListener("sourceended",this._onMediaSourceEnded),t.addEventListener("sourceclose",this._onMediaSourceClose),t.addEventListener("startstreaming",this._onStartStreaming),t.addEventListener("endstreaming",this._onEndStreaming);const e=this._objectUrl=self.URL.createObjectURL(t);if(this.appendSource)try{n.removeAttribute("src");const r=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||r&&t instanceof r,Rs(n),function(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}(n,e),n.load()}catch(o){n.src=e}else n.src=e;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:t,mediaSource:e,_objectUrl:n}=this;if(e){if(this.log("media source detaching"),"open"===e.readyState)try{e.endOfStream()}catch(Yu){this.warn(`onMediaDetaching: ${Yu.message} while calling endOfStream`)}this.onBufferReset(),e.removeEventListener("sourceopen",this._onMediaSourceOpen),e.removeEventListener("sourceended",this._onMediaSourceEnded),e.removeEventListener("sourceclose",this._onMediaSourceClose),e.removeEventListener("startstreaming",this._onStartStreaming),e.removeEventListener("endstreaming",this._onEndStreaming),t&&(t.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(t.removeAttribute("src"),this.appendSource&&Rs(t),t.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(mn.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach((t=>{this.resetBuffer(t)})),this._initSourceBuffer()}resetBuffer(t){const e=this.sourceBuffer[t];try{var n;if(e)this.removeBufferListeners(t),this.sourceBuffer[t]=void 0,null!=(n=this.mediaSource)&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(e)}catch(Yu){this.warn(`onBufferReset ${t}`,Yu)}}onBufferCodecs(t,e){const n=this.getSourceBufferTypes().length,r=Object.keys(e);if(r.forEach((t=>{if(n){const n=this.tracks[t];if(n&&"function"===typeof n.buffer.changeType){var r;const{id:i,codec:o,levelCodec:a,container:s,metadata:l}=e[t],c=oi(n.codec,n.levelCodec),u=null==c?void 0:c.replace(Os,"$1");let d=oi(o,a);const h=null==(r=d)?void 0:r.replace(Os,"$1");if(d&&u!==h){"audio"===t.slice(0,5)&&(d=ii(d,this.hls.config.preferManagedMediaSource));const e=`${s};codecs=${d}`;this.appendChangeType(t,e),this.log(`switching codec ${c} to ${d}`),this.tracks[t]={buffer:n.buffer,codec:o,container:s,levelCodec:a,metadata:l,id:i}}}}else this.pendingTracks[t]=e[t]})),n)return;const i=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==i&&(this.log(`${i} bufferCodec event(s) expected ${r.join(",")}`),this.bufferCodecEventsExpected=i),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks()}appendChangeType(t,e){const{operationQueue:n}=this,r={execute:()=>{const r=this.sourceBuffer[t];r&&(this.log(`changing ${t} sourceBuffer type to ${e}`),r.changeType(e)),n.shiftAndExecuteNext(t)},onStart:()=>{},onComplete:()=>{},onError:e=>{this.warn(`Failed to change ${t} SourceBuffer type`,e)}};n.append(r,t,!!this.pendingTracks[t])}onBufferAppending(t,e){const{hls:n,operationQueue:r,tracks:i}=this,{data:o,type:a,frag:s,part:l,chunkMeta:c}=e,u=c.buffering[a],d=self.performance.now();u.start=d;const h=s.stats.buffering,f=l?l.stats.buffering:null;0===h.start&&(h.start=d),f&&0===f.start&&(f.start=d);const p=i.audio;let g=!1;"audio"===a&&"audio/mpeg"===(null==p?void 0:p.container)&&(g=!this.lastMpegAudioChunk||1===c.id||this.lastMpegAudioChunk.sn!==c.sn,this.lastMpegAudioChunk=c);const m=s.start,v={execute:()=>{if(u.executeStart=self.performance.now(),g){const t=this.sourceBuffer[a];if(t){const e=m-t.timestampOffset;Math.abs(e)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${m} (delta: ${e}) sn: ${s.sn})`),t.timestampOffset=m)}}this.appendExecutor(o,a)},onStart:()=>{},onComplete:()=>{const t=self.performance.now();u.executeEnd=u.end=t,0===h.first&&(h.first=t),f&&0===f.first&&(f.first=t);const{sourceBuffer:e}=this,n={};for(const r in e)n[r]=Ho.getBuffered(e[r]);this.appendErrors[a]=0,"audio"===a||"video"===a?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(mn.BUFFER_APPENDED,{type:a,frag:s,part:l,chunkMeta:c,parent:s.type,timeRanges:n})},onError:t=>{const e={type:vn.MEDIA_ERROR,parent:s.type,details:yn.BUFFER_APPEND_ERROR,sourceBufferName:a,frag:s,part:l,chunkMeta:c,error:t,err:t,fatal:!1};if(t.code===DOMException.QUOTA_EXCEEDED_ERR)e.details=yn.BUFFER_FULL_ERROR;else{const t=++this.appendErrors[a];e.details=yn.BUFFER_APPEND_ERROR,this.warn(`Failed ${t}/${n.config.appendErrorMaxRetry} times to append segment in "${a}" sourceBuffer`),t>=n.config.appendErrorMaxRetry&&(e.fatal=!0)}n.trigger(mn.ERROR,e)}};r.append(v,a,!!this.pendingTracks[a])}onBufferFlushing(t,e){const{operationQueue:n}=this,r=t=>({execute:this.removeExecutor.bind(this,t,e.startOffset,e.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(mn.BUFFER_FLUSHED,{type:t})},onError:e=>{this.warn(`Failed to remove from ${t} SourceBuffer`,e)}});e.type?n.append(r(e.type),e.type):this.getSourceBufferTypes().forEach((t=>{n.append(r(t),t)}))}onFragParsed(t,e){const{frag:n,part:r}=e,i=[],o=r?r.elementaryStreams:n.elementaryStreams;o[In]?i.push("audiovideo"):(o[Rn]&&i.push("audio"),o[Cn]&&i.push("video"));0===i.length&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers((()=>{const t=self.performance.now();n.stats.buffering.end=t,r&&(r.stats.buffering.end=t);const e=r?r.stats:n.stats;this.hls.trigger(mn.FRAG_BUFFERED,{frag:n,part:r,stats:e,id:n.type})}),i)}onFragChanged(t,e){this.trimBuffers()}onBufferEos(t,e){this.getSourceBufferTypes().reduce(((t,n)=>{const r=this.sourceBuffer[n];return!r||e.type&&e.type!==n||(r.ending=!0,r.ended||(r.ended=!0,this.log(`${n} sourceBuffer now EOS`))),t&&!(r&&!r.ended)}),!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers((()=>{this.getSourceBufferTypes().forEach((t=>{const e=this.sourceBuffer[t];e&&(e.ending=!1)}));const{mediaSource:t}=this;t&&"open"===t.readyState?(this.log("Calling mediaSource.endOfStream()"),t.endOfStream()):t&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${t.readyState}`)})))}onLevelUpdated(t,{details:e}){e.fragments.length&&(this.details=e,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:t,details:e,media:n}=this;if(!n||null===e)return;if(!this.getSourceBufferTypes().length)return;const r=t.config,i=n.currentTime,o=e.levelTargetDuration,a=e.live&&null!==r.liveBackBufferLength?r.liveBackBufferLength:r.backBufferLength;if(fn(a)&&a>0){const t=Math.max(a,o),e=Math.floor(i/o)*o-t;this.flushBackBuffer(i,o,e)}if(fn(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const t=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),e=Math.max(t,o),n=Math.floor(i/o)*o+e;this.flushFrontBuffer(i,o,n)}}flushBackBuffer(t,e,n){const{details:r,sourceBuffer:i}=this;this.getSourceBufferTypes().forEach((o=>{const a=i[o];if(a){const i=Ho.getBuffered(a);if(i.length>0&&n>i.start(0)){if(this.hls.trigger(mn.BACK_BUFFER_REACHED,{bufferEnd:n}),null!=r&&r.live)this.hls.trigger(mn.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(a.ended&&i.end(i.length-1)-t<2*e)return void this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);this.hls.trigger(mn.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}}))}flushFrontBuffer(t,e,n){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach((i=>{const o=r[i];if(o){const r=Ho.getBuffered(o),a=r.length;if(a<2)return;const s=r.start(a-1),l=r.end(a-1);if(n>s||t>=s&&t<=l)return;if(o.ended&&t-l<2*e)return void this.log(`Cannot flush ${i} front buffer while SourceBuffer is in ended state`);this.hls.trigger(mn.BUFFER_FLUSHING,{startOffset:s,endOffset:1/0,type:i})}}))}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||"open"!==this.mediaSource.readyState)return;const{details:t,hls:e,media:n,mediaSource:r}=this,i=t.fragments[0].start+t.totalduration,o=n.duration,a=fn(r.duration)?r.duration:0;t.live&&e.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(t)):(i>a&&i>o||!fn(o))&&(this.log(`Updating Media Source duration to ${i.toFixed(3)}`),r.duration=i)}updateSeekableRange(t){const e=this.mediaSource,n=t.fragments;if(n.length&&t.live&&null!=e&&e.setLiveSeekableRange){const r=Math.max(0,n[0].start),i=Math.max(r,r+t.totalduration);this.log(`Media Source duration is set to ${e.duration}. Setting seekable range to ${r}-${i}.`),e.setLiveSeekableRange(r,i)}}checkPendingTracks(){const{bufferCodecEventsExpected:t,operationQueue:e,pendingTracks:n}=this,r=Object.keys(n).length;if(r&&(!t||2===r||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const t=this.getSourceBufferTypes();if(t.length)this.hls.trigger(mn.BUFFER_CREATED,{tracks:this.tracks}),t.forEach((t=>{e.executeNext(t)}));else{const t=new Error("could not create source buffer for media codec(s)");this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:t,reason:t.message})}}}createSourceBuffers(t){const{sourceBuffer:e,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in t)if(!e[r]){const i=t[r];if(!i)throw Error(`source buffer exists for track ${r}, however track does not`);let o=i.levelCodec||i.codec;o&&"audio"===r.slice(0,5)&&(o=ii(o,this.hls.config.preferManagedMediaSource));const a=`${i.container};codecs=${o}`;this.log(`creating sourceBuffer(${a})`);try{const t=e[r]=n.addSourceBuffer(a),s=r;this.addBufferListener(s,"updatestart",this._onSBUpdateStart),this.addBufferListener(s,"updateend",this._onSBUpdateEnd),this.addBufferListener(s,"error",this._onSBUpdateError),this.addBufferListener(s,"bufferedchange",((t,e)=>{const n=e.removedRanges;null!=n&&n.length&&this.hls.trigger(mn.BUFFER_FLUSHED,{type:r})})),this.tracks[r]={buffer:t,codec:o,container:i.container,levelCodec:i.levelCodec,metadata:i.metadata,id:i.id}}catch(Yu){this.error(`error while trying to add sourceBuffer: ${Yu.message}`),this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:Yu,sourceBufferName:r,mimeType:a})}}}get mediaSrc(){var t;const e=(null==(t=this.media)?void 0:t.firstChild)||this.media;return null==e?void 0:e.src}_onSBUpdateStart(t){const{operationQueue:e}=this;e.current(t).onStart()}_onSBUpdateEnd(t){var e;if("closed"===(null==(e=this.mediaSource)?void 0:e.readyState))return void this.resetBuffer(t);const{operationQueue:n}=this;n.current(t).onComplete(),n.shiftAndExecuteNext(t)}_onSBUpdateError(t,e){var n;const r=new Error(`${t} SourceBuffer error. MediaSource readyState: ${null==(n=this.mediaSource)?void 0:n.readyState}`);this.error(`${r}`,e),this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:r,fatal:!1});const i=this.operationQueue.current(t);i&&i.onError(r)}removeExecutor(t,e,n){const{media:r,mediaSource:i,operationQueue:o,sourceBuffer:a}=this,s=a[t];if(!r||!i||!s)return this.warn(`Attempting to remove from the ${t} SourceBuffer, but it does not exist`),void o.shiftAndExecuteNext(t);const l=fn(r.duration)?r.duration:1/0,c=fn(i.duration)?i.duration:1/0,u=Math.max(0,e),d=Math.min(n,l,c);d>u&&(!s.ending||s.ended)?(s.ended=!1,this.log(`Removing [${u},${d}] from the ${t} SourceBuffer`),s.remove(u,d)):o.shiftAndExecuteNext(t)}appendExecutor(t,e){const n=this.sourceBuffer[e];if(n)n.ended=!1,n.appendBuffer(t);else if(!this.pendingTracks[e])throw new Error(`Attempting to append to the ${e} SourceBuffer, but it does not exist`)}blockBuffers(t,e=this.getSourceBufferTypes()){if(!e.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(t);const{operationQueue:n}=this,r=e.map((t=>n.appendBlocker(t)));Promise.all(r).then((()=>{t(),e.forEach((t=>{const e=this.sourceBuffer[t];null!=e&&e.updating||n.shiftAndExecuteNext(t)}))}))}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(t,e,n){const r=this.sourceBuffer[t];if(!r)return;const i=n.bind(this,t);this.listeners[t].push({event:e,listener:i}),r.addEventListener(e,i)}removeBufferListeners(t){const e=this.sourceBuffer[t];e&&this.listeners[t].forEach((t=>{e.removeEventListener(t.event,t.listener)}))}},capLevelController:Sl,errorController:class{constructor(t){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=t,this.log=Tn.log.bind(Tn,"[info]:"),this.warn=Tn.warn.bind(Tn,"[warning]:"),this.error=Tn.error.bind(Tn,"[error]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(mn.ERROR,this.onError,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const t=this.hls;t&&(t.off(mn.ERROR,this.onError,this),t.off(mn.ERROR,this.onErrorOut,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(t){}stopLoad(){this.playlistError=0}getVariantLevelIndex(t){return(null==t?void 0:t.type)===Ti?t.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(t,e){var n,r;if(e.fatal)return;const i=this.hls,o=e.context;switch(e.details){case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:return void(e.errorAction=this.getFragRetryOrSwitchAction(e));case yn.FRAG_PARSING_ERROR:if(null!=(n=e.frag)&&n.gap)return void(e.errorAction={action:go,flags:bo});case yn.FRAG_GAP:case yn.FRAG_DECRYPT_ERROR:return e.errorAction=this.getFragRetryOrSwitchAction(e),void(e.errorAction.action=mo);case yn.LEVEL_EMPTY_ERROR:case yn.LEVEL_PARSING_ERROR:{var a,s;const t=e.parent===Ti?e.level:i.loadLevel;e.details===yn.LEVEL_EMPTY_ERROR&&null!=(a=e.context)&&null!=(s=a.levelDetails)&&s.live?e.errorAction=this.getPlaylistRetryOrSwitchAction(e,t):(e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t))}return;case yn.LEVEL_LOAD_ERROR:case yn.LEVEL_LOAD_TIMEOUT:return void("number"===typeof(null==o?void 0:o.level)&&(e.errorAction=this.getPlaylistRetryOrSwitchAction(e,o.level)));case yn.AUDIO_TRACK_LOAD_ERROR:case yn.AUDIO_TRACK_LOAD_TIMEOUT:case yn.SUBTITLE_LOAD_ERROR:case yn.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const t=i.levels[i.loadLevel];if(t&&(o.type===Ei&&t.hasAudioGroup(o.groupId)||o.type===_i&&t.hasSubtitleGroup(o.groupId)))return e.errorAction=this.getPlaylistRetryOrSwitchAction(e,i.loadLevel),e.errorAction.action=mo,void(e.errorAction.flags=wo)}return;case yn.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const t=i.levels[i.loadLevel],n=null==t?void 0:t.attrs["HDCP-LEVEL"];n?e.errorAction={action:mo,flags:Eo,hdcpLevel:n}:this.keySystemError(e)}return;case yn.BUFFER_ADD_CODEC_ERROR:case yn.REMUX_ALLOC_ERROR:case yn.BUFFER_APPEND_ERROR:return void(e.errorAction=this.getLevelSwitchAction(e,null!=(r=e.level)?r:i.loadLevel));case yn.INTERNAL_EXCEPTION:case yn.BUFFER_APPENDING_ERROR:case yn.BUFFER_FULL_ERROR:case yn.LEVEL_SWITCH_ERROR:case yn.BUFFER_STALLED_ERROR:case yn.BUFFER_SEEK_OVER_HOLE:case yn.BUFFER_NUDGE_ON_STALL:return void(e.errorAction={action:go,flags:bo})}e.type===vn.KEY_SYSTEM_ERROR&&this.keySystemError(e)}keySystemError(t){const e=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,e)}getPlaylistRetryOrSwitchAction(t,e){const n=ao(this.hls.config.playlistLoadPolicy,t),r=this.playlistError++;if(co(n,r,oo(t),t.response))return{action:yo,flags:bo,retryConfig:n,retryCount:r};const i=this.getLevelSwitchAction(t,e);return n&&(i.retryConfig=n,i.retryCount=r),i}getFragRetryOrSwitchAction(t){const e=this.hls,n=this.getVariantLevelIndex(t.frag),r=e.levels[n],{fragLoadPolicy:i,keyLoadPolicy:o}=e.config,a=ao(t.details.startsWith("key")?o:i,t),s=e.levels.reduce(((t,e)=>t+e.fragmentError),0);if(r){t.details!==yn.FRAG_GAP&&r.fragmentError++;if(co(a,s,oo(t),t.response))return{action:yo,flags:bo,retryConfig:a,retryCount:s}}const l=this.getLevelSwitchAction(t,n);return a&&(l.retryConfig=a,l.retryCount=s),l}getLevelSwitchAction(t,e){const n=this.hls;null!==e&&void 0!==e||(e=n.loadLevel);const r=this.hls.levels[e];if(r){var i,o;const e=t.details;r.loadError++,e===yn.BUFFER_APPEND_ERROR&&r.fragmentError++;let l=-1;const{levels:c,loadLevel:u,minAutoLevel:d,maxAutoLevel:h}=n;n.autoLevelEnabled||(n.loadLevel=-1);const f=null==(i=t.frag)?void 0:i.type,p=(f===xi&&e===yn.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(e===yn.BUFFER_ADD_CODEC_ERROR||e===yn.BUFFER_APPEND_ERROR))&&c.some((({audioCodec:t})=>r.audioCodec!==t)),g="video"===t.sourceBufferName&&(e===yn.BUFFER_ADD_CODEC_ERROR||e===yn.BUFFER_APPEND_ERROR)&&c.some((({codecSet:t,audioCodec:e})=>r.codecSet!==t&&r.audioCodec===e)),{type:m,groupId:v}=null!=(o=t.context)?o:{};for(let n=c.length;n--;){const i=(n+u)%c.length;if(i!==u&&i>=d&&i<=h&&0===c[i].loadError){var a,s;const n=c[i];if(e===yn.FRAG_GAP&&t.frag){const e=c[i].details;if(e){const n=ho(t.frag,e.fragments,t.frag.start);if(null!=n&&n.gap)continue}}else{if(m===Ei&&n.hasAudioGroup(v)||m===_i&&n.hasSubtitleGroup(v))continue;if(f===xi&&null!=(a=r.audioGroups)&&a.some((t=>n.hasAudioGroup(t)))||f===Si&&null!=(s=r.subtitleGroups)&&s.some((t=>n.hasSubtitleGroup(t)))||p&&r.audioCodec===n.audioCodec||!p&&r.audioCodec!==n.audioCodec||g&&r.codecSet===n.codecSet)continue}l=i;break}}if(l>-1&&n.loadLevel!==l)return t.levelRetry=!0,this.playlistError=0,{action:mo,flags:bo,nextAutoLevel:l}}return{action:mo,flags:wo}}onErrorOut(t,e){var n;switch(null==(n=e.errorAction)?void 0:n.action){case go:break;case mo:this.sendAlternateToPenaltyBox(e),e.errorAction.resolved||e.details===yn.FRAG_GAP?/MediaSource readyState: ended/.test(e.error.message)&&(this.warn(`MediaSource ended after "${e.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError()):e.fatal=!0}e.fatal&&this.hls.stopLoad()}sendAlternateToPenaltyBox(t){const e=this.hls,n=t.errorAction;if(!n)return;const{flags:r,hdcpLevel:i,nextAutoLevel:o}=n;switch(r){case bo:this.switchLevel(t,o);break;case Eo:i&&(e.maxHdcpLevel=Hi[Hi.indexOf(i)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${e.maxHdcpLevel}" or lower`)}n.resolved||this.switchLevel(t,o)}switchLevel(t,e){void 0!==e&&t.errorAction&&(this.warn(`switching to level ${e} after ${t.details}`),this.hls.nextAutoLevel=e,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}},fpsController:class{constructor(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}setStreamController(t){this.streamController=t}registerListeners(){this.hls.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(t,e){const n=this.hls.config;if(n.capLevelOnFPSDrop){const t=e.media instanceof self.HTMLVideoElement?e.media:null;this.media=t,t&&"function"===typeof t.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(t,e,n){const r=performance.now();if(e){if(this.lastTime){const t=r-this.lastTime,i=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,a=1e3*i/t,s=this.hls;if(s.trigger(mn.FPS_DROP,{currentDropped:i,currentDecoded:o,totalDroppedFrames:n}),a>0&&i>s.config.fpsDroppedMonitoringThreshold*o){let t=s.currentLevel;Tn.warn("drop FPS ratio greater than max allowed value for currentLevel: "+t),t>0&&(-1===s.autoLevelCapping||s.autoLevelCapping>=t)&&(t-=1,s.trigger(mn.FPS_DROP_LEVEL_CAPPING,{level:t,droppedLevel:s.currentLevel}),s.autoLevelCapping=t,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}checkFPSInterval(){const t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){const e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}},stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:Yn,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null}},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},{cueHandler:hc,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:class extends ya{constructor(t,e,n){super(t,e,n,"[subtitle-stream-controller]",Si),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.on(mn.ERROR,this.onError,this),t.on(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(mn.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.on(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(mn.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.off(mn.ERROR,this.onError,this),t.off(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(mn.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),t.off(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(mn.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),t.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(t){this.stopLoad(),this.state=sa,this.setInterval(500),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(t,e){this.mainDetails=e.details}onSubtitleFragProcessed(t,e){const{frag:n,success:r}=e;if(this.fragPrevious=n,this.state=sa,!r)return;const i=this.tracksBuffered[this.currentTrackId];if(!i)return;let o;const a=n.start;for(let l=0;l<i.length;l++)if(a>=i[l].start&&a<=i[l].end){o=i[l];break}const s=n.start+n.duration;o?o.end=s:(o={start:a,end:s},i.push(o)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(t,e){const{startOffset:n,endOffset:r}=e;if(0===n&&r!==Number.POSITIVE_INFINITY){const t=r-1;if(t<=0)return;e.endOffsetSubtitles=Math.max(0,t),this.tracksBuffered.forEach((e=>{for(let n=0;n<e.length;)if(e[n].end<=t)e.shift();else{if(!(e[n].start<t))break;e[n].start=t,n++}})),this.fragmentTracker.removeFragmentsInRange(n,t,Si)}}onFragBuffered(t,e){var n;this.loadedmetadata||e.frag.type!==Ti||null!=(n=this.media)&&n.buffered.length&&(this.loadedmetadata=!0)}onError(t,e){const n=e.frag;(null==n?void 0:n.type)===Si&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==aa&&(this.state=sa))}onSubtitleTracksUpdated(t,{subtitleTracks:e}){this.levels&&xs(this.levels,e)?this.levels=e.map((t=>new Wi(t))):(this.tracksBuffered=[],this.levels=e.map((t=>{const e=new Wi(t);return this.tracksBuffered[e.id]=[],e})),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Si),this.fragPrevious=null,this.mediaBuffer=null)}onSubtitleTrackSwitch(t,e){var n;if(this.currentTrackId=e.id,null==(n=this.levels)||!n.length||-1===this.currentTrackId)return void this.clearInterval();const r=this.levels[this.currentTrackId];null!=r&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(500)}onSubtitleTrackLoaded(t,e){var n;const{currentTrackId:r,levels:i}=this,{details:o,id:a}=e;if(!i)return void this.warn(`Subtitle tracks were reset while loading level ${a}`);const s=i[r];if(a>=i.length||a!==r||!s)return;this.log(`Subtitle track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(o.live||null!=(n=s.details)&&n.live){const t=this.mainDetails;if(o.deltaUpdateFailed||!t)return;const e=t.fragments[0];var c;if(s.details)l=this.alignPlaylists(o,s.details,null==(c=this.levelLastLoaded)?void 0:c.details),0===l&&e&&(l=e.start,eo(o,l));else o.hasProgramDateTime&&t.hasProgramDateTime?(Wo(o,t),l=o.fragments[0].start):e&&(l=e.start,eo(o,l))}if(s.details=o,this.levelLastLoaded=s,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(this.mainDetails||o,l),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===sa){ho(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),s.details=void 0)}}_handleFragmentLoadComplete(t){const{frag:e,payload:n}=t,r=e.decryptdata,i=this.hls;if(!this.fragContextChanged(e)&&n&&n.byteLength>0&&null!=r&&r.key&&r.iv&&"AES-128"===r.method){const t=performance.now();this.decrypter.decrypt(new Uint8Array(n),r.key.buffer,r.iv.buffer).catch((t=>{throw i.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:e}),t})).then((n=>{const r=performance.now();i.trigger(mn.FRAG_DECRYPTED,{frag:e,payload:n,stats:{tstart:t,tdecrypt:r}})})).catch((t=>{this.warn(`${t.name}: ${t.message}`),this.state=sa}))}}doTick(){if(this.media){if(this.state===sa){const{currentTrackId:t,levels:e}=this,n=null==e?void 0:e[t];if(!n||!e.length||!n.details)return;const{config:r}=this,i=this.getLoadPosition(),o=Ho.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],i,r.maxBufferHole),{end:a,len:s}=o,l=this.getFwdBufferInfo(this.media,Ti),c=n.details;if(s>this.getMaxBufferLength(null==l?void 0:l.len)+c.levelTargetDuration)return;const u=c.fragments,d=u.length,h=c.edge;let f=null;const p=this.fragPrevious;if(a<h){const t=r.maxFragLookUpTolerance,e=a>h-t?0:t;f=ho(p,u,Math.max(u[0].start,a),e),!f&&p&&p.start<u[0].start&&(f=u[0])}else f=u[d-1];if(!f)return;if(f=this.mapToInitFragWhenRequired(f),"initSegment"!==f.sn){const t=u[f.sn-c.startSN-1];t&&t.cc===f.cc&&this.fragmentTracker.getState(t)===Po&&(f=t)}this.fragmentTracker.getState(f)===Po&&this.loadFragment(f,n,a)}}else this.state=sa}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.max(e,t):e}loadFragment(t,e,n){this.fragCurrent=t,"initSegment"===t.sn?this._loadInitSegment(t,e):(this.startFragRequested=!0,super.loadFragment(t,e,n))}get mediaBufferTimeRanges(){return new ks(this.tracksBuffered[this.currentTrackId]||[])}},subtitleTrackController:class extends _o{constructor(t){super(t,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const e=Di(this.media.textTracks);for(let r=0;r<e.length;r++)if("hidden"===e[r].mode)t=e[r];else if("showing"===e[r].mode){t=e[r];break}const n=this.findTrackForTextTrack(t);this.subtitleTrack!==n&&this.setSubtitleTrack(n)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(t){this._subtitleDisplay=t,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.LEVEL_LOADING,this.onLevelLoading,this),t.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.LEVEL_LOADING,this.onLevelLoading,this),t.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(mn.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),t.off(mn.ERROR,this.onError,this)}onMediaAttached(t,e){this.media=e.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(t){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,t)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId);Di(this.media.textTracks).forEach((t=>{Ci(t)})),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.subtitleTracks}onSubtitleTrackLoaded(t,e){const{id:n,groupId:r,details:i}=e,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn(`Subtitle track with id:${n} and group:${r} not found in active group ${null==o?void 0:o.groupId}`);const a=o.details;o.details=e.details,this.log(`Subtitle track ${n} "${o.name}" lang:${o.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.subtitleGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==r?void 0:r.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.subtitlePreference;if(!i&&e){this.selectDefaultTrack=!1;const n=Co(e,t);if(n>-1)i=t[n];else{const t=Co(e,this.tracks);i=this.tracks[t]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const o={subtitleTracks:t};this.log(`Updating subtitle tracks, ${t.length} track(s) found in "${null==n?void 0:n.join(",")}" group-id`),this.hls.trigger(mn.SUBTITLE_TRACKS_UPDATED,o),-1!==r&&-1===this.trackId&&this.setSubtitleTrack(r)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId)}findTrackId(t){const e=this.tracksInGroup,n=this.selectDefaultTrack;for(let r=0;r<e.length;r++){const i=e[r];if((!n||i.default)&&(n||t)&&(!t||Io(i,t)))return r}if(t){for(let n=0;n<e.length;n++){const r=e[n];if(Ss(t.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return n}for(let n=0;n<e.length;n++){const r=e[n];if(Ss(t.attrs,r.attrs,["LANGUAGE"]))return n}}return-1}findTrackForTextTrack(t){if(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){if(Ls(e[n],t))return n}}return-1}onError(t,e){!e.fatal&&e.context&&(e.context.type!==_i||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||this.checkRetry(e))}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(t){this.selectDefaultTrack=!1,this.setSubtitleTrack(t)}setSubtitleOption(t){if(this.hls.config.subtitlePreference=t,t){const e=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,e.length){const n=this.currentTrack;if(n&&Io(t,n))return n;const r=Co(t,this.tracksInGroup);if(r>-1){const t=this.tracksInGroup[r];return this.setSubtitleTrack(r),t}if(n)return null;{const n=Co(t,e);if(n>-1)return e[n]}}}return null}loadPlaylist(t){super.loadPlaylist();const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){const r=e.id,i=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(mn.SUBTITLE_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:t||null})}}toggleTrackModes(){const{media:t}=this;if(!t)return;const e=Di(t.textTracks),n=this.currentTrack;let r;if(n&&(r=e.filter((t=>Ls(n,t)))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(e).forEach((t=>{"disabled"!==t.mode&&t!==r&&(t.mode="disabled")})),r){const t=this.subtitleDisplay?"showing":"hidden";r.mode!==t&&(r.mode=t)}}setSubtitleTrack(t){const e=this.tracksInGroup;if(!this.media)return void(this.queuedDefaultTrack=t);if(t<-1||t>=e.length||!fn(t))return void this.warn(`Invalid subtitle track id: ${t}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t]||null;if(this.trackId=t,this.currentTrack=r,this.toggleTrackModes(),!r)return void this.hls.trigger(mn.SUBTITLE_TRACK_SWITCH,{id:t});const i=!!r.details&&!r.details.live;if(t===this.trackId&&r===n&&i)return;this.log(`Switching to subtitle-track ${t}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:o,groupId:a="",name:s,type:l,url:c}=r;this.hls.trigger(mn.SUBTITLE_TRACK_SWITCH,{id:o,groupId:a,name:s,type:l,url:c});const u=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(u)}},timelineController:class{constructor(t){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this.captionsProperties=void 0,this.hls=t,this.config=t.config,this.Cues=t.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},t.on(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.on(mn.FRAG_LOADING,this.onFragLoading,this),t.on(mn.FRAG_LOADED,this.onFragLoaded,this),t.on(mn.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.on(mn.FRAG_DECRYPTED,this.onFragDecrypted,this),t.on(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(mn.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(mn.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),t.off(mn.FRAG_LOADING,this.onFragLoading,this),t.off(mn.FRAG_LOADED,this.onFragLoaded,this),t.off(mn.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),t.off(mn.FRAG_DECRYPTED,this.onFragDecrypted,this),t.off(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(mn.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),t.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const t=new Ys(this,"textTrack1"),e=new Ys(this,"textTrack2"),n=new Ys(this,"textTrack3"),r=new Ys(this,"textTrack4");this.cea608Parser1=new Zs(1,t,e),this.cea608Parser2=new Zs(3,n,r)}}addCues(t,e,n,r,i){let o=!1;for(let u=i.length;u--;){const t=i[u],r=(a=t[0],s=t[1],l=e,c=n,Math.min(s,c)-Math.max(a,l));if(r>=0&&(t[0]=Math.min(t[0],e),t[1]=Math.max(t[1],n),o=!0,r/(n-e)>.5))return}var a,s,l,c;if(o||i.push([e,n]),this.config.renderTextTracksNatively){const i=this.captionsTracks[t];this.Cues.newCue(i,e,n,r)}else{const i=this.Cues.newCue(null,e,n,r);this.hls.trigger(mn.CUES_PARSED,{type:"captions",cues:i,track:t})}}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:i}){const{unparsedVttFrags:o}=this;"main"===n&&(this.initPTS[e.cc]={baseTime:r,timescale:i}),o.length&&(this.unparsedVttFrags=[],o.forEach((t=>{this.onFragLoaded(mn.FRAG_LOADED,t)})))}getExistingTrack(t,e){const{media:n}=this;if(n)for(let r=0;r<n.textTracks.length;r++){const i=n.textTracks[r];if(xl(i,{name:t,lang:e,attrs:{}}))return i}return null}createCaptionsTrack(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)}createNativeTrack(t){if(this.captionsTracks[t])return;const{captionsProperties:e,captionsTracks:n,media:r}=this,{label:i,languageCode:o}=e[t],a=this.getExistingTrack(i,o);if(a)n[t]=a,Ci(n[t]),Oi(n[t],r);else{const e=this.createTextTrack("captions",i,o);e&&(e[t]=!0,n[t]=e)}}createNonNativeTrack(t){if(this.nonNativeCaptionsTracks[t])return;const e=this.captionsProperties[t];if(!e)return;const n={_id:t,label:e.label,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=n,this.hls.trigger(mn.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}createTextTrack(t,e,n){const r=this.media;if(r)return r.addTextTrack(t,e,n)}onMediaAttaching(t,e){this.media=e.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:t}=this;Object.keys(t).forEach((e=>{Ci(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:t}=this;if(!t)return;const e=t.textTracks;if(e)for(let n=0;n<e.length;n++)Ci(e[n])}onSubtitleTracksUpdated(t,e){const n=e.subtitleTracks||[],r=n.some((t=>t.textCodec===hl));if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(xs(this.tracks,n))return void(this.tracks=n);if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const t=this.media,e=t?Di(t.textTracks):null;if(this.tracks.forEach(((t,n)=>{let r;if(e){let n=null;for(let r=0;r<e.length;r++)if(e[r]&&xl(e[r],t)){n=e[r],e[r]=null;break}n&&(r=n)}if(r)Ci(r);else{const e=Tl(t);r=this.createTextTrack(e,t.name,t.lang),r&&(r.mode="disabled")}r&&this.textTracks.push(r)})),null!=e&&e.length){const t=e.filter((t=>null!==t)).map((t=>t.label));t.length&&Tn.warn(`Media element contains unused subtitle tracks: ${t.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const t=this.tracks.map((t=>({label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t})));this.hls.trigger(mn.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:t})}}}onManifestLoaded(t,e){this.config.enableCEA708Captions&&e.captions&&e.captions.forEach((t=>{const e=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(!e)return;const n=`textTrack${e[1]}`,r=this.captionsProperties[n];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}))}closedCaptionsForLevel(t){const e=this.hls.levels[t.level];return null==e?void 0:e.attrs["CLOSED-CAPTIONS"]}onFragLoading(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r,lastCc:i,lastSn:o,lastPartIndex:a}=this;if(this.enabled&&n&&r&&e.frag.type===Ti){var s,l;const{cc:t,sn:c}=e.frag,u=null!=(s=null==e||null==(l=e.part)?void 0:l.index)?s:-1;c===o+1||c===o&&u===a+1||t===i||(n.reset(),r.reset()),this.lastCc=t,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(t,e){const{frag:n,payload:r}=e;if(n.type===Si)if(r.byteLength){const t=n.decryptdata,i="stats"in e;if(null==t||!t.encrypted||i){const t=this.tracks[n.level],i=this.vttCCs;i[n.cc]||(i[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),t&&t.textCodec===hl?this._parseIMSC1(n,r):this._parseVTTs(e)}}else this.hls.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(t,e){const n=this.hls;ml(e,this.initPTS[t.cc],(e=>{this._appendCues(e,t.level),n.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(e=>{Tn.log(`Failed to parse IMSC1: ${e}`),n.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t,error:e})}))}_parseVTTs(t){var e;const{frag:n,payload:r}=t,{initPTS:i,unparsedVttFrags:o}=this,a=i.length-1;if(!i[n.cc]&&-1===a)return void o.push(t);const s=this.hls;dl(null!=(e=n.initSegment)&&e.data?Pr(n.initSegment.data,new Uint8Array(r)):r,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,(t=>{this._appendCues(t,n.level),s.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})}),(e=>{const i="Missing initPTS for VTT MPEGTS"===e.message;i?o.push(t):this._fallbackToIMSC1(n,r),Tn.log(`Failed to parse VTT cue: ${e}`),i&&a>n.cc||s.trigger(mn.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:e})}))}_fallbackToIMSC1(t,e){const n=this.tracks[t.level];n.textCodec||ml(e,this.initPTS[t.cc],(()=>{n.textCodec=hl,this._parseIMSC1(t,e)}),(()=>{n.textCodec="wvtt"}))}_appendCues(t,e){const n=this.hls;if(this.config.renderTextTracksNatively){const n=this.textTracks[e];if(!n||"disabled"===n.mode)return;t.forEach((t=>Ri(n,t)))}else{const r=this.tracks[e];if(!r)return;const i=r.default?"default":"subtitles"+e;n.trigger(mn.CUES_PARSED,{type:"subtitles",cues:t,track:i})}}onFragDecrypted(t,e){const{frag:n}=e;n.type===Si&&this.onFragLoaded(mn.FRAG_LOADED,e)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(t,e){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:r}=this;if(!this.enabled||!n||!r)return;const{frag:i,samples:o}=e;if(i.type!==Ti||"NONE"!==this.closedCaptionsForLevel(i))for(let a=0;a<o.length;a++){const t=o[a].bytes;if(t){const e=this.extractCea608Data(t);n.addData(o[a].pts,e[0]),r.addData(o[a].pts,e[1])}}}onBufferFlushing(t,{startOffset:e,endOffset:n,endOffsetSubtitles:r,type:i}){const{media:o}=this;if(o&&!(o.currentTime<n)){if(!i||"video"===i){const{captionsTracks:t}=this;Object.keys(t).forEach((r=>Ii(t[r],e,n)))}if(this.config.renderTextTracksNatively&&0===e&&void 0!==r){const{textTracks:t}=this;Object.keys(t).forEach((n=>Ii(t[n],e,r)))}}}extractCea608Data(t){const e=[[],[]],n=31&t[0];let r=2;for(let i=0;i<n;i++){const n=t[r++],i=127&t[r++],o=127&t[r++];if(0===i&&0===o)continue;if(0!==(4&n)){const t=3&n;0!==t&&1!==t||(e[t].push(i),e[t].push(o))}}return e}},audioStreamController:class extends ya{constructor(t,e,n){super(t,e,n,"[audio-stream-controller]",xi),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.on(mn.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.on(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(mn.ERROR,this.onError,this),t.on(mn.BUFFER_RESET,this.onBufferReset,this),t.on(mn.BUFFER_CREATED,this.onBufferCreated,this),t.on(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.off(mn.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),t.off(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(mn.ERROR,this.onError,this),t.off(mn.BUFFER_RESET,this.onBufferReset,this),t.off(mn.BUFFER_CREATED,this.onBufferCreated,this),t.off(mn.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(mn.INIT_PTS_FOUND,this.onInitPtsFound,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(t,{frag:e,id:n,initPTS:r,timescale:i}){if("main"===n){const t=e.cc;this.initPTS[e.cc]={baseTime:r,timescale:i},this.log(`InitPTS for cc: ${t} found from main: ${r}`),this.videoTrackCC=t,this.state===ma&&this.tick()}}startLoad(t){if(!this.levels)return this.startPosition=t,void(this.state=aa);const e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),e>0&&-1===t?(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e,this.state=sa):(this.loadedmetadata=!1,this.state=da),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}doTick(){switch(this.state){case sa:this.doTickIdle();break;case da:{var t;const{levels:e,trackId:n}=this,r=null==e||null==(t=e[n])?void 0:t.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=ma}break}case ua:{var e;const t=performance.now(),n=this.retryDate;if(!n||t>=n||null!=(e=this.media)&&e.seeking){const{levels:t,trackId:e}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((null==t?void 0:t[e])||null),this.state=sa}break}case ma:{const t=this.waitingData;if(t){const{frag:e,part:n,cache:r,complete:i}=t;if(void 0!==this.initPTS[e.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=ca;const t={frag:e,part:n,payload:r.flush(),networkDetails:null};this._handleFragmentLoadProgress(t),i&&super._handleFragmentLoadComplete(t)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${e.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const t=this.getLoadPosition(),n=Ho.bufferInfo(this.mediaBuffer,t,this.config.maxBufferHole);fo(n.end,this.config.maxFragLookUpTolerance,e)<0&&(this.log(`Waiting fragment cc (${e.cc}) @ ${e.start} cancelled because another fragment at ${n.end} is needed`),this.clearWaitingFragment())}}else this.state=sa}}this.onTickEnd()}clearWaitingFragment(){const t=this.waitingData;t&&(this.fragmentTracker.removeFragment(t.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=sa)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:t}=this;null!=t&&t.readyState&&(this.lastCurrentTime=t.currentTime)}doTickIdle(){const{hls:t,levels:e,media:n,trackId:r}=this,i=t.config;if(!n&&(this.startFragRequested||!i.startFragPrefetch)||null==e||!e[r])return;const o=e[r],a=o.details;if(!a||a.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(a))return void(this.state=da);const s=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&s&&(this.bufferFlushed=!1,this.afterBufferFlushed(s,Rn,xi));const l=this.getFwdBufferInfo(s,xi);if(null===l)return;const{bufferedTrack:c,switchingTrack:u}=this;if(!u&&this._streamEnded(l,a))return t.trigger(mn.BUFFER_EOS,{type:"audio"}),void(this.state=pa);const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Ti),h=l.len,f=this.getMaxBufferLength(null==d?void 0:d.len),p=a.fragments,g=p[0].start;let m=this.flushing?this.getLoadPosition():l.end;if(u&&n){const t=this.getLoadPosition();c&&!Ss(u.attrs,c.attrs)&&(m=t),a.PTSKnown&&t<g&&(l.end>g||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}if(h>=f&&!u&&m<p[p.length-1].start)return;let v=this.getNextFragment(m,a),y=!1;if(v&&this.isLoopLoading(v,m)&&(y=!!v.gap,v=this.getNextFragmentLoopLoading(v,a,l,Ti,f)),!v)return void(this.bufferFlushed=!0);const b=d&&v.start>d.end+a.targetduration;if(b||(null==d||!d.len)&&l.len){const t=this.getAppendedFrag(v.start,Ti);if(null===t)return;if(y||(y=!!t.gap||!!b&&0===d.len),b&&!y||y&&l.nextStart&&l.nextStart<t.end)return}this.loadFragment(v,o,m)}getMaxBufferLength(t){const e=super.getMaxBufferLength();return t?Math.min(Math.max(e,t),this.config.maxMaxBufferLength):e}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(t,{audioTracks:e}){this.resetTransmuxer(),this.levels=e.map((t=>new Wi(t)))}onAudioTrackSwitching(t,e){const n=!!e.url;this.trackId=e.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.switchingTrack=e,this.state=sa,this.flushAudioIfNeeded(e)):(this.switchingTrack=null,this.bufferedTrack=e,this.state=aa),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(t,e){this.mainDetails=e.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(mn.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(t,e){var n;if(null==this.mainDetails)return void(this.cachedTrackLoadedData=e);const{levels:r}=this,{details:i,id:o}=e;if(!r)return void this.warn(`Audio tracks were reset while loading level ${o}`);this.log(`Audio track ${o} loaded [${i.startSN},${i.endSN}]${i.lastPartSn?`[part-${i.lastPartSn}-${i.lastPartIndex}]`:""},duration:${i.totalduration}`);const a=r[o];let s=0;if(i.live||null!=(n=a.details)&&n.live){this.checkLiveUpdate(i);const t=this.mainDetails;if(i.deltaUpdateFailed||!t)return;var l;if(!a.details&&i.hasProgramDateTime&&t.hasProgramDateTime)Wo(i,t),s=i.fragments[0].start;else s=this.alignPlaylists(i,a.details,null==(l=this.levelLastLoaded)?void 0:l.details)}a.details=i,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&i.live||this.setStartPosition(this.mainDetails||i,s),this.state!==da||this.waitForCdnTuneIn(i)||(this.state=sa),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:i}=t,{config:o,trackId:a,levels:s}=this;if(!s)return void this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const l=s[a];if(!l)return void this.warn("Audio track is undefined on fragment load progress");const c=l.details;if(!c)return this.warn("Audio track details undefined on fragment load progress"),void this.removeUnbufferedFrags(n.start);const u=o.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new Ts(this.hls,xi,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],f=null==(e=n.initSegment)?void 0:e.data;if(void 0!==h){const t=!1,e=r?r.index:-1,o=-1!==e,a=new Ko(n.level,n.sn,n.stats.chunkCount,i.byteLength,e,o);d.push(i,f,u,"",n,r,c.totalduration,t,a,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${c.startSN} ,${c.endSN}],track ${a}`);const{cache:t}=this.waitingData=this.waitingData||{frag:n,part:r,cache:new ba,complete:!1};t.push(new Uint8Array(i)),this.waitingVideoCC=this.videoTrackCC,this.state=ma}}_handleFragmentLoadComplete(t){this.waitingData?this.waitingData.complete=!0:super._handleFragmentLoadComplete(t)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(t,e){const n=e.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer||null)}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n.type===xi)if(this.fragContextChanged(n))this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);else{if("initSegment"!==n.sn){this.fragPrevious=n;const t=this.switchingTrack;t&&(this.bufferedTrack=t,this.switchingTrack=null,this.hls.trigger(mn.AUDIO_TRACK_SWITCHED,cn({},t)))}this.fragBufferedComplete(n,r)}else if(!this.loadedmetadata&&n.type===Ti){const t=this.videoBuffer||this.media;if(t){Ho.getBuffered(t).length&&(this.loadedmetadata=!0)}}}onError(t,e){var n;if(e.fatal)this.state=ga;else switch(e.details){case yn.FRAG_GAP:case yn.FRAG_PARSING_ERROR:case yn.FRAG_DECRYPT_ERROR:case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(xi,e);break;case yn.AUDIO_TRACK_LOAD_ERROR:case yn.AUDIO_TRACK_LOAD_TIMEOUT:case yn.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==da||(null==(n=e.context)?void 0:n.type)!==Ei||(this.state=sa);break;case yn.BUFFER_APPEND_ERROR:case yn.BUFFER_FULL_ERROR:if(!e.parent||"audio"!==e.parent)return;if(e.details===yn.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case yn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}onBufferFlushing(t,{type:e}){e!==Cn&&(this.flushing=!0)}onBufferFlushed(t,{type:e}){if(e!==Cn){this.flushing=!1,this.bufferFlushed=!0,this.state===pa&&(this.state=sa);const t=this.mediaBuffer||this.media;t&&(this.afterBufferFlushed(t,e,xi),this.tick())}}_handleTransmuxComplete(t){var e;const n="audio",{hls:r}=this,{remuxResult:i,chunkMeta:o}=t,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:l,level:c}=a,{details:u}=c,{audio:d,text:h,id3:f,initSegment:p}=i;if(!this.fragContextChanged(s)&&u){if(this.state=ha,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),null!=p&&p.tracks){const t=s.initSegment||s;this._bufferInitSegment(c,p.tracks,t,o),r.trigger(mn.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:p.tracks})}if(d){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=d;l&&(l.elementaryStreams[Rn]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(Rn,t,e,n,r),this.bufferFragmentData(d,s,l,o)}if(null!=f&&null!=(e=f.samples)&&e.length){const t=hn({id:n,frag:s,details:u},f);r.trigger(mn.FRAG_PARSING_METADATA,t)}if(h){const t=hn({id:n,frag:s,details:u},h);r.trigger(mn.FRAG_PARSING_USERDATA,t)}}else this.fragmentTracker.removeFragment(s)}_bufferInitSegment(t,e,n,r){if(this.state!==ha)return;e.video&&delete e.video;const i=e.audio;if(!i)return;i.id="audio";const o=t.audioCodec;this.log(`Init audio buffer, container:${i.container}, codecs[level/parsed]=[${o}/${i.codec}]`),o&&1===o.split(",").length&&(i.levelCodec=o),this.hls.trigger(mn.BUFFER_CODECS,e);const a=i.initSegment;if(null!=a&&a.byteLength){const t={type:"audio",frag:n,part:null,chunkMeta:r,parent:n.type,data:a};this.hls.trigger(mn.BUFFER_APPENDING,t)}this.tickImmediate()}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);var i;if(this.fragCurrent=t,this.switchingTrack||r===Po||r===Fo)if("initSegment"===t.sn)this._loadInitSegment(t,e);else if(null!=(i=e.details)&&i.live&&!this.initPTS[t.cc]){this.log(`Waiting for video PTS in continuity counter ${t.cc} of live stream before loading audio fragment ${t.sn} of level ${this.trackId}`),this.state=ma;const n=this.mainDetails;n&&n.fragments[0].start!==e.details.fragments[0].start&&Wo(e.details,n)}else this.startFragRequested=!0,super.loadFragment(t,e,n);else this.clearTrackerIfNeeded(t)}flushAudioIfNeeded(t){const{media:e,bufferedTrack:n}=this,r=null==n?void 0:n.attrs,i=t.attrs;e&&r&&(r.CHANNELS!==i.CHANNELS||n.name!==t.name||n.lang!==t.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(t){const{hls:e}=this;this.flushAudioIfNeeded(t),this.bufferedTrack=t,this.switchingTrack=null,e.trigger(mn.AUDIO_TRACK_SWITCHED,cn({},t))}},audioTrackController:class extends _o{constructor(t){super(t,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:t}=this;t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.LEVEL_LOADING,this.onLevelLoading,this),t.on(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.on(mn.ERROR,this.onError,this)}unregisterListeners(){const{hls:t}=this;t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.LEVEL_LOADING,this.onLevelLoading,this),t.off(mn.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(mn.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),t.off(mn.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(t,e){this.tracks=e.audioTracks||[]}onAudioTrackLoaded(t,e){const{id:n,groupId:r,details:i}=e,o=this.tracksInGroup[n];if(!o||o.groupId!==r)return void this.warn(`Audio track with id:${n} and group:${r} not found in active group ${null==o?void 0:o.groupId}`);const a=o.details;o.details=e.details,this.log(`Audio track ${n} "${o.name}" lang:${o.lang} group:${r} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,e,a)}onLevelLoading(t,e){this.switchLevel(e.level)}onLevelSwitching(t,e){this.switchLevel(e.level)}switchLevel(t){const e=this.hls.levels[t];if(!e)return;const n=e.audioGroups||null,r=this.groupIds;let i=this.currentTrack;if(!n||(null==r?void 0:r.length)!==(null==n?void 0:n.length)||null!=n&&n.some((t=>-1===(null==r?void 0:r.indexOf(t))))){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const t=this.tracks.filter((t=>!n||-1!==n.indexOf(t.groupId)));if(t.length)this.selectDefaultTrack&&!t.some((t=>t.default))&&(this.selectDefaultTrack=!1),t.forEach(((t,e)=>{t.id=e}));else if(!i&&!this.tracksInGroup.length)return;this.tracksInGroup=t;const e=this.hls.config.audioPreference;if(!i&&e){const n=Co(e,t,Do);if(n>-1)i=t[n];else{const t=Co(e,this.tracks);i=this.tracks[t]}}let r=this.findTrackId(i);-1===r&&i&&(r=this.findTrackId(null));const a={audioTracks:t};this.log(`Updating audio tracks, ${t.length} track(s) found in group(s): ${null==n?void 0:n.join(",")}`),this.hls.trigger(mn.AUDIO_TRACKS_UPDATED,a);const s=this.trackId;if(-1!==r&&-1===s)this.setAudioTrack(r);else if(t.length&&-1===s){var o;const e=new Error(`No audio track selected for current audio group-ID(s): ${null==(o=this.groupIds)?void 0:o.join(",")} track count: ${t.length}`);this.warn(e.message),this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:e})}}else this.shouldReloadPlaylist(i)&&this.setAudioTrack(this.trackId)}onError(t,e){!e.fatal&&e.context&&(e.context.type!==Ei||e.context.id!==this.trackId||this.groupIds&&-1===this.groupIds.indexOf(e.context.groupId)||(this.requestScheduled=-1,this.checkRetry(e)))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(t){this.selectDefaultTrack=!1,this.setAudioTrack(t)}setAudioOption(t){const e=this.hls;if(e.config.audioPreference=t,t){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const r=this.currentTrack;if(r&&Io(t,r,Do))return r;const i=Co(t,this.tracksInGroup,Do);if(i>-1){const t=this.tracksInGroup[i];return this.setAudioTrack(i),t}if(r){let r=e.loadLevel;-1===r&&(r=e.firstAutoLevel);const i=function(t,e,n,r,i){const o=e[r],a=e.reduce(((t,e,n)=>{const r=e.uri;return(t[r]||(t[r]=[])).push(n),t}),{})[o.uri];a.length>1&&(r=Math.max.apply(Math,a));const s=o.videoRange,l=o.frameRate,c=o.codecSet.substring(0,4),u=No(e,r,(e=>{if(e.videoRange!==s||e.frameRate!==l||e.codecSet.substring(0,4)!==c)return!1;const r=e.audioGroups,o=n.filter((t=>!r||-1!==r.indexOf(t.groupId)));return Co(t,o,i)>-1}));return u>-1?u:No(e,r,(e=>{const r=e.audioGroups,o=n.filter((t=>!r||-1!==r.indexOf(t.groupId)));return Co(t,o,i)>-1}))}(t,e.levels,n,r,Do);if(-1===i)return null;e.nextLoadLevel=i}if(t.channels||t.audioCodec){const e=Co(t,n);if(e>-1)return n[e]}}}return null}setAudioTrack(t){const e=this.tracksInGroup;if(t<0||t>=e.length)return void this.warn(`Invalid audio track id: ${t}`);this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,r=e[t],i=r.details&&!r.details.live;if(t===this.trackId&&r===n&&i)return;if(this.log(`Switching to audio-track ${t} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=t,this.currentTrack=r,this.hls.trigger(mn.AUDIO_TRACK_SWITCHING,cn({},r)),i)return;const o=this.switchParams(r.url,null==n?void 0:n.details);this.loadPlaylist(o)}findTrackId(t){const e=this.tracksInGroup;for(let n=0;n<e.length;n++){const r=e[n];if((!this.selectDefaultTrack||r.default)&&(!t||Io(t,r,Do)))return n}if(t){const{name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s}=t;for(let t=0;t<e.length;t++){if(Io({name:n,lang:r,assocLang:i,characteristics:o,audioCodec:a,channels:s},e[t],Do))return t}for(let l=0;l<e.length;l++){const n=e[l];if(Ss(t.attrs,n.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return l}for(let l=0;l<e.length;l++){const n=e[l];if(Ss(t.attrs,n.attrs,["LANGUAGE"]))return l}}return-1}loadPlaylist(t){const e=this.currentTrack;if(this.shouldLoadPlaylist(e)&&e){super.loadPlaylist();const r=e.id,i=e.groupId;let o=e.url;if(t)try{o=t.addDirectives(o)}catch(n){this.warn(`Could not construct new URL with HLS Delivery Directives: ${n}`)}this.log(`loading audio-track playlist ${r} "${e.name}" lang:${e.lang} group:${i}`),this.clearTimer(),this.hls.trigger(mn.AUDIO_TRACK_LOADING,{url:o,id:r,groupId:i,deliveryDirectives:t||null})}}},emeController:kl,cmcdController:class{constructor(t){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=t=>{try{this.apply(t,{ot:Ol.MANIFEST,su:!this.initialized})}catch(e){Tn.warn("Could not generate manifest CMCD data.",e)}},this.applyFragmentData=t=>{try{const e=t.frag,n=this.hls.levels[e.level],r=this.getObjectType(e),i={d:1e3*e.duration,ot:r};r!==Ol.VIDEO&&r!==Ol.AUDIO&&r!=Ol.MUXED||(i.br=n.bitrate/1e3,i.tb=this.getTopBandwidth(r)/1e3,i.bl=this.getBufferLength(r)),this.apply(t,i)}catch(e){Tn.warn("Could not generate segment CMCD data.",e)}},this.hls=t;const e=this.config=t.config,{cmcd:n}=e;null!=n&&(e.pLoader=this.createPlaylistLoader(),e.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||function(){try{return crypto.randomUUID()}catch(t){try{const t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.slice(e.lastIndexOf("/")+1)}catch(t){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}}}(),this.cid=n.contentId,this.useHeaders=!0===n.useHeaders,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const t=this.hls;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHED,this.onMediaDetached,this),t.on(mn.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const t=this.hls;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHED,this.onMediaDetached,this),t.off(mn.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(t,e){this.media=e.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(t,e){var n,r;this.audioBuffer=null==(n=e.tracks.audio)?void 0:n.buffer,this.videoBuffer=null==(r=e.tracks.video)?void 0:r.buffer}createData(){var t;return{v:1,sf:Rl.HLS,sid:this.sid,cid:this.cid,pr:null==(t=this.media)?void 0:t.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(t,e={}){hn(e,this.createData());const n=e.ot===Ol.INIT||e.ot===Ol.VIDEO||e.ot===Ol.MUXED;this.starved&&n&&(e.bs=!0,e.su=!0,this.starved=!1),null==e.su&&(e.su=this.buffering);const{includeKeys:r}=this;r&&(e=Object.keys(e).reduce(((t,n)=>(r.includes(n)&&(t[n]=e[n]),t)),{})),this.useHeaders?(t.headers||(t.headers={}),tc(t.headers,e)):t.url=nc(t.url,e)}getObjectType(t){const{type:e}=t;return"subtitle"===e?Ol.TIMED_TEXT:"initSegment"===t.sn?Ol.INIT:"audio"===e?Ol.AUDIO:"main"===e?this.hls.audioTracks.length?Ol.VIDEO:Ol.MUXED:void 0}getTopBandwidth(t){let e,n=0;const r=this.hls;if(t===Ol.AUDIO)e=r.audioTracks;else{const t=r.maxAutoLevel,n=t>-1?t+1:r.levels.length;e=r.levels.slice(0,n)}for(const i of e)i.bitrate>n&&(n=i.bitrate);return n>0?n:NaN}getBufferLength(t){const e=this.hls.media,n=t===Ol.AUDIO?this.audioBuffer:this.videoBuffer;if(!n||!e)return NaN;return 1e3*Ho.bufferInfo(n,e.currentTime,this.config.maxBufferHole).len}createPlaylistLoader(){const{pLoader:t}=this.config,e=this.applyPlaylistData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}createFragmentLoader(){const{fLoader:t}=this.config,e=this.applyFragmentData,n=t||this.config.loader;return class{constructor(t){this.loader=void 0,this.loader=new n(t)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(t,n,r){e(t),this.loader.load(t,n,r)}}}},contentSteeringController:class{constructor(t){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=t,this.log=Tn.log.bind(Tn,"[content-steering]:"),this.registerListeners()}registerListeners(){const t=this.hls;t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.ERROR,this.onError,this)}unregisterListeners(){const t=this.hls;t&&(t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(t){const e=this.levels;e&&(this.levels=e.filter((e=>e!==t)))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(t,e){const{contentSteering:n}=e;null!==n&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(t,e){this.audioTracks=e.audioTracks,this.subtitleTracks=e.subtitleTracks}onError(t,e){const{errorAction:n}=e;if((null==n?void 0:n.action)===mo&&n.flags===wo){const t=this.levels;let r=this.pathwayPriority,i=this.pathwayId;if(e.context){const{groupId:n,pathwayId:r,type:o}=e.context;n&&t?i=this.getPathwayForGroupId(n,o,i):r&&(i=r)}i in this.penalizedPathways||(this.penalizedPathways[i]=performance.now()),!r&&t&&(r=t.reduce(((t,e)=>(-1===t.indexOf(e.pathwayId)&&t.push(e.pathwayId),t)),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==i),n.resolved||Tn.warn(`Could not resolve ${e.details} ("${e.error.message}") with content-steering for Pathway: ${i} levels: ${t?t.length:t} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(t){this.levels=t;let e=this.getLevelsForPathway(this.pathwayId);if(0===e.length){const n=t[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),e=this.getLevelsForPathway(n),this.pathwayId=n}return e.length!==t.length?(this.log(`Found ${e.length}/${t.length} levels in Pathway "${this.pathwayId}"`),e):t}getLevelsForPathway(t){return null===this.levels?[]:this.levels.filter((e=>t===e.pathwayId))}updatePathwayPriority(t){let e;this.pathwayPriority=t;const n=this.penalizedPathways,r=performance.now();Object.keys(n).forEach((t=>{r-n[t]>3e5&&delete n[t]}));for(let i=0;i<t.length;i++){const r=t[i];if(r in n)continue;if(r===this.pathwayId)return;const o=this.hls.nextLoadLevel,a=this.hls.levels[o];if(e=this.getLevelsForPathway(r),e.length>0){this.log(`Setting Pathway to "${r}"`),this.pathwayId=r,io(e),this.hls.trigger(mn.LEVELS_UPDATED,{levels:e});const t=this.hls.levels[o];a&&t&&this.levels&&(t.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&t.bitrate!==a.bitrate&&this.log(`Unstable Pathways change from bitrate ${a.bitrate} to ${t.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(t,e,n){const r=this.getLevelsForPathway(n).concat(this.levels||[]);for(let i=0;i<r.length;i++)if(e===Ei&&r[i].hasAudioGroup(t)||e===_i&&r[i].hasSubtitleGroup(t))return r[i].pathwayId;return n}clonePathways(t){const e=this.levels;if(!e)return;const n={},r={};t.forEach((t=>{const{ID:i,"BASE-ID":o,"URI-REPLACEMENT":a}=t;if(e.some((t=>t.pathwayId===i)))return;const s=this.getLevelsForPathway(o).map((t=>{const e=new Ln(t.attrs);e["PATHWAY-ID"]=i;const o=e.AUDIO&&`${e.AUDIO}_clone_${i}`,s=e.SUBTITLES&&`${e.SUBTITLES}_clone_${i}`;o&&(n[e.AUDIO]=o,e.AUDIO=o),s&&(r[e.SUBTITLES]=s,e.SUBTITLES=s);const l=ic(t.uri,e["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a),c=new Wi({attrs:e,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:l,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(let n=1;n<t.audioGroups.length;n++)c.addGroupId("audio",`${t.audioGroups[n]}_clone_${i}`);if(t.subtitleGroups)for(let n=1;n<t.subtitleGroups.length;n++)c.addGroupId("text",`${t.subtitleGroups[n]}_clone_${i}`);return c}));e.push(...s),rc(this.audioTracks,n,a,i),rc(this.subtitleTracks,r,a,i)}))}loadSteeringManifest(t){const e=this.hls.config,n=e.loader;let r;this.loader&&this.loader.destroy(),this.loader=new n(e);try{r=new self.URL(t)}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest URI: ${t}`)}if("data:"!==r.protocol){const t=0|(this.hls.bandwidthEstimate||e.abrEwmaDefaultEstimate);r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+t)}const i={responseType:"json",url:r.href},o=e.steeringManifestLoadPolicy.default,a=o.errorRetry||o.timeoutRetry||{},s={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(t,e,n,i)=>{this.log(`Loaded steering manifest: "${r}"`);const o=t.data;if(1!==o.VERSION)return void this.log(`Steering VERSION ${o.VERSION} not supported!`);this.updated=performance.now(),this.timeToLoad=o.TTL;const{"RELOAD-URI":a,"PATHWAY-CLONES":s,"PATHWAY-PRIORITY":l}=o;if(a)try{this.uri=new self.URL(a,r).href}catch(c){return this.enabled=!1,void this.log(`Failed to parse Steering Manifest RELOAD-URI: ${a}`)}this.scheduleRefresh(this.uri||n.url),s&&this.clonePathways(s);const u={steeringManifest:o,url:r.toString()};this.hls.trigger(mn.STEERING_MANIFEST_LOADED,u),l&&this.updatePathwayPriority(l)},onError:(t,e,n,r)=>{if(this.log(`Error loading steering manifest: ${t.code} ${t.text} (${e.url})`),this.stopLoad(),410===t.code)return this.enabled=!1,void this.log(`Steering manifest ${e.url} no longer available`);let i=1e3*this.timeToLoad;if(429!==t.code)this.scheduleRefresh(this.uri||e.url,i);else{const t=this.loader;if("function"===typeof(null==t?void 0:t.getResponseHeader)){const e=t.getResponseHeader("Retry-After");e&&(i=1e3*parseFloat(e))}this.log(`Steering manifest ${e.url} rate limited`)}},onTimeout:(t,e,n)=>{this.log(`Timeout loading steering manifest (${e.url})`),this.scheduleRefresh(this.uri||e.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(i,s,l)}scheduleRefresh(t,e=1e3*this.timeToLoad){this.clearTimeout(),this.reloadTimer=self.setTimeout((()=>{var e;const n=null==(e=this.hls)?void 0:e.media;!n||n.ended?this.scheduleRefresh(t,1e3*this.timeToLoad):this.loadSteeringManifest(t)}),e)}}});function pc(t){return t&&"object"===typeof t?Array.isArray(t)?t.map(pc):Object.keys(t).reduce(((e,n)=>(e[n]=pc(t[n]),e)),{}):t}function gc(t){const e=t.loader;if(e!==lc&&e!==ac)Tn.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1;else{(function(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1})()&&(t.loader=lc,t.progressive=!0,t.enableSoftwareAES=!0,Tn.log("[config]: Progressive streaming enabled, using FetchLoader"))}}let mc;class vc extends _o{constructor(t,e){super(t,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=e,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.on(mn.ERROR,this.onError,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this),t.off(mn.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach((t=>{t.loadError=0,t.fragmentError=0})),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(t,e){this.resetLevels()}onManifestLoaded(t,e){const n=this.hls.config.preferManagedMediaSource,r=[],i={},o={};let a=!1,s=!1,l=!1;e.levels.forEach((t=>{var e,c;const u=t.attrs;let{audioCodec:d,videoCodec:h}=t;-1!==(null==(e=d)?void 0:e.indexOf("mp4a.40.34"))&&(mc||(mc=/chrome|firefox/i.test(navigator.userAgent)),mc&&(t.audioCodec=d=void 0)),d&&(t.audioCodec=d=ii(d,n)),0===(null==(c=h)?void 0:c.indexOf("avc1"))&&(h=t.videoCodec=function(t){const e=t.split(".");if(e.length>2){let t=e.shift()+".";return t+=parseInt(e.shift()).toString(16),t+=("000"+parseInt(e.shift()).toString(16)).slice(-4),t}return t}(h));const{width:f,height:p,unknownCodecs:g}=t;if(a||(a=!(!f||!p)),s||(s=!!h),l||(l=!!d),null!=g&&g.length||d&&!Xr(d,"audio",n)||h&&!Xr(h,"video",n))return;const{CODECS:m,"FRAME-RATE":v,"HDCP-LEVEL":y,"PATHWAY-ID":b,RESOLUTION:w,"VIDEO-RANGE":E}=u,_=`${`${b||"."}-`}${t.bitrate}-${w}-${v}-${m}-${E}-${y}`;if(i[_])if(i[_].uri===t.url||t.attrs["PATHWAY-ID"])i[_].addGroupId("audio",u.AUDIO),i[_].addGroupId("text",u.SUBTITLES);else{const e=o[_]+=1;t.attrs["PATHWAY-ID"]=new Array(e+1).join(".");const n=new Wi(t);i[_]=n,r.push(n)}else{const e=new Wi(t);i[_]=e,o[_]=1,r.push(e)}})),this.filterAndSortMediaOptions(r,e,a,s,l)}filterAndSortMediaOptions(t,e,n,r,i){let o=[],a=[],s=t;if((n||r)&&i&&(s=s.filter((({videoCodec:t,videoRange:e,width:n,height:r})=>{return(!!t||!(!n||!r))&&(!!(i=e)&&Ki.indexOf(i)>-1);var i}))),0===s.length)return void Promise.resolve().then((()=>{if(this.hls){e.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(e.levels[0].attrs)}`);const t=new Error("no level with compatible codecs found in manifest");this.hls.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:e.url,error:t,reason:t.message})}}));if(e.audioTracks){const{preferManagedMediaSource:t}=this.hls.config;o=e.audioTracks.filter((e=>!e.audioCodec||Xr(e.audioCodec,"audio",t))),yc(o)}e.subtitles&&(a=e.subtitles,yc(a));const l=s.slice(0);s.sort(((t,e)=>{if(t.attrs["HDCP-LEVEL"]!==e.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(e.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&t.height!==e.height)return t.height-e.height;if(t.frameRate!==e.frameRate)return t.frameRate-e.frameRate;if(t.videoRange!==e.videoRange)return Ki.indexOf(t.videoRange)-Ki.indexOf(e.videoRange);if(t.videoCodec!==e.videoCodec){const n=ti(t.videoCodec),r=ti(e.videoCodec);if(n!==r)return r-n}if(t.uri===e.uri&&t.codecSet!==e.codecSet){const n=ei(t.codecSet),r=ei(e.codecSet);if(n!==r)return r-n}return t.averageBitrate!==e.averageBitrate?t.averageBitrate-e.averageBitrate:0}));let c=l[0];if(this.steering&&(s=this.steering.filterParsedLevels(s),s.length!==l.length))for(let f=0;f<l.length;f++)if(l[f].pathwayId===s[0].pathwayId){c=l[f];break}this._levels=s;for(let f=0;f<s.length;f++)if(s[f]===c){var u;this._firstLevel=f;const t=c.bitrate,e=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${s.length} level(s) found, first bitrate: ${t}`),void 0===(null==(u=this.hls.userConfig)?void 0:u.abrEwmaDefaultEstimate)){const n=Math.min(t,this.hls.config.abrEwmaDefaultEstimateMax);n>e&&e===fc.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=n)}break}const d=i&&!r,h={levels:s,audioTracks:o,subtitleTracks:a,sessionData:e.sessionData,sessionKeys:e.sessionKeys,firstLevel:this._firstLevel,stats:e.stats,audio:i,video:r,altAudio:!d&&o.some((t=>!!t.url))};this.hls.trigger(mn.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return 0===this._levels.length?null:this._levels}get level(){return this.currentLevelIndex}set level(t){const e=this._levels;if(0===e.length)return;if(t<0||t>=e.length){const n=new Error("invalid level idx"),r=t<0;if(this.hls.trigger(mn.ERROR,{type:vn.OTHER_ERROR,details:yn.LEVEL_SWITCH_ERROR,level:t,fatal:r,error:n,reason:n.message}),r)return;t=Math.min(t,e.length-1)}const n=this.currentLevelIndex,r=this.currentLevel,i=r?r.attrs["PATHWAY-ID"]:void 0,o=e[t],a=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=o,n===t&&o.details&&r&&i===a)return;this.log(`Switching to level ${t} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${a?" with Pathway "+a:""} from level ${n}${i?" with Pathway "+i:""}`);const s={level:t,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(mn.LEVEL_SWITCHING,s);const l=o.details;if(!l||l.live){const t=this.switchParams(o.uri,null==r?void 0:r.details);this.loadPlaylist(t)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}get firstLevel(){return this._firstLevel}set firstLevel(t){this._firstLevel=t}get startLevel(){if(void 0===this._startLevel){const t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this._startLevel}set startLevel(t){this._startLevel=t}onError(t,e){!e.fatal&&e.context&&e.context.type===wi&&e.context.level===this.level&&this.checkRetry(e)}onFragBuffered(t,{frag:e}){if(void 0!==e&&e.type===Ti){const t=e.elementaryStreams;if(!Object.keys(t).some((e=>!!t[e])))return;const n=this._levels[e.level];null!=n&&n.loadError&&(this.log(`Resetting level error count of ${n.loadError} on frag buffered`),n.loadError=0)}}onLevelLoaded(t,e){var n;const{level:r,details:i}=e,o=this._levels[r];var a;if(!o)return this.warn(`Invalid level index ${r}`),void(null!=(a=e.deliveryDirectives)&&a.skip&&(i.deltaUpdateFailed=!0));r===this.currentLevelIndex?(0===o.fragmentError&&(o.loadError=0),this.playlistLoaded(r,e,o.details)):null!=(n=e.deliveryDirectives)&&n.skip&&(i.deltaUpdateFailed=!0)}loadPlaylist(t){super.loadPlaylist();const e=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let i=n.uri;if(t)try{i=t.addDirectives(i)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}const o=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${e}${void 0!==(null==t?void 0:t.msn)?" at sn "+t.msn+" part "+t.part:""} with${o?" Pathway "+o:""} ${i}`),this.clearTimer(),this.hls.trigger(mn.LEVEL_LOADING,{url:i,level:e,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}}get nextLoadLevel(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}removeLevel(t){var e;const n=this._levels.filter(((e,n)=>n!==t||(this.steering&&this.steering.removeLevel(e),e===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,e.details&&e.details.fragments.forEach((t=>t.level=-1))),!1)));io(n),this._levels=n,this.currentLevelIndex>-1&&null!=(e=this.currentLevel)&&e.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(mn.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(t,{levels:e}){this._levels=e}checkMaxAutoUpdated(){const{autoLevelCapping:t,maxAutoLevel:e,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==e&&(this._maxAutoLevel=e,this.hls.trigger(mn.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:t,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function yc(t){const e={};t.forEach((t=>{const n=t.groupId||"";t.id=e[n]=e[n]||0,e[n]++}))}class bc{constructor(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}abort(t){for(const n in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[n].loader;if(r){var e;if(t&&t!==(null==(e=r.context)?void 0:e.frag.type))return;r.abort()}}}detach(){for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t];(e.mediaKeySessionContext||e.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}}destroy(){this.detach();for(const t in this.keyUriToKeyInfo){const e=this.keyUriToKeyInfo[t].loader;e&&e.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(t,e=yn.KEY_LOAD_ERROR,n,r,i){return new ta({type:vn.NETWORK_ERROR,details:e,fatal:!1,frag:t,response:i,error:n,networkDetails:r})}loadClear(t,e){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:r}=t;for(let t=0;t<e.length;t++){const i=e[t];if(r<=i.cc&&("initSegment"===n||"initSegment"===i.sn||n<i.sn)){this.emeController.selectKeySystemFormat(i).then((t=>{i.setKeyFormat(t)}));break}}}}load(t){return!t.decryptdata&&t.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(t).then((e=>this.loadInternal(t,e))):this.loadInternal(t)}loadInternal(t,e){var n,r;e&&t.setKeyFormat(e);const i=t.decryptdata;if(!i){const n=new Error(e?`Expected frag.decryptdata to be defined after setting format ${e}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,yn.KEY_LOAD_ERROR,n))}const o=i.uri;if(!o)return Promise.reject(this.createKeyLoadError(t,yn.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let a=this.keyUriToKeyInfo[o];if(null!=(n=a)&&n.decryptdata.key)return i.key=a.decryptdata.key,Promise.resolve({frag:t,keyInfo:a});var s;if(null!=(r=a)&&r.keyLoadPromise)switch(null==(s=a.mediaKeySessionContext)?void 0:s.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return a.keyLoadPromise.then((e=>(i.key=e.keyInfo.decryptdata.key,{frag:t,keyInfo:a})))}switch(a=this.keyUriToKeyInfo[o]={decryptdata:i,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},i.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===i.keyFormat?this.loadKeyHTTP(a,t):this.loadKeyEME(a,t);case"AES-128":return this.loadKeyHTTP(a,t);default:return Promise.reject(this.createKeyLoadError(t,yn.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${i.method}"`)))}}loadKeyEME(t,e){const n={frag:e,keyInfo:t};if(this.emeController&&this.config.emeEnabled){const e=this.emeController.loadKey(n);if(e)return(t.keyLoadPromise=e.then((e=>(t.mediaKeySessionContext=e,n)))).catch((e=>{throw t.keyLoadPromise=null,e}))}return Promise.resolve(n)}loadKeyHTTP(t,e){const n=this.config,r=new(0,n.loader)(n);return e.keyLoader=t.loader=r,t.keyLoadPromise=new Promise(((i,o)=>{const a={keyInfo:t,frag:e,responseType:"arraybuffer",url:t.decryptdata.uri},s=n.keyLoadPolicy.default,l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},c={onSuccess:(t,e,n,r)=>{const{frag:a,keyInfo:s,url:l}=n;if(!a.decryptdata||s!==this.keyUriToKeyInfo[l])return o(this.createKeyLoadError(a,yn.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),r));s.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,s.loader=null,i({frag:a,keyInfo:s})},onError:(t,n,r,i)=>{this.resetLoader(n),o(this.createKeyLoadError(e,yn.KEY_LOAD_ERROR,new Error(`HTTP Error ${t.code} loading key ${t.text}`),r,cn({url:a.url,data:void 0},t)))},onTimeout:(t,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(e,yn.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),r))},onAbort:(t,n,r)=>{this.resetLoader(n),o(this.createKeyLoadError(e,yn.INTERNAL_ABORTED,new Error("key loading aborted"),r))}};r.load(a,l,c)}))}resetLoader(t){const{frag:e,keyInfo:n,url:r}=t,i=n.loader;e.keyLoader===i&&(e.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[r],i&&i.destroy()}}function wc(){return self.SourceBuffer||self.WebKitSourceBuffer}function Ec(){if(!Wr())return!1;const t=wc();return!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove}class _c{constructor(t,e,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=t,this.media=e,this.fragmentTracker=n,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(t,e){const{config:n,media:r,stalled:i}=this;if(null===r)return;const{currentTime:o,seeking:a}=r,s=this.seeking&&!a,l=!this.seeking&&a;if(this.seeking=a,o!==t){if(this.moved=!0,a||(this.nudgeRetry=0),null!==i){if(this.stallReported){const t=self.performance.now()-i;Tn.warn(`playback not stuck anymore @${o}, after ${Math.round(t)}ms`),this.stallReported=!1}this.stalled=null}return}if(l||s)return void(this.stalled=null);if(r.paused&&!a||r.ended||0===r.playbackRate||!Ho.getBuffered(r).length)return void(this.nudgeRetry=0);const c=Ho.bufferInfo(r,o,0),u=c.nextStart||0;if(a){const t=c.len>2,n=!u||e&&e.start<=o||u-o>2&&!this.fragmentTracker.getPartialFragment(o);if(t||n)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var d;if(!(c.len>0)&&!u)return;const t=Math.max(u,c.start||0)-o,e=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,n=(null==e||null==(d=e.details)?void 0:d.live)?2*e.details.targetduration:2,i=this.fragmentTracker.getPartialFragment(o);if(t>0&&(t<=n||i))return void(r.paused||this._trySkipBufferHole(i))}const h=self.performance.now();if(null===i)return void(this.stalled=h);const f=h-i;if(!a&&f>=250&&(this._reportStall(c),!this.media))return;const p=Ho.bufferInfo(r,o,n.maxBufferHole);this._tryFixBufferStall(p,f)}_tryFixBufferStall(t,e){const{config:n,fragmentTracker:r,media:i}=this;if(null===i)return;const o=i.currentTime,a=r.getPartialFragment(o);if(a){if(this._trySkipBufferHole(a)||!this.media)return}(t.len>n.maxBufferHole||t.nextStart&&t.nextStart-o<n.maxBufferHole)&&e>1e3*n.highBufferWatchdogPeriod&&(Tn.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(t){const{hls:e,media:n,stallReported:r}=this;if(!r&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(t)})`);Tn.warn(r.message),e.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:t.len})}}_trySkipBufferHole(t){const{config:e,hls:n,media:r}=this;if(null===r)return 0;const i=r.currentTime,o=Ho.bufferInfo(r,i,0),a=i<o.start?o.start:o.nextStart;if(a){const s=o.len<=e.maxBufferHole,l=o.len>0&&o.len<1&&r.readyState<3,c=a-i;if(c>0&&(s||l)){if(c>e.maxBufferHole){const{fragmentTracker:e}=this;let n=!1;if(0===i){const t=e.getAppendedFrag(0,Ti);t&&a<t.end&&(n=!0)}if(!n){const n=t||e.getAppendedFrag(i,Ti);if(n){let t=!1,r=n.end;for(;r<a;){const n=e.getPartialFragment(r);if(!n){t=!0;break}r+=n.duration}if(t)return 0}}}const o=Math.max(a+.05,i+.1);if(Tn.warn(`skipping hole, adjusting currentTime from ${i} to ${o}`),this.moved=!0,this.stalled=null,r.currentTime=o,t&&!t.gap){const e=new Error(`fragment loaded with buffer holes, seeking from ${i} to ${o}`);n.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:e,reason:e.message,frag:t})}return o}}return 0}_tryNudgeBuffer(){const{config:t,hls:e,media:n,nudgeRetry:r}=this;if(null===n)return;const i=n.currentTime;if(this.nudgeRetry++,r<t.nudgeMaxRetry){const o=i+(r+1)*t.nudgeOffset,a=new Error(`Nudging 'currentTime' from ${i} to ${o}`);Tn.warn(a.message),n.currentTime=o,e.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1})}else{const n=new Error(`Playhead still not moving while enough data buffered @${i} after ${t.nudgeMaxRetry} nudges`);Tn.error(n.message),e.trigger(mn.ERROR,{type:vn.MEDIA_ERROR,details:yn.BUFFER_STALLED_ERROR,error:n,fatal:!0})}}}class Tc extends ya{constructor(t,e,n){super(t,e,n,"[stream-controller]",Ti),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:t}=this;t.on(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.on(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.on(mn.LEVEL_LOADING,this.onLevelLoading,this),t.on(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.on(mn.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.on(mn.ERROR,this.onError,this),t.on(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.on(mn.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.on(mn.BUFFER_CREATED,this.onBufferCreated,this),t.on(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),t.on(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(mn.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:t}=this;t.off(mn.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(mn.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(mn.MANIFEST_LOADING,this.onManifestLoading,this),t.off(mn.MANIFEST_PARSED,this.onManifestParsed,this),t.off(mn.LEVEL_LOADED,this.onLevelLoaded,this),t.off(mn.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),t.off(mn.ERROR,this.onError,this),t.off(mn.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),t.off(mn.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),t.off(mn.BUFFER_CREATED,this.onBufferCreated,this),t.off(mn.BUFFER_FLUSHED,this.onBufferFlushed,this),t.off(mn.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(mn.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(t){if(this.levels){const{lastCurrentTime:e,hls:n}=this;if(this.stopLoad(),this.setInterval(100),this.level=-1,!this.startFragRequested){let t=n.startLevel;-1===t&&(n.config.testBandwidth&&this.levels.length>1?(t=0,this.bitrateTest=!0):t=n.firstAutoLevel),n.nextLoadLevel=t,this.level=n.loadLevel,this.loadedmetadata=!1}e>0&&-1===t&&(this.log(`Override startPosition with lastCurrentTime @${e.toFixed(3)}`),t=e),this.state=sa,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this._forceStartLoad=!0,this.state=aa}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case va:{const{levels:t,level:e}=this,n=null==t?void 0:t[e],r=null==n?void 0:n.details;if(r&&(!r.live||this.levelLastLoaded===n)){if(this.waitForCdnTuneIn(r))break;this.state=sa;break}if(this.hls.nextLoadLevel!==this.level){this.state=sa;break}break}case ua:{var t;const e=self.performance.now(),n=this.retryDate;if(!n||e>=n||null!=(t=this.media)&&t.seeking){const{levels:t,level:e}=this,n=null==t?void 0:t[e];this.resetStartWhenNotLoaded(n||null),this.state=sa}}}this.state===sa&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:t,levelLastLoaded:e,levels:n,media:r}=this;if(null===e||!r&&(this.startFragRequested||!t.config.startFragPrefetch))return;if(this.altAudio&&this.audioOnly)return;const i=t.nextLoadLevel;if(null==n||!n[i])return;const o=n[i],a=this.getMainFwdBufferInfo();if(null===a)return;const s=this.getLevelDetails();if(s&&this._streamEnded(a,s)){const t={};return this.altAudio&&(t.type="video"),this.hls.trigger(mn.BUFFER_EOS,t),void(this.state=pa)}t.loadLevel!==i&&-1===t.manualLevel&&this.log(`Adapting to level ${i} from level ${this.level}`),this.level=t.nextLoadLevel=i;const l=o.details;if(!l||this.state===va||l.live&&this.levelLastLoaded!==o)return this.level=i,void(this.state=va);const c=a.len,u=this.getMaxBufferLength(o.maxBitrate);if(c>=u)return;this.backtrackFragment&&this.backtrackFragment.start>a.end&&(this.backtrackFragment=null);const d=this.backtrackFragment?this.backtrackFragment.start:a.end;let h=this.getNextFragment(d,l);if(this.couldBacktrack&&!this.fragPrevious&&h&&"initSegment"!==h.sn&&this.fragmentTracker.getState(h)!==Bo){var f;const t=(null!=(f=this.backtrackFragment)?f:h).sn-l.startSN,e=l.fragments[t-1];e&&h.cc===e.cc&&(h=e,this.fragmentTracker.removeFragment(e))}else this.backtrackFragment&&a.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,d)){if(!h.gap){const t=this.audioOnly&&!this.altAudio?Rn:Cn,e=(t===Cn?this.videoBuffer:this.mediaBuffer)||this.media;e&&this.afterBufferFlushed(e,t,Ti)}h=this.getNextFragmentLoopLoading(h,l,a,Ti,u)}h&&(!h.initSegment||h.initSegment.data||this.bitrateTest||(h=h.initSegment),this.loadFragment(h,o,d))}loadFragment(t,e,n){const r=this.fragmentTracker.getState(t);this.fragCurrent=t,r===Po||r===Fo?"initSegment"===t.sn?this._loadInitSegment(t,e):this.bitrateTest?(this.log(`Fragment ${t.sn} of level ${t.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(t,e)):(this.startFragRequested=!0,super.loadFragment(t,e,n)):this.clearTrackerIfNeeded(t)}getBufferedFrag(t){return this.fragmentTracker.getBufferedFrag(t,Ti)}followingBufferedFrag(t){return t?this.getBufferedFrag(t.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:t,media:e}=this;if(null!=e&&e.readyState){let n;const r=this.getAppendedFrag(e.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const i=this.getLevelDetails();if(null!=i&&i.live){const t=this.getMainFwdBufferInfo();if(!t||t.len<2*i.targetduration)return}if(!e.paused&&t){const e=t[this.hls.nextLoadLevel],r=this.fragLastKbps;n=r&&this.fragCurrent?this.fragCurrent.duration*e.maxBitrate/(1e3*r)+1:0}else n=0;const o=this.getBufferedFrag(e.currentTime+n);if(o){const t=this.followingBufferedFrag(o);if(t){this.abortCurrentFrag();const e=t.maxStartPTS?t.maxStartPTS:t.start,n=t.duration,r=Math.max(o.end,e+Math.min(Math.max(n-this.config.maxFragLookUpTolerance,n*(this.couldBacktrack?.5:.125)),n*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(r,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case la:case ca:case ua:case ha:case fa:this.state=sa}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(t,e){super.flushMainBuffer(t,e,this.altAudio?"video":null)}onMediaAttached(t,e){super.onMediaAttached(t,e);const n=e.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new _c(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:t}=this;t&&this.onvplaying&&this.onvseeked&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const t=this.media,e=t?t.currentTime:null;fn(e)&&this.log(`Media seeked to ${e.toFixed(3)}`);const n=this.getMainFwdBufferInfo();null!==n&&0!==n.len?this.tick():this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`)}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(mn.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(t,e){let n=!1,r=!1;e.levels.forEach((t=>{const e=t.audioCodec;e&&(n=n||-1!==e.indexOf("mp4a.40.2"),r=r||-1!==e.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=n&&r&&!function(){var t;const e=wc();return"function"===typeof(null==e||null==(t=e.prototype)?void 0:t.changeType)}(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1}onLevelLoading(t,e){const{levels:n}=this;if(!n||this.state!==sa)return;const r=n[e.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=va)}onLevelLoaded(t,e){var n;const{levels:r}=this,i=e.level,o=e.details,a=o.totalduration;if(!r)return void this.warn(`Levels were reset while loading level ${i}`);this.log(`Level ${i} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${a}`);const s=r[i],l=this.fragCurrent;!l||this.state!==ca&&this.state!==ua||l.level!==e.level&&l.loader&&this.abortCurrentFrag();let c=0;if(o.live||null!=(n=s.details)&&n.live){var u;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;c=this.alignPlaylists(o,s.details,null==(u=this.levelLastLoaded)?void 0:u.details)}if(s.details=o,this.levelLastLoaded=s,this.hls.trigger(mn.LEVEL_UPDATED,{details:o,level:i}),this.state===va){if(this.waitForCdnTuneIn(o))return;this.state=sa}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,c),this.tick()}_handleFragmentLoadProgress(t){var e;const{frag:n,part:r,payload:i}=t,{levels:o}=this;if(!o)return void this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);const a=o[n.level],s=a.details;if(!s)return this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),void this.fragmentTracker.removeFragment(n);const l=a.videoCodec,c=s.PTSKnown||!s.live,u=null==(e=n.initSegment)?void 0:e.data,d=this._getAudioCodec(a),h=this.transmuxer=this.transmuxer||new Ts(this.hls,Ti,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),f=r?r.index:-1,p=-1!==f,g=new Ko(n.level,n.sn,n.stats.chunkCount,i.byteLength,f,p),m=this.initPTS[n.cc];h.push(i,u,d,l,n,r,s.totalduration,c,g,m)}onAudioTrackSwitching(t,e){const n=this.altAudio;if(!!!e.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const t=this.fragCurrent;t&&(this.log("Switching to main audio track, cancel main fragment load"),t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const t=this.hls;n&&(t.trigger(mn.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),t.trigger(mn.AUDIO_TRACK_SWITCHED,e)}}onAudioTrackSwitched(t,e){const n=e.id,r=!!this.hls.audioTracks[n].url;if(r){const t=this.videoBuffer;t&&this.mediaBuffer!==t&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=t)}this.altAudio=r,this.tick()}onBufferCreated(t,e){const n=e.tracks;let r,i,o=!1;for(const a in n){const t=n[a];if("main"===t.id){if(i=a,r=t,"video"===a){const t=n[a];t&&(this.videoBuffer=t.buffer)}}else o=!0}o&&r?(this.log(`Alternate track found, use ${i}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(t,e){const{frag:n,part:r}=e;if(n&&n.type!==Ti)return;if(this.fragContextChanged(n))return this.warn(`Fragment ${n.sn}${r?" p: "+r.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),void(this.state===fa&&(this.state=sa));const i=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*i.total/(i.buffering.end-i.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}onError(t,e){var n;if(e.fatal)this.state=ga;else switch(e.details){case yn.FRAG_GAP:case yn.FRAG_PARSING_ERROR:case yn.FRAG_DECRYPT_ERROR:case yn.FRAG_LOAD_ERROR:case yn.FRAG_LOAD_TIMEOUT:case yn.KEY_LOAD_ERROR:case yn.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ti,e);break;case yn.LEVEL_LOAD_ERROR:case yn.LEVEL_LOAD_TIMEOUT:case yn.LEVEL_PARSING_ERROR:e.levelRetry||this.state!==va||(null==(n=e.context)?void 0:n.type)!==wi||(this.state=sa);break;case yn.BUFFER_APPEND_ERROR:case yn.BUFFER_FULL_ERROR:if(!e.parent||"main"!==e.parent)return;if(e.details===yn.BUFFER_APPEND_ERROR)return void this.resetLoadingState();this.reduceLengthAndFlushBuffer(e)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case yn.INTERNAL_EXCEPTION:this.recoverWorkerError(e)}}checkBuffer(){const{media:t,gapController:e}=this;if(t&&e&&t.readyState){if(this.loadedmetadata||!Ho.getBuffered(t).length){const t=this.state!==sa?this.fragCurrent:null;e.poll(this.lastCurrentTime,t)}this.lastCurrentTime=t.currentTime}}onFragLoadEmergencyAborted(){this.state=sa,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(t,{type:e}){if(e!==Rn||this.audioOnly&&!this.altAudio){const t=(e===Cn?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(t,e,Ti),this.tick()}}onLevelsUpdated(t,e){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=e.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:t}=this;if(!t)return;const e=t.currentTime;let n=this.startPosition;if(n>=0&&e<n){if(t.seeking)return void this.log(`could not seek to ${n}, already seeking at ${e}`);const r=Ho.getBuffered(t),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${i} to match buffer start`),n+=i,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${e}`),t.currentTime=n}}_getAudioCodec(t){let e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&e&&(this.log("Swapping audio codec"),e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),e}_loadBitrateTestFrag(t,e){t.bitrateTest=!0,this._doFragLoad(t,e).then((n=>{const{hls:r}=this;if(!n||this.fragContextChanged(t))return;e.fragmentError=0,this.state=sa,this.startFragRequested=!1,this.bitrateTest=!1;const i=t.stats;i.parsing.start=i.parsing.end=i.buffering.start=i.buffering.end=self.performance.now(),r.trigger(mn.FRAG_LOADED,n),t.bitrateTest=!1}))}_handleTransmuxComplete(t){var e;const n="main",{hls:r}=this,{remuxResult:i,chunkMeta:o}=t,a=this.getCurrentContext(o);if(!a)return void this.resetWhenMissingContext(o);const{frag:s,part:l,level:c}=a,{video:u,text:d,id3:h,initSegment:f}=i,{details:p}=c,g=this.altAudio?void 0:i.audio;if(this.fragContextChanged(s))this.fragmentTracker.removeFragment(s);else{if(this.state=ha,f){if(null!=f&&f.tracks){const t=s.initSegment||s;this._bufferInitSegment(c,f.tracks,t,o),r.trigger(mn.FRAG_PARSING_INIT_SEGMENT,{frag:t,id:n,tracks:f.tracks})}const t=f.initPTS,e=f.timescale;fn(t)&&(this.initPTS[s.cc]={baseTime:t,timescale:e},r.trigger(mn.INIT_PTS_FOUND,{frag:s,id:n,initPTS:t,timescale:e}))}if(u&&p&&"initSegment"!==s.sn){const t=p.fragments[s.sn-1-p.startSN],e=s.sn===p.startSN,n=!t||s.cc>t.cc;if(!1!==i.independent){const{startPTS:t,endPTS:r,startDTS:i,endDTS:a}=u;if(l)l.elementaryStreams[u.type]={startPTS:t,endPTS:r,startDTS:i,endDTS:a};else if(u.firstKeyFrame&&u.independent&&1===o.id&&!n&&(this.couldBacktrack=!0),u.dropped&&u.independent){const i=this.getMainFwdBufferInfo(),o=(i?i.end:this.getLoadPosition())+this.config.maxBufferHole,l=u.firstKeyFramePTS?u.firstKeyFramePTS:t;if(!e&&o<l-this.config.maxBufferHole&&!n)return void this.backtrack(s);n&&(s.gap=!0),s.setElementaryStreamInfo(u.type,s.start,r,s.start,a,!0)}else e&&t>2&&(s.gap=!0);s.setElementaryStreamInfo(u.type,t,r,i,a),this.backtrackFragment&&(this.backtrackFragment=s),this.bufferFragmentData(u,s,l,o,e||n)}else{if(!e&&!n)return void this.backtrack(s);s.gap=!0}}if(g){const{startPTS:t,endPTS:e,startDTS:n,endDTS:r}=g;l&&(l.elementaryStreams[Rn]={startPTS:t,endPTS:e,startDTS:n,endDTS:r}),s.setElementaryStreamInfo(Rn,t,e,n,r),this.bufferFragmentData(g,s,l,o)}if(p&&null!=h&&null!=(e=h.samples)&&e.length){const t={id:n,frag:s,details:p,samples:h.samples};r.trigger(mn.FRAG_PARSING_METADATA,t)}if(p&&d){const t={id:n,frag:s,details:p,samples:d.samples};r.trigger(mn.FRAG_PARSING_USERDATA,t)}}}_bufferInitSegment(t,e,n,r){if(this.state!==ha)return;this.audioOnly=!!e.audio&&!e.video,this.altAudio&&!this.audioOnly&&delete e.audio;const{audio:i,video:o,audiovideo:a}=e;if(i){let e=t.audioCodec;const n=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==i.metadata.channelCount&&-1===n.indexOf("firefox")&&(e="mp4a.40.5")),e&&-1!==e.indexOf("mp4a.40.5")&&-1!==n.indexOf("android")&&"audio/mpeg"!==i.container&&(e="mp4a.40.2",this.log(`Android: force audio codec to ${e}`)),t.audioCodec&&t.audioCodec!==e&&this.log(`Swapping manifest audio codec "${t.audioCodec}" for "${e}"`),i.levelCodec=e,i.id="main",this.log(`Init audio buffer, container:${i.container}, codecs[selected/level/parsed]=[${e||""}/${t.audioCodec||""}/${i.codec}]`)}o&&(o.levelCodec=t.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${t.videoCodec||""}/${o.codec}]`)),a&&this.log(`Init audiovideo buffer, container:${a.container}, codecs[level/parsed]=[${t.codecs}/${a.codec}]`),this.hls.trigger(mn.BUFFER_CODECS,e),Object.keys(e).forEach((t=>{const i=e[t].initSegment;null!=i&&i.byteLength&&this.hls.trigger(mn.BUFFER_APPENDING,{type:t,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Ti)}backtrack(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=sa}checkFragmentChanged(){const t=this.media;let e=null;if(t&&t.readyState>1&&!1===t.seeking){const n=t.currentTime;if(Ho.isBuffered(t,n)?e=this.getAppendedFrag(n):Ho.isBuffered(t,n+.1)&&(e=this.getAppendedFrag(n+.1)),e){this.backtrackFragment=null;const t=this.fragPlaying,n=e.level;t&&e.sn===t.sn&&t.level===n||(this.fragPlaying=e,this.hls.trigger(mn.FRAG_CHANGED,{frag:e}),t&&t.level===n||this.hls.trigger(mn.LEVEL_SWITCHED,{level:n}))}}}get nextLevel(){const t=this.nextBufferedFrag;return t?t.level:-1}get currentFrag(){const t=this.media;return t?this.fragPlaying||this.getAppendedFrag(t.currentTime):null}get currentProgramDateTime(){const t=this.media;if(t){const e=t.currentTime,n=this.currentFrag;if(n&&fn(e)&&fn(n.programDateTime)){const t=n.programDateTime+1e3*(e-n.start);return new Date(t)}}return null}get currentLevel(){const t=this.currentFrag;return t?t.level:-1}get nextBufferedFrag(){const t=this.currentFrag;return t?this.followingBufferedFrag(t):null}get forceStartLoad(){return this._forceStartLoad}}class xc{static get version(){return"1.5.6"}static isMSESupported(){return Ec()}static isSupported(){return function(){if(!Ec())return!1;const t=Wr();return"function"===typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((e=>t.isTypeSupported(Jr(e,"video"))))||["mp4a.40.2","fLaC"].some((e=>t.isTypeSupported(Jr(e,"audio")))))}()}static getMediaSource(){return Wr()}static get Events(){return mn}static get ErrorTypes(){return vn}static get ErrorDetails(){return yn}static get DefaultConfig(){return xc.defaultConfig?xc.defaultConfig:fc}static set DefaultConfig(t){xc.defaultConfig=t}constructor(t={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new _s,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,function(t,e){if("object"===typeof console&&!0===t||"object"===typeof t){_n(t,"debug","log","info","warn","error");try{En.log(`Debug logs enabled for "${e}" in hls.js version 1.5.6`)}catch(n){En=wn}}else En=wn}(t.debug||!1,"Hls instance");const e=this.config=function(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==e.liveMaxLatencyDurationCount&&(void 0===e.liveSyncDurationCount||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(void 0===e.liveSyncDuration||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=pc(t),r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((t=>{const i=`${"level"===t?"playlist":t}LoadPolicy`,o=void 0===e[i],a=[];r.forEach((r=>{const s=`${t}Loading${r}`,l=e[s];if(void 0!==l&&o){a.push(s);const t=n[i].default;switch(e[i]={default:t},r){case"TimeOut":t.maxLoadTimeMs=l,t.maxTimeToFirstByteMs=l;break;case"MaxRetry":t.errorRetry.maxNumRetry=l,t.timeoutRetry.maxNumRetry=l;break;case"RetryDelay":t.errorRetry.retryDelayMs=l,t.timeoutRetry.retryDelayMs=l;break;case"MaxRetryTimeout":t.errorRetry.maxRetryDelayMs=l,t.timeoutRetry.maxRetryDelayMs=l}}})),a.length&&Tn.warn(`hls.js config: "${a.join('", "')}" setting(s) are deprecated, use "${i}": ${JSON.stringify(e[i])}`)})),cn(cn({},n),e)}(xc.DefaultConfig,t);this.userConfig=t,e.progressive&&gc(e);const{abrController:n,bufferController:r,capLevelController:i,errorController:o,fpsController:a}=e,s=new o(this),l=this.abrController=new n(this),c=this.bufferController=new r(this),u=this.capLevelController=new i(this),d=new a(this),h=new Ai(this),f=new $i(this),p=e.contentSteeringController,g=p?new p(this):null,m=this.levelController=new vc(this,g),v=new Uo(this),y=new bc(this.config),b=this.streamController=new Tc(this,v,y);u.setStreamController(b),d.setStreamController(b);const w=[h,m,b];g&&w.splice(1,0,g),this.networkControllers=w;const E=[l,c,u,d,f,v];this.audioTrackController=this.createController(e.audioTrackController,w);const _=e.audioStreamController;_&&w.push(new _(this,v,y)),this.subtitleTrackController=this.createController(e.subtitleTrackController,w);const T=e.subtitleStreamController;T&&w.push(new T(this,v,y)),this.createController(e.timelineController,E),y.emeController=this.emeController=this.createController(e.emeController,E),this.cmcdController=this.createController(e.cmcdController,E),this.latencyController=this.createController(Gi,E),this.coreComponents=E,w.push(s);const x=s.onErrorOut;"function"===typeof x&&this.on(mn.ERROR,x,s)}createController(t,e){if(t){const n=new t(this);return e&&e.push(n),n}return null}on(t,e,n=this){this._emitter.on(t,e,n)}once(t,e,n=this){this._emitter.once(t,e,n)}removeAllListeners(t){this._emitter.removeAllListeners(t)}off(t,e,n=this,r){this._emitter.off(t,e,n,r)}listeners(t){return this._emitter.listeners(t)}emit(t,e,n){return this._emitter.emit(t,e,n)}trigger(t,e){if(this.config.debug)return this.emit(t,t,e);try{return this.emit(t,t,e)}catch(n){if(Tn.error("An internal error happened while handling event "+t+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const e=t===mn.ERROR;this.trigger(mn.ERROR,{type:vn.OTHER_ERROR,details:yn.INTERNAL_EXCEPTION,fatal:e,event:t,error:n}),this.triggeringException=!1}}return!1}listenerCount(t){return this._emitter.listenerCount(t)}destroy(){Tn.log("destroy"),this.trigger(mn.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((t=>t.destroy())),this.networkControllers.length=0,this.coreComponents.forEach((t=>t.destroy())),this.coreComponents.length=0;const t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null}attachMedia(t){Tn.log("attachMedia"),this._media=t,this.trigger(mn.MEDIA_ATTACHING,{media:t})}detachMedia(){Tn.log("detachMedia"),this.trigger(mn.MEDIA_DETACHING,void 0),this._media=null}loadSource(t){this.stopLoad();const e=this.media,n=this.url,r=this.url=sn.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,Tn.log(`loadSource:${r}`),e&&n&&(n!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(e)),this.trigger(mn.MANIFEST_LOADING,{url:t})}startLoad(t=-1){Tn.log(`startLoad(${t})`),this.started=!0,this.networkControllers.forEach((e=>{e.startLoad(t)}))}stopLoad(){Tn.log("stopLoad"),this.started=!1,this.networkControllers.forEach((t=>{t.stopLoad()}))}resumeBuffering(){this.started&&this.networkControllers.forEach((t=>{"fragmentLoader"in t&&t.startLoad(-1)}))}pauseBuffering(){this.networkControllers.forEach((t=>{"fragmentLoader"in t&&t.stopLoad()}))}swapAudioCodec(){Tn.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){Tn.log("recoverMediaError");const t=this._media;this.detachMedia(),t&&this.attachMedia(t)}removeLevel(t){this.levelController.removeLevel(t)}get levels(){const t=this.levelController.levels;return t||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(t){Tn.log(`set currentLevel:${t}`),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(t){Tn.log(`set nextLevel:${t}`),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(t){Tn.log(`set loadLevel:${t}`),this.levelController.manualLevel=t}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(t){this.levelController.nextLoadLevel=t}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(t){Tn.log(`set firstLevel:${t}`),this.levelController.firstLevel=t}get startLevel(){const t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t}set startLevel(t){Tn.log(`set startLevel:${t}`),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(t){const e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimate():NaN}set bandwidthEstimate(t){this.abrController.resetEstimator(t)}get ttfbEstimate(){const{bwEstimator:t}=this.abrController;return t?t.getEstimateTTFB():NaN}set autoLevelCapping(t){this._autoLevelCapping!==t&&(Tn.log(`set autoLevelCapping:${t}`),this._autoLevelCapping=t,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(t){(function(t){return Hi.indexOf(t)>-1})(t)&&this._maxHdcpLevel!==t&&(this._maxHdcpLevel=t,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return-1===this.levelController.manualLevel}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:t,config:{minAutoBitrate:e}}=this;if(!t)return 0;const n=t.length;for(let r=0;r<n;r++)if(t[r].maxBitrate>=e)return r;return 0}get maxAutoLevel(){const{levels:t,autoLevelCapping:e,maxHdcpLevel:n}=this;let r;if(r=-1===e&&null!=t&&t.length?t.length-1:e,n)for(let i=r;i--;){const e=t[i].attrs["HDCP-LEVEL"];if(e&&e<=n)return i}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(t){this.abrController.nextAutoLevel=t}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(t){var e;return null==(e=this.audioTrackController)?void 0:e.setAudioOption(t)}setSubtitleOption(t){var e;return null==(e=this.subtitleTrackController)||e.setSubtitleOption(t),null}get allAudioTracks(){const t=this.audioTrackController;return t?t.allAudioTracks:[]}get audioTracks(){const t=this.audioTrackController;return t?t.audioTracks:[]}get audioTrack(){const t=this.audioTrackController;return t?t.audioTrack:-1}set audioTrack(t){const e=this.audioTrackController;e&&(e.audioTrack=t)}get allSubtitleTracks(){const t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}get subtitleTracks(){const t=this.subtitleTrackController;return t?t.subtitleTracks:[]}get subtitleTrack(){const t=this.subtitleTrackController;return t?t.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(t){const e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}get subtitleDisplay(){const t=this.subtitleTrackController;return!!t&&t.subtitleDisplay}set subtitleDisplay(t){const e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(t){this.config.lowLatencyMode=t}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}xc.defaultConfig=void 0;var Sc=function(t){return t&&t.replace(/^https?:/i,window.location.protocol)},Lc=(0,s.Z)((function t(e){var n=this;(0,l.Z)(this,t),(0,d.Z)(this,"init",(function(){for(var t=n.options.videoList,e=document.querySelectorAll(".js-article-video"),r=e.length,i=0;i<r;i++){var o=e[i].querySelector("video");if(o){var a=t[i]||{},s=a.videoRatio,l=a.mp4,c=a.m3u8;if(s&&s<.5625){var u=(670/s/75).toPrecision(6);o.style.height="".concat(u,"rem")}var d=c&&/\.m3u8$/i.test(c);if(d&&o.canPlayType("application/vnd.apple.mpegurl"))o.src=Sc(c);else if(d&&xc.isSupported()){var h=new xc;h.loadSource(Sc(c)),h.attachMedia(o)}else o.src=Sc(l||c)}}})),(0,d.Z)(this,"onCover",(function(t,e){var n,r;e.classList.add("hide"),null===(n=e.parentNode)||void 0===n||null===(r=n.querySelector("video"))||void 0===r||r.play(),(0,y.j)({val_act:"article_body_videoPlay",val_nm:y.QJ.click})})),this.options=e,(0,r.c)({type:"click",selector:".js-article-videoCover",callback:this.onCover}),this.init()})),kc=(0,s.Z)((function t(){(0,l.Z)(this,t)})),Ac=n(76403),Oc=function(){try{if("function"===typeof window.MutationObserver){var t=new MutationObserver((function(t){t.forEach((function(t){var i=t.addedNodes||[],o=0;t.target===e?o=1:t.target===n?o=2:t.target===r&&(o=3),i.forEach((function(t){var e=t;!e||!e.classList||"P"===e.nodeName||"FONT"===e.nodeName||e.classList.contains("yd-trs-source")||e.classList.contains("area-recommend")||e.classList.contains("recommend-item")||e.classList.contains("area-content")||e.classList.contains("m-insurance-item-container")||((0,y.j)({val_act:"article_recommend_catch",val_nm:y.QJ.other,info:{msg:e.outerHTML,position:o,location:e.offsetTop||0}}),"function"===typeof window.NTESResouceMonitor&&window.NTESResouceMonitor())}))}))})),e=document.querySelector(".js-recommend");e&&t.observe(e,{attributes:!1,childList:!0,subtree:!1});var n=document.querySelector(".js-recommend-wrap");n&&t.observe(n,{attributes:!1,childList:!0,subtree:!1});var r=document.querySelector(".js-article-body");r&&t.observe(r,{attributes:!1,childList:!0,subtree:!1})}}catch(i){console.log(i)}},Rc=n(23036),Cc=n(86693),Ic=(0,s.Z)((function t(e){(0,l.Z)(this,t),(0,d.Z)(this,"pageCount",-1),(0,d.Z)(this,"computeStyle",(function(t,e,n){for(var r=document.querySelectorAll(e),i=r.length,o=function(e){var i=r[e],o=parseInt(i.dataset.index||"",10),a=n[o]||{},s=a.pixel,l=void 0===s?"":s,c=a.src,u=(l||"").split("*").map((function(t){return parseInt(t,10)})),d=(0,rt.Z)(u,2),h=d[0],f=d[1],g=i.querySelector("img");if(g&&(g.onload=function(){"https://static.ws.126.net/163/frontend/images/2022/empty.png"!==g.src&&(g.style.background="transparent none",g.style.height="auto"),i.classList.remove("gif-photo-loading")},g.onerror=function(){if(i.classList.remove("gif-photo-loading"),"photo"===t){var e=new Ac.Z(c);e.addSearch({t:Date.now(),r:Math.floor(1e8*Math.random()),f:"wap"}),e.protocol(window.location.protocol),(0,p.U)({apiName:"image-error"}).head(e.href()).catch((function(t){if(t.response&&404===t.response.status){var e,n=i.parentNode;null===n||void 0===n||null===(e=n.parentNode)||void 0===e||e.removeChild(n)}}))}},h&&f)){var m,v=f<60?60:f,y=Math.round(g.width*v/h);if(g.style.minHeight="unset",h>=200?g.style.height="".concat(y,"px"):(g.style.width="".concat(h,"px"),g.style.height="".concat(v,"px")),f/h<.25||h<200)null===(m=i.parentElement)||void 0===m||m.classList.add("small-photo")}},a=0;a<i;a++)o(a)})),(0,d.Z)(this,"fold",(function(){var t=document.documentElement.clientHeight,e=document.querySelector(".js-article-body");if(e&&t){var n=e.offsetHeight;if(Math.ceil(n/t)>3){e.classList.add("article-body-fold");var i=document.querySelector(".js-unfold-wrap");i&&(i.innerHTML='<span>\u70b9\u51fb\u67e5\u770b\u5168\u6587</span><i class="icon-arrow"></i>'),(0,r.c)({type:"click",selector:".js-unfold-wrap",callback:function(){e.classList.remove("article-body-fold"),i&&(i.innerHTML=""),(0,y.j)({val_act:"article_body_unfold",val_nm:y.QJ.click})}}),(0,Rc.f)({callback:function(){return{trackData:{val_act:"article_body_unfold",val_nm:y.QJ.exposure}}}}).observe(".js-unfold-wrap")}}}));var n=e.articleLiveList,i=e.articlePhotoList,o=e.articlePhotoSetList,a=e.articleVideoList,s=e.isFold,c=void 0!==s&&s;!function(t){new nn(t)}({imgList:i}),function(t){new Lc(t)}({videoList:a}),new kc,n.forEach((function(t){!function(t){new Xe(t)}({param:t})})),this.computeStyle("photo",".js-article-photo",i),this.computeStyle("photoSet",".js-article-photoSet",o),c&&this.fold(),Cc.highlightAll()})),Dc=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];new Ic(t),e&&Oc()},Nc=n(16260),Pc=n.n(Nc),Mc=n(40209),Fc="* {\n  -webkit-tap-highlight-color: transparent;\n}\n.g-bd {\n  width: inherit !important;\n  max-width: 260px;\n  background: none;\n}\n\n.m-header {\n  padding: 0 0 20px 0;\n}\n.m-footer {\n  display: none;\n}\n\n.j-headimg {\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: flex-end;\n  width: 100%;\n}\n\n.m-header .line {\n  display: none;\n}\n\n.m-header .u-head1,\n.m-header .u-head2 {\n  width: unset !important;\n  height: unset !important;\n  font-size: 12px !important;\n  line-height: 30px;\n  margin: 0 10px 0 0;\n}\n\n.m-cnt {\n  padding: 0 !important;\n  width: 100%;\n  overflow: hidden;\n}\n.u-tab {\n  display: none;\n}\n\n.m-cnt .inputbox {\n  display: flex !important;\n  /* justify-content: space-between; */\n  align-items: center;\n  height: 36px;\n  border-radius: 8px;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n  flex-grow: 1;\n}\n.m-cnt .inputbox.active,\n.m-cnt .inputbox.error-color {\n  border: 1px solid rgba(0, 0, 0, 0.1);\n}\n.m-cnt .u-input {\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n}\n.m-cnt .m-pcbox {\n  display: flex;\n  justify-content: space-between;\n}\n.m-cnt .u-tip {\n  display: none !important;\n}\n.m-cnt .inputbox .u-input input {\n  height: 34px;\n  line-height: 34px;\n  display: block;\n  box-sizing: border-box;\n  font-size: 14px;\n  font-weight: normal;\n  padding: 0 30px 0 10px;\n  width: 100%;\n}\ninput::-webkit-input-placeholder {\n  height: unset;\n  line-height: unset;\n}\n\n.m-cnt .u-logo {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-right: 1px solid rgba(0, 0, 0, 0.1);\n  box-sizing: border-box;\n  width: 40px !important;\n  margin: 0;\n  padding: 0;\n  flex-shrink: 0;\n}\n.m-cnt .u-logo .u-logo-img1,\n.m-cnt .u-logo .u-logo-img2,\n.m-cnt .u-logo .u-logo-img3 {\n  margin: 0 0 2px 5px;\n}\n.m-cnt .u-logo .u-logo-img3 {\n  margin: 2px 0 0 5px;\n}\n\n.m-pcbox .pcbtn {\n  margin-left: 8px;\n}\n.m-pcbox .pcbtn .getsmscode {\n  background: #ff3a3a;\n  border-radius: 8px;\n  width: 100px;\n  height: 36px;\n  line-height: 36px;\n  font-size: 14px;\n}\n.m-pcbox .pcbtn .getsmscode.u-btn-loading-blue {\n  background: #ff3a3a !important;\n}\n.m-pcbox .pcbtn .getsmscode:hover {\n  background: #ff3a3a;\n}\n.m-cnt .m-container .m-nerror .ferrortail,\n.m-cnt .m-container .m-nerror .ferrortail2 {\n  display: inline-block;\n  margin: 3px 0 2px 0;\n}\n.m-cnt .m-nerror .ferrorhead,\n.m-cnt .m-nerror .ferrorhead2,\n.m-cnt .m-nerror .ferrorhead3,\n.m-cnt .m-nerror .ferrorhead4 {\n  display: inline;\n  vertical-align: bottom;\n}\n\n.u-loginbtn {\n  background: #ff3a3a;\n  border-radius: 8px;\n  line-height: 36px;\n  height: 36px;\n  font-size: 14px;\n  color: #fff;\n}\n.w-exception-normal {\n  width: 100% !important;\n}\n.w-exception-normal .cnt {\n  padding: 10px 0;\n}\n.w-exception-normal .cnt .note {\n  font-size: 20px !important;\n}\n.w-exception-normal .warnlogo {\n  width: 44px !important;\n  height: 44px !important;\n}\n.w-exception-normal .cnt .note {\n  font-size: 16px;\n}\n.btnbox .u-btn-middle3 {\n  width: 45%;\n}\n.btnbox .btncolor {\n  color: #fff;\n  background-color: #ff3a3a;\n}\n\n.m-cnt #login-form .m-ckcnt {\n  display: flex;\n}\n\n.m-cnt .ckimgbox {\n  border-radius: 0px !important;\n}\n\n.m-cnt #login-form .m-ckcnt input.cktext {\n  width: 100% !important;\n}\n\n.m-smsup .u-smsUp-new {\n  margin-top: 10px;\n}\n.u-zc-agree,\n.u-dl-agree {\n  margin-right: 12px !important;\n}\n.fur-agree {\n  padding-bottom: 4px;\n}\n.m-cnt .m-unlogin .b-unlogn {\n  display: none;\n}\n";function Bc(){Bc=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(Yu){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(Yu){return{type:"throw",arg:Yu}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Uc=(0,s.Z)((function t(e){var n=this;(0,l.Z)(this,t),(0,d.Z)(this,"inited",!1),(0,d.Z)(this,"init",(function(t){n.dialogNode=(0,Ve.a)(Pc()()),document.body.appendChild(n.dialogNode),(0,r.c)({type:"click",selector:".js-login-close",callback:n.hide}),new Promise((function(t){window.URS?t():(0,Mc.Z)("https://urswebzj.nosdn.127.net/webzj_cdn101/message.js").then((function(){t()}))})).then((function(){new window.URS({newCDN:1,version:4,productKey:"02a763dce16c9ace1e2b7e40002b7ff5",product:"3g_163",promark:"nHgaxeT",host:"m.163.com",includeBox:"js-login-module",page:"login",single:0,regUrlForce:"https://zc.reg.163.com/m/regInitialized?pd=3g_163&pkid=oRHsLCv&pkht=m.163.com&curl=".concat(encodeURIComponent(window.location.href)),logincb:function(){var t=(0,u.Z)(Bc().mark((function t(){return Bc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,y.j)({val_act:"article_login_success",val_nm:y.QJ.other}),t.prev=1,t.next=4,n.options.simpleUserInfo.request(!0);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:n.destory();case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),regcb:function(){var t=(0,u.Z)(Bc().mark((function t(){return Bc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,y.j)({val_act:"article_register_success",val_nm:y.QJ.other}),t.prev=1,t.next=4,n.options.simpleUserInfo.request(!0);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:n.destory();case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),initReady:function(){},cookieDomain:"163.com",needMobileLogin:1,smsLoginFirst:1,mobileFirst:1,needUnLogin:1,defaultUnLogin:1,unLoginTime:30,uniteLogin:{isItl:0,placeholders:{mob:"\u624b\u673a\u53f7",sms:"\u9a8c\u8bc1\u7801"},loginTxt:"\u767b  \u5f55",noClauseForce:1,uniteLoginTermsList:[{name:"\u300a\u670d\u52a1\u6761\u6b3e\u300b",url:"https://wp.m.163.com/163/page/word/newsapp/term_of_service.html"},{name:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://wp.m.163.com/163/page/word/wotab_setting/privacy.html"}],needUnLogin:1,unLoginDefautl:1,unLoginTime:30},goEmailLoginTxt:"\u90ae\u7bb1\u8d26\u53f7\u767b\u5f55",goMbLoginTxt:"\u624b\u673a\u53f7\u767b\u5f55",placeholder:{account:"\u90ae\u7bb1",pwd:"\u5bc6\u7801"},style:Fc+(t?".m-header{display: none;}":""),mailloginclause:{list:[{txt:"\u300a\u670d\u52a1\u6761\u6b3e\u300b",url:"https://wp.m.163.com/163/page/word/newsapp/term_of_service.html"},{txt:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://wp.m.163.com/163/page/word/wotab_setting/privacy.html"}],clauseErr:"\u60a8\u9700\u8981\u540c\u610f\u76f8\u5173\u6761\u6b3e\u624d\u80fd\u4f7f\u7528"}})})),n.inited=!0})),(0,d.Z)(this,"show",(function(){var t,e,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(n.inited||n.init(o),null===(t=n.dialogNode)||void 0===t||t.classList.add("login-dialog-show"),o)&&(null===(r=n.dialogNode)||void 0===r||r.classList.add("login-dialog-forceLogin"));var a=null===(e=n.dialogNode)||void 0===e?void 0:e.querySelector(".js-login-title");a&&(a.innerHTML=i),document.body.style.overflow="hidden",(0,y.j)({val_act:"article_login_dialog",val_nm:y.QJ.exposure})})),(0,d.Z)(this,"hide",(function(){var t,e;null===(t=n.dialogNode)||void 0===t||t.classList.remove("login-dialog-show"),null===(e=n.dialogNode)||void 0===e||e.classList.remove("login-dialog-forceLogin"),document.body.style.overflow="auto",(0,y.j)({val_act:"article_login_dialog_close",val_nm:y.QJ.click})})),(0,d.Z)(this,"destory",(function(){n.dialogNode&&(document.body.removeChild(n.dialogNode),n.dialogNode=void 0),document.body.style.overflow="auto",n.inited=!1})),this.options=e})),jc=function(t){return new Uc(t)};function $c(){$c=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(Yu){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(Yu){return{type:"throw",arg:Yu}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var Gc=function(){function e(){(0,l.Z)(this,e),(0,d.Z)(this,"status",h.L.INITIAL),(0,d.Z)(this,"code",0),(0,d.Z)(this,"msg",""),(0,d.Z)(this,"data",null),(0,t.ky)(this)}return(0,s.Z)(e,[{key:"request",value:function(){var e=(0,u.Z)($c().mark((function e(n,r){var i,o=this;return $c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.status!==h.L.PENDING){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ce(n,r);case 5:i=e.sent,(0,t.z)((function(){0===i.code?(o.data=i.data,o.status=h.L.OK):o.status=h.L.ERROR})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),(0,t.z)((function(){o.status=h.L.ERROR}));case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Hc=n(27204),Kc=n(24818),Vc=n.n(Kc),zc=function(e){var n;try{var r=window.localStorage.getItem("NEWAP_payWap_order");r&&(n=JSON.parse(r))}catch(g){}var i=n||{},o=i.orderNo,a=void 0===o?"":o,s=i.docId,l=void 0===s?"":s,c=i.noLogin,u=void 0!==c&&c;if(l===e.docId){var d=e.loginDialog,f=e.login,p=new Gc;p.request("contentPayWap",a),(0,t.gx)((function(){return p.status===h.L.OK}),(function(){var e;2===(null===(e=p.data)||void 0===e?void 0:e.status)&&(u?function(t){var e,n,r=(0,Ve.a)(Vc()(t));document.body.appendChild(r),null===(e=r.querySelector(".js-dialog-confirm-cancel"))||void 0===e||e.addEventListener("click",(function(){document.body.removeChild(r),t.onCancel()})),null===(n=r.querySelector(".js-dialog-confirm-ok"))||void 0===n||n.addEventListener("click",(function(){document.body.removeChild(r),t.onOk()}))}({title:"\u8d2d\u4e70\u6210\u529f\uff01",subTitle:"\u767b\u5f55\u540e\u4fdd\u5b58\u81f3\u8d2d\u4e70\u5217\u8868",button1Text:"\u53bb\u767b\u5f55",button2Text:"\u7ee7\u7eed\u9605\u8bfb",onOk:function(){},onCancel:function(){d.show(),(0,t.gx)((function(){return f.isLogin}),(function(){(0,y.j)({val_act:"article_purchased_sync",val_nm:y.QJ.other}),(0,Hc.w)({title:"\u767b\u5f55\u6210\u529f",subTitle:"\u8d2d\u4e70\u5185\u5bb9\u53ef\u5728\u300c\u9996\u9875-\u6211-\u6211\u7684\u5df2\u8d2d\u300d\u67e5\u770b",buttonText:"\u786e\u5b9a"})}))}}):(0,Hc.w)({title:"\u8d2d\u4e70\u6210\u529f",subTitle:"\u8d2d\u4e70\u5185\u5bb9\u53ef\u5728\u300c\u9996\u9875-\u6211-\u6211\u7684\u5df2\u8d2d\u300d\u67e5\u770b",buttonText:"\u786e\u5b9a"}),(0,y.j)({val_act:"article_order_success",val_nm:y.QJ.other,info:{category:"doc"}}));try{window.localStorage.removeItem("NEWAP_payWap_order")}catch(g){}}))}},Zc=function(e){zc(e),function(e){var n;try{var r=window.localStorage.getItem("NEWAP_payVip_order");r&&(n=JSON.parse(r))}catch(u){}var i=n||{},o=i.orderNo,a=void 0===o?"":o,s=i.noLogin,l=void 0!==s&&s;if(a){var c=new Gc;c.request("wapVipV2",a),(0,t.gx)((function(){return c.status===h.L.OK}),(function(){var n,r=e.loginDialog,i=e.login,o=function(){try{window.localStorage.removeItem("NEWAP_payVip_order")}catch(u){}};if(2===(null===(n=c.data)||void 0===n?void 0:n.status)){if(l)(0,t.gx)((function(){return i.loginStatus!==fe.INITIAL}),(function(){i.isLogin?o():(r.show("<strong>\u652f\u4ed8\u6210\u529f\uff01</strong><br />\u5185\u5bb9\u5df2\u89e3\u9501\uff0c\u9700\u7ed1\u5b9a\u624b\u673a\u7ee7\u7eed\u6d4f\u89c8",!0),(0,t.gx)((function(){return i.isLogin}),(function(){window.location.reload()})))}));else{var a=c.data.toastInfo||{},s=a.title,d=void 0===s?"\u5f00\u901a\u6210\u529f":s,h=a.subTitle,f=void 0===h?"\u611f\u8c22\u60a8\u7684\u652f\u6301\uff01":h;(0,Hc.w)({title:d,subTitle:f,buttonText:"\u6211\u77e5\u9053\u4e86"}),o()}(0,y.j)({val_act:"article_order_success",val_nm:y.QJ.other,info:{category:"vip"}})}else o()}))}}(e),function(e){var n;try{var r=window.localStorage.getItem("NEWAP_payCollect_order");r&&(n=JSON.parse(r))}catch(u){}var i=n||{},o=i.orderNo,a=void 0===o?"":o,s=i.noLogin,l=void 0!==s&&s;if(a){var c=new Gc;c.request("contentPayWap",a),(0,t.gx)((function(){return c.status===h.L.OK}),(function(){var n,r=e.loginDialog,i=e.login,o=function(){try{window.localStorage.removeItem("NEWAP_payCollect_order")}catch(u){}};if(2===(null===(n=c.data)||void 0===n?void 0:n.status)){if(l)(0,t.gx)((function(){return i.loginStatus!==fe.INITIAL}),(function(){if(i.isLogin){var e;o();var n=(null===(e=c.data)||void 0===e?void 0:e.toastInfo)||{},a=n.title,s=void 0===a?"\u8d2d\u4e70\u6210\u529f":a,l=n.subTitle,u=void 0===l?"\u8d2d\u4e70\u5185\u5bb9\u53ef\u5728\u300c\u9996\u9875-\u6211-\u6211\u7684\u5df2\u8d2d\u300d\u67e5\u770b":l;(0,Hc.w)({title:s,subTitle:u,buttonText:"\u6211\u77e5\u9053\u4e86"})}else r.show("<strong>\u652f\u4ed8\u6210\u529f\uff01</strong><br />\u5185\u5bb9\u5df2\u89e3\u9501\uff0c\u9700\u7ed1\u5b9a\u624b\u673a\u7ee7\u7eed\u6d4f\u89c8",!0),(0,t.gx)((function(){return i.isLogin}),(function(){window.location.reload()}))}));else{var a=c.data.toastInfo||{},s=a.title,d=void 0===s?"\u8d2d\u4e70\u6210\u529f":s,h=a.subTitle,f=void 0===h?"\u8d2d\u4e70\u5185\u5bb9\u53ef\u5728\u300c\u9996\u9875-\u6211-\u6211\u7684\u5df2\u8d2d\u300d\u67e5\u770b":h;(0,Hc.w)({title:d,subTitle:f,buttonText:"\u6211\u77e5\u9053\u4e86"}),o()}(0,y.j)({val_act:"article_order_success",val_nm:y.QJ.other,info:{category:"paidCollect"}})}else o()}))}}(e)},qc=n(90980),Wc=n.n(qc),Yc=n(65512),Xc=n.n(Yc),Qc=n(22508),Jc=n.n(Qc),tu=n.p+"static/media/enter.b46ac2edc9da3fed7003.png";function eu(){eu=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(Yu){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(Yu){return{type:"throw",arg:Yu}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var nu=(0,s.Z)((function e(n){var i=this;(0,l.Z)(this,e),(0,d.Z)(this,"inited",!1),(0,d.Z)(this,"init",(function(){var t=i.options,e=t.login,n=t.simpleUserInfo;if(e.isLogin){if(i.containerNode){var r=n.data||{},o=r.photoUrl,a=void 0===o?"":o,s=r.nickName,l=r.vipCloseDate;i.containerNode.innerHTML=Xc()({avatar:a,nickName:s,isVip:n.isVip,vipCloseDate:n.isVip?l:"",isSubscription:n.isSubscription,mailUrl:n.mailUrl})}}else i.containerNode&&(i.containerNode.innerHTML=Jc()()),new Promise((function(t){window.URS?t():(0,Mc.Z)("https://urswebzj.nosdn.127.net/webzj_cdn101/message.js").then((function(){t()}))})).then((function(){new window.URS({newCDN:1,version:4,productKey:"02a763dce16c9ace1e2b7e40002b7ff5",product:"3g_163",promark:"nHgaxeT",host:"m.163.com",includeBox:"js-login-drawer-module",page:"login",single:0,regUrlForce:"https://zc.reg.163.com/m/regInitialized?pd=3g_163&pkid=oRHsLCv&pkht=m.163.com&curl=".concat(encodeURIComponent(window.location.href)),logincb:function(){var t=(0,u.Z)(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,y.j)({val_act:"article_drawer_login_success",val_nm:y.QJ.other}),t.prev=1,t.next=4,i.options.simpleUserInfo.request(!0);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),regcb:function(){var t=(0,u.Z)(eu().mark((function t(){return eu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,y.j)({val_act:"article_drawer_register_success",val_nm:y.QJ.other}),t.prev=1,t.next=4,i.options.simpleUserInfo.request(!0);case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),initReady:function(){},cookieDomain:"163.com",needMobileLogin:1,smsLoginFirst:1,mobileFirst:1,needUnLogin:1,defaultUnLogin:1,unLoginTime:30,uniteLogin:{isItl:0,placeholders:{mob:"\u624b\u673a\u53f7",sms:"\u9a8c\u8bc1\u7801"},loginTxt:"\u767b  \u5f55",noClauseForce:1,uniteLoginTermsList:[{name:"\u300a\u670d\u52a1\u6761\u6b3e\u300b",url:"https://wp.m.163.com/163/page/word/newsapp/term_of_service.html"},{name:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://wp.m.163.com/163/page/word/wotab_setting/privacy.html"}],needUnLogin:1,unLoginDefautl:1,unLoginTime:30},goEmailLoginTxt:"\u90ae\u7bb1\u8d26\u53f7\u767b\u5f55",goMbLoginTxt:"\u624b\u673a\u53f7\u767b\u5f55",placeholder:{account:"\u90ae\u7bb1",pwd:"\u5bc6\u7801"},style:Fc,mailloginclause:{list:[{txt:"\u300a\u670d\u52a1\u6761\u6b3e\u300b",url:"https://wp.m.163.com/163/page/word/newsapp/term_of_service.html"},{txt:"\u300a\u9690\u79c1\u653f\u7b56\u300b",url:"https://wp.m.163.com/163/page/word/wotab_setting/privacy.html"}],clauseErr:"\u60a8\u9700\u8981\u540c\u610f\u76f8\u5173\u6761\u6b3e\u624d\u80fd\u4f7f\u7528"}})}));i.inited=!0})),(0,d.Z)(this,"show",(function(){i.inited||i.init(),i.drawerNode.classList.add("login-drawer-show"),document.body.style.overflow="hidden",(0,y.j)({val_act:"article_login_drawer",val_nm:y.QJ.exposure})})),(0,d.Z)(this,"hide",(function(t,e){t.target===e&&(i.drawerNode.classList.remove("login-drawer-show"),document.body.style.overflow="auto")})),(0,d.Z)(this,"logout",(function(){i.options.login.logout()})),this.options=n;var o=n.login,a=n.simpleUserInfo,s=n.docId;a.request(),(0,t.U5)((function(){return o.loginStatus}),(function(){i.inited&&(i.inited=!1,i.init())}));var c="".concat(f.ar,"?docId=").concat(s,"&title=").concat(encodeURIComponent(document.title),"&sourceUrl=").concat(encodeURIComponent(window.location.href));this.drawerNode=(0,Ve.a)(Wc()({isLogin:o.isLogin,feedbackUrl:c,distributionUrl:"".concat(window.location.protocol,"//").concat(window.location.host,"/html/f2e/wap3g-paid-distributer/index.html"),distributionImage:tu})),this.containerNode=this.drawerNode.querySelector(".js-login-drawer"),document.body.appendChild(this.drawerNode),(0,r.c)({type:"click",selector:".js-login-drawer-wrap",callback:this.hide}),(0,r.c)({type:"click",selector:".js-login-out",callback:this.logout})})),ru=n(91746),iu=n.n(ru),ou=n(89141),au=n.n(ou),su=n(64760),lu=n.n(su),cu=n(31594),uu=n(30745),du=n.p+"static/media/vip-banner.9845bb11a4482f5e569b.png",hu=n(51772);function fu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fu(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gu(){gu=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(Yu){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(Yu){return{type:"throw",arg:Yu}}}t.wrap=l;var d={};function h(){}function f(){}function p(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==e&&n.call(v,i)&&(g=v);var y=p.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function r(i,o,a,s){var l=u(t[i],t,o);if("throw"!==l.type){var d=l.arg,h=d.value;return h&&"object"==(0,c.Z)(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){d.value=t,a(d)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,d;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=p,s(y,"constructor",p),s(p,"constructor",f),f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,o,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,i,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},t}var mu=function(){function e(n){var i=this;(0,l.Z)(this,e),(0,d.Z)(this,"pageCount",-1),(0,d.Z)(this,"initAbTest",(function(){var t=i.options,e=t.aliasDocId;t.distributorManager.getDistributorId(e)?i.initPayArea(1):"v"===(0,Ut.Z)().ab?i.initPayArea(2):(0,y.zY)(["0","1","2","3"]).then((function(t){t?i.initPayArea(1):i.initPayArea(2)}))})),(0,d.Z)(this,"initRecommend",(function(){var t=i.options.referType,e=i.options.articleDetial.data||{},n=e.articleDocVulgar,r=e.payInfo,o=e.personMarkVulgar,a=(r||{}).purchaseType,s=void 0===a?0:a;2!==s&&3!==s&&4!==s||(1===n||2===n||1===o||2===o||"extend"===t?i.initRankRecommend():i.initVipRecommend(),(0,uu.Z)({selector:".js-payVip-more",callback:function(t){return{url:t.href,trackData:{val_act:"article_payVip_more",val_nm:y.QJ.click}}}}))})),(0,d.Z)(this,"initPayArea",function(){var t=(0,u.Z)(gu().mark((function t(e){var n,o,a,s,l,c,u,d,h,p,g,m,v,b,w,E,_,T,x,S,L,k,A,O,R,C,I,D,N,P,M,F,B,U,j,$;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=i.options,s=a.articleDetial,l=a.docId,c=a.vipGoods,u=document.querySelector(".js-pay-wrap"),s.data&&s.data.payInfo&&u){t.next=4;break}return t.abrupt("return");case 4:d=s.data,h=d.payInfo,p=d.paidCollect,g=d.personMarkVulgar,m=h.price,v=h.purchaseType,w=(b=p||{}).buyCount,E=void 0===w?0:w,_=b.name,T=void 0===_?"":_,x=b.price,S=void 0===x?0:x,L=b.oneShotPrice,k=void 0===L?0:L,null===(n=document.querySelector(".js-main"))||void 0===n||n.classList.add("main-paid"),A="",O="",R="",C="",I="",D="",N="",P=m/100,M=S/100,F=k/100,B=h.buyCount,5===v?B+=E:6===v&&(B=E),U="https://wp.m.163.com/163/page/word/newsapp/paid_content/m_purchase_notes.html",j="https://wp.m.163.com/163/page/word/wotab_setting/privacy.html?__sf=d",$="".concat(f.ar,"?docId=").concat(l,"&title=").concat(encodeURIComponent(document.title),"&sourceUrl=").concat(encodeURIComponent(window.location.href)),t.t0=v,t.next=1===t.t0?26:2===t.t0?27:3===t.t0?30:4===t.t0?35:5===t.t0?43:6===t.t0?48:7===t.t0?53:59;break;case 26:return t.abrupt("break",59);case 27:return R="\u4ed8\u8d39\u89e3\u9501\u5168\u7bc7 ".concat(B>=10&&0===g?"\uff0c".concat(B,"\u4eba\u5df2\u4ed8\u8d39"):""),C=m?"\xa5".concat(P," \u8d2d\u4e70\u672c\u7bc7"):"\u9650\u65f60\u5143\u89e3\u9501",t.abrupt("break",59);case 30:return t.next=32,c.request();case 32:return R="\u4ed8\u8d39\u89e3\u9501\u5168\u7bc7 ".concat(B>=10&&0===g?"\uff0c".concat(B,"\u4eba\u5df2\u4ed8\u8d39"):""),1===e?C=m?"\xa5".concat(P," \u8d2d\u4e70\u672c\u7bc7"):"\u9650\u65f60\u5143\u89e3\u9501":2===e?(A="article-pay-vip",I="\xa5".concat(c.minDayPrice,"/\u5929 \u5f00\u901a\u4f1a\u5458\u7ee7\u7eed\u9605\u8bfb"),i.initVipBanner(),i.isVipInHistory()?N="\u5f53\u524d\u672a\u767b\u5f55\uff0c\u82e5\u5df2\u5f00\u901a\u8bf7\u5148\u767b\u5f55":c.hasCoupon&&(I+='<span class="s-bubble">\u9650\u65f6\u4f18\u60e0\u4e2d</span>')):(A="article-pay-vip",C=m?"\xa5".concat(P," \u8d2d\u4e70\u672c\u7bc7"):"\u9650\u65f60\u5143\u89e3\u9501",I="\xa5".concat(c.minDayPrice,"/\u5929 \u5f00\u901a\u4f1a\u5458\u7ee7\u7eed\u9605\u8bfb"),i.initVipBanner(),i.isVipInHistory()?N="\u5f53\u524d\u672a\u767b\u5f55\uff0c\u82e5\u5df2\u5f00\u901a\u8bf7\u5148\u767b\u5f55":c.hasCoupon&&(I+='<span class="s-bubble">\u9650\u65f6\u4f18\u60e0\u4e2d</span>')),t.abrupt("break",59);case 35:return i.initVipBanner(),t.next=38,c.request();case 38:return A="article-pay-vip",R="\u4ed8\u8d39\u89e3\u9501\u5168\u7bc7 ".concat(B>=10&&0===g?"\uff0c".concat(B,"\u4eba\u5df2\u4ed8\u8d39"):""),I="\xa5".concat(c.minDayPrice,"/\u5929 \u5f00\u901a\u4f1a\u5458\u7ee7\u7eed\u9605\u8bfb"),i.isVipInHistory()?N="\u5f53\u524d\u672a\u767b\u5f55\uff0c\u82e5\u5df2\u5f00\u901a\u8bf7\u5148\u767b\u5f55":c.hasCoupon&&(I+='<span class="s-bubble">\u9650\u65f6\u4f18\u60e0\u4e2d</span>'),t.abrupt("break",59);case 43:return O=T,R="\u4ed8\u8d39\u89e3\u9501\u5168\u7bc7 ".concat(B>=10&&0===g?"\uff0c".concat(B,"\u4eba\u5df2\u4ed8\u8d39"):""),m&&(C="\xa5".concat(P," \u8d2d\u4e70\u672c\u7bc7")),p&&(A="article-pay-collect",D="".concat(S?"\xa5".concat(M," "):" "," \u8d2d\u4e70\u4e13\u680f ").concat(k?'<span class="s-small">\u6bcf\u7bc7\u7ea6\xa5'.concat(F,"</span>"):"")),t.abrupt("break",59);case 48:return A="article-pay-collect",O=T,R="\u4ed8\u8d39\u89e3\u9501\u4e13\u680f ".concat(B&&0===g?"\uff0c".concat(B,"\u4eba\u5df2\u4ed8\u8d39"):""),D="".concat(S?"\xa5".concat(M," "):" "," \u8d2d\u4e70\u4e13\u680f ").concat(k?'<span class="s-small">\u6bcf\u7bc7\u7ea6\xa5'.concat(F,"</span>"):""),t.abrupt("break",59);case 53:return A="article-pay-collect",O=T,R="",D="".concat(S?"\xa5".concat(M," "):" "," \u8d2d\u4e70\u4e13\u680f ").concat(k?'<span class="s-small">\u6bcf\u7bc7\u7ea6\xa5'.concat(F,"</span>"):""),null===(o=document.querySelector(".js-main"))||void 0===o||o.classList.remove("main-paid"),t.abrupt("break",59);case 59:u.innerHTML=iu()({rootClz:A,collectName:O,buyCountText:R,buyText:C,buyVipText:I,buyCollectText:D,payNoticeUrl:U,payPrivacyUrl:j,docId:l,feedbackUrl:$,vipBubble:N}),(0,r.c)({type:"click",selector:".js-payWap-buy",callback:function(){(0,y.j)({val_act:"article_payWap_buy",val_nm:y.QJ.click,info:i.getInfo()}),i.orderCreate()}}),(0,r.c)({type:"click",selector:".js-payWap-buyCollect",callback:function(){(0,y.j)({val_act:"article_payWap_buyCollect",val_nm:y.QJ.click,info:i.getInfo()}),i.orderCollectCreate()}}),(0,r.c)({type:"click",selector:".js-payWap-buyVip",callback:function(){(0,y.j)({val_act:"article_payWap_buyVip",val_nm:y.QJ.click,info:i.getInfo()}),i.orderVipCreate()}}),(0,Rc.f)({callback:function(){return{trackData:{val_act:"article_payWap_buy",val_nm:y.QJ.exposure,info:i.getInfo()}}}}).observe(".js-payWap-buy"),(0,Rc.f)({callback:function(){return{trackData:{val_act:"article_payWap_buyCollect",val_nm:y.QJ.exposure,info:i.getInfo()}}}}).observe(".js-payWap-buyCollect"),(0,Rc.f)({callback:function(){return{trackData:{val_act:"article_payWap_buyVip",val_nm:y.QJ.exposure,info:i.getInfo()}}}}).observe(".js-payWap-buyVip");case 66:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,d.Z)(this,"initPayCollect",(function(){var t=i.options.articleDetial,e=document.querySelector(".js-pay-recommend-wrap");if(t.data&&t.data.payInfo&&t.data.paidCollect&&e){var n=t.data.paidCollect,r=n.id,o=n.cover,s=n.name,l=n.serialsStatus,c=n.curCount,u=n.buyCount,d=n.recommendList,h=void 0===d?[]:d;h.forEach((function(t,e){Object.assign(t,{position:e+1,link:"/dy/article/".concat(t.skipID,".html?spss=163_paid_collectRecommend")})})),e.innerHTML=au()({collectId:r,cover:o,collectName:s,link:"/dy/paidCollect/".concat(r,".html?spss=163_paid_collectRecommend"),collectText:"".concat(1===l?"\u5df2\u66f4\u65b0":"\u5171").concat(c||0,"\u7bc7").concat(u>10?" ".concat(u,"\u4eba\u5df2\u8d2d"):""),recommendList:h}),(0,Ze.t)(),(0,a.X)(),(0,hu.y)("js-pay-recommend-wrap")}})),(0,d.Z)(this,"initVipRecommend",(function(){var e=i.options,n=e.articleDetial,r=e.vipRecommend,o=e.docId;if(!e.hideAd){var s=document.querySelector(".js-pay-recommend-wrap");n.data&&n.data.payInfo&&s&&(r.request(10),(0,t.gx)((function(){return r.status===h.L.OK}),(function(){for(var t=[],e=[],n=1,i=0;i<r.data.list.length;i++){var l=r.data.list[i],c=l.imgsrc,u=l.docid,d=l.title,h=l.paidInfo,f=h.price,p=h.buyCount;if(c&&u!==o){var g="";if(f&&(g+='<span class="s-price">\xa5'.concat(f/100,"</span>")),p>=10&&(g+="".concat(p,"\u4eba\u5df2\u8d2d")),e.push({link:"/dy/article/".concat(u,".html?spss=163_paid_vipRecommend"),cover:c,name:d,desc:g,position:n,docId:u,act:"article_payVip_recommend"}),n++,e.length>=3&&(t.push(e),e=[]),t.length>=5)break}}s.innerHTML=lu()({title:"VIP\u7cbe\u9009",more:"/touch/story/sub/vip?from=payVipRecommend",list:t}),new Qe.tq(".js-payVip-swiper",{modules:[Qe.tl],pagination:{el:".swiper-pagination",type:"bullets"}}),(0,uu.Z)({selector:".js-payVip-recommend",callback:function(t){var e=t.href,n=t.dataset||{},r=n.act,i=void 0===r?"":r,a=n.position,s=void 0===a?"":a,l=n.itemid,c=void 0===l?"":l;return{url:e,trackData:{val_act:i,val_nm:y.QJ.click,info:{position:s,itemid:c,modelid:o}}}}}),(0,Rc.f)({callback:function(t){var e=t.dataset||{},n=e.act,r=void 0===n?"":n,i=e.position,a=void 0===i?"":i,s=e.itemid,l=void 0===s?"":s;return{trackData:{val_act:r,val_nm:y.QJ.exposure,info:{position:a,itemid:l,modelid:o}}}}}).observe(".js-payVip-recommend"),(0,Ze.t)(),(0,a.X)(),(0,hu.y)("js-pay-recommend-wrap")})))}})),(0,d.Z)(this,"initRankRecommend",(function(){var e=i.options,n=e.articleDetial,r=e.rankRecommend,o=e.docId;if(!e.hideAd){var s=document.querySelector(".js-pay-recommend-wrap");n.data&&n.data.payInfo&&s&&(r.request(),(0,t.gx)((function(){return r.status===h.L.OK}),(function(){for(var t=[],e=[],n=1,i=(0,J.T)(r.data.list),l=0;l<i.length;l++){var c=i[l],u=c.imgsrc,d=c.docid,h=c.title,f=c.paidInfo,p=c.skipType,g=f.price,m=f.buyCount;if(u&&d!==o){var v="";g&&(v+='<span class="s-price">\xa5'.concat(g/100,"</span>")),m>=10&&(v+="".concat(m,"\u4eba\u5df2\u8d2d"));var b="";if("paidCollect"===p?b="/dy/paidCollect/".concat(d,".html?spss=163_paid_rankRecommend"):"doc"===p&&(b="/dy/article/".concat(d,".html?spss=163_paid_rankRecommend")),e.push({link:b,cover:u,name:h,desc:v,position:n,docId:d,act:"article_payRank_recommend"}),n++,e.length>=3&&(t.push(e),e=[]),t.length>=5)break}}s.innerHTML=lu()({title:"\u70ed\u9500\u699c\u5355",more:"/touch/story/sub/rank?from=payRankRecommend",list:t}),new Qe.tq(".js-payVip-swiper",{modules:[Qe.tl],pagination:{el:".swiper-pagination",type:"bullets"}}),(0,uu.Z)({selector:".js-payVip-recommend",callback:function(t){var e=t.href,n=t.dataset||{},r=n.act,i=void 0===r?"":r,a=n.position,s=void 0===a?"":a,l=n.itemid,c=void 0===l?"":l;return{url:e,trackData:{val_act:i,val_nm:y.QJ.click,info:{position:s,itemid:c,modelid:o}}}}}),(0,Rc.f)({callback:function(t){var e=t.dataset||{},n=e.act,r=void 0===n?"":n,i=e.position,a=void 0===i?"":i,s=e.itemid,l=void 0===s?"":s;return{trackData:{val_act:r,val_nm:y.QJ.exposure,info:{position:a,itemid:l,modelid:o}}}}}).observe(".js-payVip-recommend"),(0,Ze.t)(),(0,a.X)(),(0,hu.y)("js-pay-recommend-wrap")})))}})),(0,d.Z)(this,"orderCreate",(function(){var e=i.options,n=e.order,r=e.loginDialog,o=e.login,a=e.docId,s=e.articleDetial,l=e.aliasDocId,c=e.spss,u=void 0===c?"":c,d=e.referId,p=void 0===d?"":d,g=e.referType,m=void 0===g?"":g,v=e.distributorManager;if(!s.isFreeUnlock||o.isLogin){if(n.status!==h.L.PENDING){i.loginDisposer&&i.loginDisposer();var b=v.getDistributorId(l);n.request("contentPayWap",{contentId:l,contentType:"doc",distributorId:b,referId:p,referType:m},u),(0,t.gx)((function(){return n.status===h.L.OK||n.status===h.L.ERROR}),(function(){if(n.status===h.L.OK&&n.data){var e=n.data,l=e.orderNo,c=e.freeUnlock,u=e.noLogin;if(c)return void window.location.reload();try{window.localStorage.setItem("NEWAP_payWap_order",JSON.stringify({docId:a,orderNo:l,noLogin:u,url:i.getBackUrl()}))}catch(m){}var d=new Ac.Z;d.setSearch({t:Date.now()});var p=(0,y.NG)(),g=encodeURIComponent(d.href());u&&(g=encodeURIComponent("".concat(f.Tt,"?data=").concat(ae("contentPayWap,doc,".concat(p,",").concat(l,",").concat(a),!0)))),window.location.href="".concat(f.uq,"?businessType=contentPayWap&theme=light&orderNo=").concat(l,"&successUrl=").concat(g,"&noncestr=").concat(p.substring(p.length-8))}else 1010003===n.code||1010317===n.code?(o.loginFail(),r.show(),i.loginDisposer=(0,t.gx)((function(){return o.isLogin}),(function(){s.request(a),(0,t.gx)((function(){return s.status===h.L.OK||s.status===h.L.ERROR}),(function(){s.isPurchased||i.orderCreate()}))}))):1010309===n.code?window.location.reload():((0,cu.u)(n.msg||"\u8bf7\u6c42\u5931\u8d25"),(0,y.j)({val_act:"article_payWap_orderCreate_error",val_nm:y.QJ.other,info:{msg:n.code+"|"+(n.msg||"\u8bf7\u6c42\u5931\u8d25")}}))}))}}else r.show()})),(0,d.Z)(this,"orderCollectCreate",(function(){var e=i.options,n=e.order,r=e.loginDialog,o=e.login,a=e.docId,s=e.aliasDocId,l=e.articleDetial,c=e.spss,u=void 0===c?"":c,d=e.distributorManager,p=e.referId,g=void 0===p?"":p,m=e.referType,v=void 0===m?"":m;if(n.status!==h.L.PENDING&&l.data&&l.data.paidCollect){if(i.loginDisposer&&i.loginDisposer(),!o.isLogin)return r.show(),void(i.loginDisposer=(0,t.gx)((function(){return o.isLogin}),(function(){l.request(a),(0,t.gx)((function(){return l.status===h.L.OK||l.status===h.L.ERROR}),(function(){l.isPurchased||i.orderCollectCreate()}))})));var b=l.data.paidCollect.id,w=d.getDistributorId(s);w||(w=d.getDistributorId(b)),n.request("contentPayWap",{contentId:b,contentType:"paidCollect",distributorId:w,referId:g,referType:v},u),(0,t.gx)((function(){return n.status===h.L.OK||n.status===h.L.ERROR}),(function(){if(n.status===h.L.OK&&n.data){var e=n.data,s=e.orderNo,c=e.noLogin;try{window.localStorage.setItem("NEWAP_payCollect_order",JSON.stringify({docId:a,orderNo:s,noLogin:c,url:i.getBackUrl()}))}catch(g){}var u=new Ac.Z;u.setSearch({t:Date.now()});var d=(0,y.NG)(),p=encodeURIComponent(u.href());c&&(p=encodeURIComponent("".concat(f.Tt,"?data=").concat(ae("contentPayWap,doc,".concat(d,",").concat(s,",").concat(a),!0)))),window.location.href="".concat(f.uq,"?businessType=contentPayWap&theme=light&orderNo=").concat(s,"&successUrl=").concat(p,"&noncestr=").concat(d.substring(d.length-8))}else 1010003===n.code||1010317===n.code?(o.loginFail(),r.show(),i.loginDisposer=(0,t.gx)((function(){return o.isLogin}),(function(){l.request(a),(0,t.gx)((function(){return l.status===h.L.OK||l.status===h.L.ERROR}),(function(){l.isPurchased||i.orderCollectCreate()}))}))):1010309===n.code?window.location.reload():((0,cu.u)(n.msg||"\u8bf7\u6c42\u5931\u8d25"),(0,y.j)({val_act:"article_payWap_orderCreate_error",val_nm:y.QJ.other,info:{msg:n.code+"|"+(n.msg||"\u8bf7\u6c42\u5931\u8d25")}}))}))}})),(0,d.Z)(this,"orderVipCreate",(function(){var t=i.options,e=t.aliasDocId,n=t.spss,r=t.distributorManager,o=t.referId,a=void 0===o?"":o,s=t.referType,l=void 0===s?"":s,c=(0,Ut.Z)(),u=c.spss,d=void 0===u?"":u,h=c.search_channel_id,p=void 0===h?"":h,g=r.getDistributorId(e),m=encodeURIComponent(window.location.href);window.location.href="".concat(f.Mr,"?spss=").concat(n||d,"&search_channel_id=").concat(p,"&docId=").concat(e,"&did=").concat(g,"&successUrl=").concat(m,"&referType=").concat(l,"&referId=").concat(a)})),(0,d.Z)(this,"computePageCount",(function(){var t=document.documentElement.clientHeight,e=document.querySelector(".js-article-body");if(e){var n=e.offsetHeight;i.pageCount=Math.ceil(n/t)}-1===(document.referrer||"").indexOf("/html/frontend/today-news-hotrank/index.html")&&(0,y.j)({val_act:"article_payWap_pageview",val_nm:y.QJ.exposure,info:i.getInfo()}),(0,y.j)({val_act:"article_paid_pageview",val_nm:y.QJ.other,info:i.getInfo()}),(0,y.j)({val_act:"paid_pageview",val_nm:"paid_pageview",info:i.getInfo()})})),(0,d.Z)(this,"getInfo",(function(){var t,e=i.options.articleDetial.data||{},n=e.articleDocVulgar,r=e.personMarkVulgar,o=(null===(t=i.options.articleDetial.data)||void 0===t?void 0:t.payInfo)||{},a=o.purchaseType,s=void 0===a?0:a,l=o.payStatus,c=void 0===l?0:l,u=document.documentElement.dataset.extend_type||"",d=document.documentElement.dataset.extend_id||"";return{page_count:i.pageCount,msg:s,category:n,position:r,location:c,extend_type:u,extend_id:d,custom_read_percent:i.options.simpleUserInfo.isVip?1:0}})),(0,d.Z)(this,"isVipInHistory",(function(){if(!i.options.login.isLogin)return!1;var t=!1;try{var e=window.localStorage.getItem("NEWAP_history_info");e&&(t=(JSON.parse(e)||{}).isVip||!1)}catch(n){}return t})),this.options=n;var o=this.options,s=o.login,c=o.articleDetial,p=o.docId,g=o.distributorManager,m=o.aliasDocId,v=o.referType;if(g.save(m),(0,t.U5)((function(){return s.loginStatus}),(function(e,n){n===fe.INITIAL?i.init():e!==fe.LOGINED||c.status!==h.L.OK||c.isPurchased||(c.request(p),(0,t.gx)((function(){return c.status===h.L.OK||c.status===h.L.ERROR}),(function(){c.isPurchased&&window.location.reload()})))})),!v){var b=((document.referrer||"").match(/^http.+\.163.com\/\w+\/article[\w-]*\/(\w+)\.html/)||[])[1]||"";b&&(this.options.referType="referrer",this.options.referId=b)}}return(0,s.Z)(e,[{key:"init",value:function(){var e=this,n=this.options,r=n.articleDetial,i=n.docId,o=n.simpleUserInfo;r.request(i),(0,t.gx)((function(){return r.status===h.L.OK||r.status===h.L.ERROR}),(function(){if(r.status===h.L.OK&&r.data){if(r.isPurchased){var n=document.querySelector(".js-article-body"),i=r.parser;n?(n.innerHTML=i.body,Dc({articlePhotoList:i.photoList,articlePhotoSetList:i.photoSetList,articleLiveList:i.liveList,articleVideoList:i.videoList,isPaid:!0}),(0,Ze.t)(),(0,a.X)()):Dc(pu(pu({},e.options),{},{isPaid:!0}));var s=(r.data.payInfo||{}).purchaseType;3!==s&&4!==s||(0,t.gx)((function(){return o.isVip}),(function(){o.isVip&&e.initVipBanner()}))}else Dc(pu(pu({},e.options),{},{isPaid:!0})),e.initAbTest();e.initPayCollect(),e.initRecommend()}else Dc(pu(pu({},e.options),{},{isPaid:!0})),(0,y.j)({val_act:"article_detail_error",val_nm:y.QJ.other,info:{msg:r.msg}});e.computePageCount()}))}},{key:"initVipBanner",value:function(){var t=document.querySelector(".js-banner");t&&(t.innerHTML='<img class="banner-vipBanner" src="'.concat(du,'" />'))}},{key:"getBackUrl",value:function(){return window.location.href}}]),e}(),vu=(0,s.Z)((function e(n){var r=this;(0,l.Z)(this,e),(0,d.Z)(this,"moreLink","/touch/story?from=payRecommend"),(0,d.Z)(this,"initRecommend",(function(e){var n,i=r.options,o=i.vipRecommendForFree,a=i.category,s=((void 0===a?"":a)||"").split("/")[0];new RegExp("\u8d22\u7ecf").test(s)?(n="finance",r.moreLink="/touch/story/sub/money?from=payRecommend"):new RegExp("\u5386\u53f2").test(s)&&(n="history",r.moreLink="/touch/story/sub/history?from=payRecommend"),o.request(20,e?1:0,n),(0,t.gx)((function(){return o.status===h.L.OK}),(function(){r.render(o.data.list)}))})),(0,d.Z)(this,"render",(function(t){var e=document.querySelector(".js-recommend-vip");if(e){for(var n=r.options.docId,i=[],o=[],s=1,l=0;l<t.length;l++){var c=t[l],u=c.imgsrc,d=c.docid,h=c.title,f=c.paidInfo,p=c.skipType,g=c.skipID,m=f.price,v=f.buyCount;if(u){var b="";m&&(b+='<span class="s-price">\xa5'.concat(m/100,"</span>")),v>=10&&(b+="".concat(v,"\u4eba\u5df2\u8d2d"));var w=void 0;if(w="paidCollect"===p?"/dy/paidCollect/".concat(g,".html?spss=163_payRecommend"):"/dy/article/".concat(d,".html?spss=163_payRecommend"),o.push({link:w,cover:u,name:h,desc:b,position:s,docId:d,act:"article_payRecommend"}),s++,o.length>=3&&(i.push(o),o=[]),i.length>=1)break}}e.innerHTML=lu()({title:"\u4ed8\u8d39\u5185\u5bb9\u7cbe\u9009",more:r.moreLink,list:i}),new Qe.tq(".js-payVip-swiper",{}),(0,uu.Z)({selector:".js-payVip-recommend",callback:function(t){var e=t.href,r=t.dataset||{},i=r.act,o=void 0===i?"":i,a=r.position,s=void 0===a?"":a,l=r.itemid,c=void 0===l?"":l;return{url:e,trackData:{val_act:o,val_nm:y.QJ.click,info:{position:s,itemid:c,modelid:n}}}}}),(0,Rc.f)({callback:function(t){var e=t.dataset||{},r=e.act,i=void 0===r?"":r,o=e.position,a=void 0===o?"":o,s=e.itemid,l=void 0===s?"":s;return{trackData:{val_act:i,val_nm:y.QJ.exposure,info:{position:a,itemid:l,modelid:n}}}}}).observe(".js-payVip-recommend"),(0,uu.Z)({selector:".js-payVip-more",callback:function(t){return{url:t.href,trackData:{val_act:"article_payRecommend_more",val_nm:y.QJ.click}}}}),(0,Ze.t)(),(0,a.X)()}})),this.options=n;var i=this.options,o=i.hideAd,s=i.loc;o||s.isfirstTierCity().then(this.initRecommend)}));function yu(t,e){return yu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},yu(t,e)}function bu(t,e){if(e&&("object"===(0,c.Z)(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wu(t){return wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wu(t)}function Eu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Eu(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Tu(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wu(t);if(e){var i=wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bu(this,n)}}var xu,Su=function(e){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yu(t,e)}(r,e);var n=Tu(r);function r(t){return(0,l.Z)(this,r),n.call(this,t)}return(0,s.Z)(r,[{key:"init",value:function(){var e=this,n=this.options,r=n.articleDetial,i=n.docId,o=n.referType,s=n.referId,l=void 0===s?"":s;r.request(i),(0,t.gx)((function(){return r.status===h.L.OK||r.status===h.L.ERROR}),(function(){var t="extend_query"===o&&/[Q-Z]$/.test(l);if(r.status===h.L.OK&&r.data){var n=document.querySelector(".js-article-body"),s=r.data.title,c=r.parser;if(n&&!t){var u=document.createDocumentFragment();u.appendChild((0,Ve.a)("<br />")),u.appendChild((0,Ve.a)('<p class="expend-title js-extend-title"><strong>\u5ef6\u4f38\u9605\u8bfb\uff1a</strong></p>')),u.appendChild((0,Ve.a)('<a class="expend-title" href="/dy/article/'.concat(i,'.html?spss=163_extend_link">').concat(s,"</a>")));var d=document.createElement("div");d.innerHTML=c.body;for(var f=Array.prototype.slice.call(d.childNodes),p=f.length,g=0;g<p;g++)u.appendChild(f[g]);n.appendChild(u),Dc({articlePhotoList:e.options.articlePhotoList.concat(c.photoList),articlePhotoSetList:e.options.articlePhotoSetList.concat(c.photoSetList),articleLiveList:e.options.articleLiveList.concat(c.liveList),articleVideoList:e.options.articleVideoList.concat(c.videoList),isPaid:!0}),(0,Ze.t)(),(0,a.X)(),(0,Rc.f)({callback:function(){return{trackData:{val_act:"article_extend_title",val_nm:y.QJ.exposure,info:e.getInfo()}}}}).observe(".js-extend-title")}else Dc(_u(_u({},e.options),{},{isPaid:!0}));r.isPurchased||t||e.initAbTest(),e.initPayCollect(),e.initRecommend()}else Dc(_u(_u({},e.options),{},{isPaid:!0})),(0,y.j)({val_act:"article_detail_error",val_nm:y.QJ.other,info:{msg:r.msg}});e.computePageCount()})),window.addEventListener("beforeunload",(function(){var t=document.documentElement,n=t.scrollTop,r=t.clientHeight,i=document.querySelector(".js-article-body"),o=document.querySelector(".js-extend-title"),a=0,s=0;if(i&&o){var l=i.offsetHeight,c=n+o.getBoundingClientRect().top,u=l-(c-(n+i.getBoundingClientRect().top));a=Math.ceil((n-c+r)/u*100),s=Math.ceil(u/r)}a<0&&(a=0),a>100&&(a=100),(0,y.LK)({val_act:"article_extend_progress",val_nm:y.QJ.other,info:_u(_u({},e.getInfo()),{},{custom_read_percent:a,custom_page_count:s,read_percent:a,page_count:s})})}))}},{key:"initVipBanner",value:function(){}},{key:"getBackUrl",value:function(){return"".concat(window.location.protocol,"//").concat(window.location.host,"/dy/article/").concat(this.options.docId,".html")}}]),r}(mu),Lu=Ke.ui,ku=Ke.articleRecommend,Au=Ke.rollingWord,Ou=Ke.commentInfo,Ru=Ke.commentHotList,Cu=Ke.commentNewList,Iu=Ke.loc,Du=Ke.topContent,Nu=Ke.articleDetial,Pu=Ke.order,Mu=Ke.login,Fu=Ke.simpleUserInfo,Bu=Ke.vipRecommend,Uu=Ke.vipGoods,ju=Ke.vipRecommendForFree,$u=Ke.rankRecommend,Gu=Ke.zxbRecommend,Hu=Ke.paidRecommend,Ku=Ke.distributorInfo,Vu=Ke.distributorManager,zu=Ke.paidDyRecommend,Zu=Ke.paidRecRecommend;if(function(t){var n=window.history,r=t||"/html/frontend/today-news-hotrank/index.html",i=window.location,o=i.protocol,a=i.host,s={title:"\u624b\u673a\u7f51\u6613\u7f51",url:"".concat(o,"//").concat(a).concat(r,"?from=history-back-list")};if(!e.I&&!e.Xe&&!e.ux&&!e.zS&&!e.z6&&n&&!e.m6){if(1===n.length){var l=window.location.href,c=document.title;n.replaceState({page:"list",creator:"history-back-list"},s.title,s.url),n.pushState({page:"article",creator:"history-back-list"},c,l)}window.onpopstate=function(t){t.state&&"history-back-list"===t.state.creator&&window.location.reload()}}}(Lu.isPaid?"/touch/story":void 0),(0,y.fz)({info:{type:Lu.isPaid?"pay":""}}),function(t){var e=(t||{}).errorSrc,n=void 0===e?"https://static.ws.126.net/163/frontend/images/2022/bg.png":e;document.addEventListener("error",(function(t){var e=t.target;if(function(t){return"IMG"===t.tagName}(e))if(e.classList.contains("image-reload"))e.classList.contains("js-img-error")||(e.src="https://static.ws.126.net/163/frontend/images/2022/empty.png",e.classList.add("js-img-error"),e.style.background="#e5e5e5 url(".concat(i,") center center/108px 17px no-repeat"));else if(e.classList.contains("image-placeholder")){var r="https://static.ws.126.net/163/frontend/images/2022/fail-0826.jpg";e.src!==r&&(e.src=r)}else e.classList.contains("image-error")&&e.src!==n&&(e.src=n)}),!0),(0,r.c)({type:"click",selector:"img.js-img-error",callback:function(t,e){var n=e;n.classList.remove("js-img-error");var r=n.dataset.src,a=void 0===r?"":r;n.style.background="#e5e5e5 url(".concat(o,") center center/24px 24px no-repeat");var s=new Image;s.src=a,s.onload=function(){n.style.background="transparent none",n.src=a},s.onerror=function(){n.style.background="#e5e5e5 url(".concat(i,") center center/108px 17px no-repeat"),n.classList.add("js-img-error")}}})}({errorSrc:Lu.isPaid?"https://static.ws.126.net/163/frontend/images/2023/bg-2023.png":void 0}),(0,a.w)({placeholder:Lu.isPaid?"https://static.ws.126.net/163/frontend/images/2023/bg-2023.png":void 0}),Lu.hideAd||(Lu.isPaid||Promise.all([n.e(65),n.e(770)]).then(n.bind(n,22770)).then((function(t){t.initAd({articleRecommend:ku,channel:Lu.channel,category:Lu.category,isPaid:Lu.isPaid})})),n.e(739).then(n.bind(n,57739)).then((function(t){t.initRecommend({recommend:ku,topicId:Lu.topicId,channel:Lu.channel,recommendList:Lu.recommendList,docId:Lu.docId,topContent:Du,isPaid:Lu.isPaid,zxbRecommend:Gu,rankRecommend:$u,paidRecommend:Hu,loc:Iu,paidDyRecommend:zu,paidRecRecommend:Zu})}))),n.e(956).then(n.bind(n,23956)).then((function(t){var e,n=Lu.isPaid?(e={login:Mu,simpleUserInfo:Fu,docId:Lu.docId},new nu(e)):void 0;t.initTopNav({rollingWord:Au,hideAd:Lu.hideAd,page:"article",isPaid:Lu.isPaid,loginDrawer:n})})),n.e(530).then(n.bind(n,58530)).then((function(t){t.initComment({commentInfo:Ou,docId:Lu.docId,commentHotList:Ru,commentNewList:Cu})})),n.e(369).then(n.bind(n,88369)).then((function(t){t.initFloatMenu()})),n.e(333).then(n.bind(n,24333)).then((function(t){t.initAsk()})),n.e(476).then(n.bind(n,76476)).then((function(t){t.initFeedback({docId:Lu.docId})})),e.I||e.C0||function(t){var n=t.docId;(0,Ze.$)({channels:["lite_wap_dl_3","lite_wap_dl_4","lite_wap_dl_5","lite_wap_dl_8","lite_wap_dl_11","lite_wap_dl_16","lite_wap_dl_28","news_sps_wap","news_wap_doclist","lite_wap_dl_18"],projectId:f.dl||"",modelid:n}).then((function(){window.openNewsapp&&(e.I||e.IX||e.L7||e.b9||(new ze({docId:n,trackData:{channel:"news_wap_doclist",mod:"articelFloat",val_act:"article_backflow_float"}}),(0,Ze.t)()))}))}({docId:Lu.docId}),Lu.furtherReadingId){var qu=jc({login:Mu,simpleUserInfo:Fu});xu={articleLiveList:Lu.articleLiveList,articlePhotoList:Lu.articlePhotoList,articlePhotoSetList:Lu.articlePhotoSetList,articleVideoList:Lu.articleVideoList,docId:Lu.furtherReadingId,articleDetial:Nu,order:Pu,login:Mu,loginDialog:qu,vipRecommend:Bu,vipGoods:Uu,hideAd:Lu.hideAd,simpleUserInfo:Fu,aliasDocId:Lu.furtherReadingId,spss:"163_".concat(Lu.furtherReadingType),rankRecommend:$u,referId:Lu.docId,referType:Lu.furtherReadingType,distributorManager:Vu},new Su(xu),Zc({docId:Lu.furtherReadingId,loginDialog:qu,login:Mu})}else if(Lu.isPaid){var Wu=jc({login:Mu,simpleUserInfo:Fu});!function(t){new mu(t)}({articleLiveList:Lu.articleLiveList,articlePhotoList:Lu.articlePhotoList,articlePhotoSetList:Lu.articlePhotoSetList,articleVideoList:Lu.articleVideoList,docId:Lu.docId,articleDetial:Nu,order:Pu,login:Mu,loginDialog:Wu,vipRecommend:Bu,vipGoods:Uu,hideAd:Lu.hideAd,simpleUserInfo:Fu,aliasDocId:Lu.aliasDocId,rankRecommend:$u,distributorManager:Vu}),Zc({docId:Lu.docId,loginDialog:Wu,login:Mu}),Promise.all([n.e(640),n.e(387)]).then(n.bind(n,84476)).then((function(t){t.initDistribution({articleDetial:Nu,distributorInfo:Ku,login:Mu,simpleUserInfo:Fu,distributorManager:Vu,aliasDocId:Lu.aliasDocId})}))}else Dc({articleLiveList:Lu.articleLiveList,articlePhotoList:Lu.articlePhotoList,articlePhotoSetList:Lu.articlePhotoSetList,articleVideoList:Lu.articleVideoList,isPaid:Lu.isPaid}),function(t){new vu(t)}({docId:Lu.docId,hideAd:Lu.hideAd,vipRecommendForFree:ju,loc:Iu,category:Lu.category});Lu.hideAd&&(0,y.j)({val_act:"article_hideAd",val_nm:y.QJ.other}),!Lu.furtherReadingId&&Lu.isPaid||n.e(201).then(n.bind(n,75201)).then((function(t){t.initShare()})),e.b9&&Promise.all([n.e(640),n.e(918)]).then(n.bind(n,79918)).then((function(t){t.initQrcode({path:"/doc/".concat(Lu.docId),spsc:"lite_wap_dl_26",spsmod:"wapQrcode"})})),!e.L7||Lu.hideAd||Lu.isPaid||n.e(874).then(n.bind(n,69874)).then((function(t){t.initTagWords(Lu.keywords)}))}()}();